function Cp(r,a){for(var l=0;l<a.length;l++){const d=a[l];if(typeof d!="string"&&!Array.isArray(d)){for(const p in d)if(p!=="default"&&!(p in r)){const x=Object.getOwnPropertyDescriptor(d,p);x&&Object.defineProperty(r,p,x.get?x:{enumerable:!0,get:()=>d[p]})}}}return Object.freeze(Object.defineProperty(r,Symbol.toStringTag,{value:"Module"}))}(function(){const a=document.createElement("link").relList;if(a&&a.supports&&a.supports("modulepreload"))return;for(const p of document.querySelectorAll('link[rel="modulepreload"]'))d(p);new MutationObserver(p=>{for(const x of p)if(x.type==="childList")for(const E of x.addedNodes)E.tagName==="LINK"&&E.rel==="modulepreload"&&d(E)}).observe(document,{childList:!0,subtree:!0});function l(p){const x={};return p.integrity&&(x.integrity=p.integrity),p.referrerPolicy&&(x.referrerPolicy=p.referrerPolicy),p.crossOrigin==="use-credentials"?x.credentials="include":p.crossOrigin==="anonymous"?x.credentials="omit":x.credentials="same-origin",x}function d(p){if(p.ep)return;p.ep=!0;const x=l(p);fetch(p.href,x)}})();var Yc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Eh(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}var yf={exports:{}},ml={},wf={exports:{}},Et={};var nm;function zw(){if(nm)return Et;nm=1;var r=Symbol.for("react.element"),a=Symbol.for("react.portal"),l=Symbol.for("react.fragment"),d=Symbol.for("react.strict_mode"),p=Symbol.for("react.profiler"),x=Symbol.for("react.provider"),E=Symbol.for("react.context"),C=Symbol.for("react.forward_ref"),v=Symbol.for("react.suspense"),w=Symbol.for("react.memo"),b=Symbol.for("react.lazy"),A=Symbol.iterator;function O(Z){return Z===null||typeof Z!="object"?null:(Z=A&&Z[A]||Z["@@iterator"],typeof Z=="function"?Z:null)}var P={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},F=Object.assign,R={};function L(Z,ue,Ge){this.props=Z,this.context=ue,this.refs=R,this.updater=Ge||P}L.prototype.isReactComponent={},L.prototype.setState=function(Z,ue){if(typeof Z!="object"&&typeof Z!="function"&&Z!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,Z,ue,"setState")},L.prototype.forceUpdate=function(Z){this.updater.enqueueForceUpdate(this,Z,"forceUpdate")};function G(){}G.prototype=L.prototype;function H(Z,ue,Ge){this.props=Z,this.context=ue,this.refs=R,this.updater=Ge||P}var V=H.prototype=new G;V.constructor=H,F(V,L.prototype),V.isPureReactComponent=!0;var K=Array.isArray,re=Object.prototype.hasOwnProperty,le={current:null},Q={key:!0,ref:!0,__self:!0,__source:!0};function fe(Z,ue,Ge){var Be,pt={},Se=null,Re=null;if(ue!=null)for(Be in ue.ref!==void 0&&(Re=ue.ref),ue.key!==void 0&&(Se=""+ue.key),ue)re.call(ue,Be)&&!Q.hasOwnProperty(Be)&&(pt[Be]=ue[Be]);var Me=arguments.length-2;if(Me===1)pt.children=Ge;else if(1<Me){for(var lt=Array(Me),dt=0;dt<Me;dt++)lt[dt]=arguments[dt+2];pt.children=lt}if(Z&&Z.defaultProps)for(Be in Me=Z.defaultProps,Me)pt[Be]===void 0&&(pt[Be]=Me[Be]);return{$$typeof:r,type:Z,key:Se,ref:Re,props:pt,_owner:le.current}}function se(Z,ue){return{$$typeof:r,type:Z.type,key:ue,ref:Z.ref,props:Z.props,_owner:Z._owner}}function Le(Z){return typeof Z=="object"&&Z!==null&&Z.$$typeof===r}function je(Z){var ue={"=":"=0",":":"=2"};return"$"+Z.replace(/[=:]/g,function(Ge){return ue[Ge]})}var de=/\/+/g;function Ie(Z,ue){return typeof Z=="object"&&Z!==null&&Z.key!=null?je(""+Z.key):ue.toString(36)}function he(Z,ue,Ge,Be,pt){var Se=typeof Z;(Se==="undefined"||Se==="boolean")&&(Z=null);var Re=!1;if(Z===null)Re=!0;else switch(Se){case"string":case"number":Re=!0;break;case"object":switch(Z.$$typeof){case r:case a:Re=!0}}if(Re)return Re=Z,pt=pt(Re),Z=Be===""?"."+Ie(Re,0):Be,K(pt)?(Ge="",Z!=null&&(Ge=Z.replace(de,"$&/")+"/"),he(pt,ue,Ge,"",function(dt){return dt})):pt!=null&&(Le(pt)&&(pt=se(pt,Ge+(!pt.key||Re&&Re.key===pt.key?"":(""+pt.key).replace(de,"$&/")+"/")+Z)),ue.push(pt)),1;if(Re=0,Be=Be===""?".":Be+":",K(Z))for(var Me=0;Me<Z.length;Me++){Se=Z[Me];var lt=Be+Ie(Se,Me);Re+=he(Se,ue,Ge,lt,pt)}else if(lt=O(Z),typeof lt=="function")for(Z=lt.call(Z),Me=0;!(Se=Z.next()).done;)Se=Se.value,lt=Be+Ie(Se,Me++),Re+=he(Se,ue,Ge,lt,pt);else if(Se==="object")throw ue=String(Z),Error("Objects are not valid as a React child (found: "+(ue==="[object Object]"?"object with keys {"+Object.keys(Z).join(", ")+"}":ue)+"). If you meant to render a collection of children, use an array instead.");return Re}function W(Z,ue,Ge){if(Z==null)return Z;var Be=[],pt=0;return he(Z,Be,"","",function(Se){return ue.call(Ge,Se,pt++)}),Be}function xe(Z){if(Z._status===-1){var ue=Z._result;ue=ue(),ue.then(function(Ge){(Z._status===0||Z._status===-1)&&(Z._status=1,Z._result=Ge)},function(Ge){(Z._status===0||Z._status===-1)&&(Z._status=2,Z._result=Ge)}),Z._status===-1&&(Z._status=0,Z._result=ue)}if(Z._status===1)return Z._result.default;throw Z._result}var me={current:null},ce={transition:null},ve={ReactCurrentDispatcher:me,ReactCurrentBatchConfig:ce,ReactCurrentOwner:le};function Ce(){throw Error("act(...) is not supported in production builds of React.")}return Et.Children={map:W,forEach:function(Z,ue,Ge){W(Z,function(){ue.apply(this,arguments)},Ge)},count:function(Z){var ue=0;return W(Z,function(){ue++}),ue},toArray:function(Z){return W(Z,function(ue){return ue})||[]},only:function(Z){if(!Le(Z))throw Error("React.Children.only expected to receive a single React element child.");return Z}},Et.Component=L,Et.Fragment=l,Et.Profiler=p,Et.PureComponent=H,Et.StrictMode=d,Et.Suspense=v,Et.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ve,Et.act=Ce,Et.cloneElement=function(Z,ue,Ge){if(Z==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+Z+".");var Be=F({},Z.props),pt=Z.key,Se=Z.ref,Re=Z._owner;if(ue!=null){if(ue.ref!==void 0&&(Se=ue.ref,Re=le.current),ue.key!==void 0&&(pt=""+ue.key),Z.type&&Z.type.defaultProps)var Me=Z.type.defaultProps;for(lt in ue)re.call(ue,lt)&&!Q.hasOwnProperty(lt)&&(Be[lt]=ue[lt]===void 0&&Me!==void 0?Me[lt]:ue[lt])}var lt=arguments.length-2;if(lt===1)Be.children=Ge;else if(1<lt){Me=Array(lt);for(var dt=0;dt<lt;dt++)Me[dt]=arguments[dt+2];Be.children=Me}return{$$typeof:r,type:Z.type,key:pt,ref:Se,props:Be,_owner:Re}},Et.createContext=function(Z){return Z={$$typeof:E,_currentValue:Z,_currentValue2:Z,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},Z.Provider={$$typeof:x,_context:Z},Z.Consumer=Z},Et.createElement=fe,Et.createFactory=function(Z){var ue=fe.bind(null,Z);return ue.type=Z,ue},Et.createRef=function(){return{current:null}},Et.forwardRef=function(Z){return{$$typeof:C,render:Z}},Et.isValidElement=Le,Et.lazy=function(Z){return{$$typeof:b,_payload:{_status:-1,_result:Z},_init:xe}},Et.memo=function(Z,ue){return{$$typeof:w,type:Z,compare:ue===void 0?null:ue}},Et.startTransition=function(Z){var ue=ce.transition;ce.transition={};try{Z()}finally{ce.transition=ue}},Et.unstable_act=Ce,Et.useCallback=function(Z,ue){return me.current.useCallback(Z,ue)},Et.useContext=function(Z){return me.current.useContext(Z)},Et.useDebugValue=function(){},Et.useDeferredValue=function(Z){return me.current.useDeferredValue(Z)},Et.useEffect=function(Z,ue){return me.current.useEffect(Z,ue)},Et.useId=function(){return me.current.useId()},Et.useImperativeHandle=function(Z,ue,Ge){return me.current.useImperativeHandle(Z,ue,Ge)},Et.useInsertionEffect=function(Z,ue){return me.current.useInsertionEffect(Z,ue)},Et.useLayoutEffect=function(Z,ue){return me.current.useLayoutEffect(Z,ue)},Et.useMemo=function(Z,ue){return me.current.useMemo(Z,ue)},Et.useReducer=function(Z,ue,Ge){return me.current.useReducer(Z,ue,Ge)},Et.useRef=function(Z){return me.current.useRef(Z)},Et.useState=function(Z){return me.current.useState(Z)},Et.useSyncExternalStore=function(Z,ue,Ge){return me.current.useSyncExternalStore(Z,ue,Ge)},Et.useTransition=function(){return me.current.useTransition()},Et.version="18.3.1",Et}var rm;function Su(){return rm||(rm=1,wf.exports=zw()),wf.exports}var sm;function Ww(){if(sm)return ml;sm=1;var r=Su(),a=Symbol.for("react.element"),l=Symbol.for("react.fragment"),d=Object.prototype.hasOwnProperty,p=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,x={key:!0,ref:!0,__self:!0,__source:!0};function E(C,v,w){var b,A={},O=null,P=null;w!==void 0&&(O=""+w),v.key!==void 0&&(O=""+v.key),v.ref!==void 0&&(P=v.ref);for(b in v)d.call(v,b)&&!x.hasOwnProperty(b)&&(A[b]=v[b]);if(C&&C.defaultProps)for(b in v=C.defaultProps,v)A[b]===void 0&&(A[b]=v[b]);return{$$typeof:a,type:C,key:O,ref:P,props:A,_owner:p.current}}return ml.Fragment=l,ml.jsx=E,ml.jsxs=E,ml}var im;function Gw(){return im||(im=1,yf.exports=Ww()),yf.exports}var s=Gw(),qc={},vf={exports:{}},jr={},Cf={exports:{}},Ef={};var om;function Xw(){return om||(om=1,(function(r){function a(ce,ve){var Ce=ce.length;ce.push(ve);e:for(;0<Ce;){var Z=Ce-1>>>1,ue=ce[Z];if(0<p(ue,ve))ce[Z]=ve,ce[Ce]=ue,Ce=Z;else break e}}function l(ce){return ce.length===0?null:ce[0]}function d(ce){if(ce.length===0)return null;var ve=ce[0],Ce=ce.pop();if(Ce!==ve){ce[0]=Ce;e:for(var Z=0,ue=ce.length,Ge=ue>>>1;Z<Ge;){var Be=2*(Z+1)-1,pt=ce[Be],Se=Be+1,Re=ce[Se];if(0>p(pt,Ce))Se<ue&&0>p(Re,pt)?(ce[Z]=Re,ce[Se]=Ce,Z=Se):(ce[Z]=pt,ce[Be]=Ce,Z=Be);else if(Se<ue&&0>p(Re,Ce))ce[Z]=Re,ce[Se]=Ce,Z=Se;else break e}}return ve}function p(ce,ve){var Ce=ce.sortIndex-ve.sortIndex;return Ce!==0?Ce:ce.id-ve.id}if(typeof performance=="object"&&typeof performance.now=="function"){var x=performance;r.unstable_now=function(){return x.now()}}else{var E=Date,C=E.now();r.unstable_now=function(){return E.now()-C}}var v=[],w=[],b=1,A=null,O=3,P=!1,F=!1,R=!1,L=typeof setTimeout=="function"?setTimeout:null,G=typeof clearTimeout=="function"?clearTimeout:null,H=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function V(ce){for(var ve=l(w);ve!==null;){if(ve.callback===null)d(w);else if(ve.startTime<=ce)d(w),ve.sortIndex=ve.expirationTime,a(v,ve);else break;ve=l(w)}}function K(ce){if(R=!1,V(ce),!F)if(l(v)!==null)F=!0,xe(re);else{var ve=l(w);ve!==null&&me(K,ve.startTime-ce)}}function re(ce,ve){F=!1,R&&(R=!1,G(fe),fe=-1),P=!0;var Ce=O;try{for(V(ve),A=l(v);A!==null&&(!(A.expirationTime>ve)||ce&&!je());){var Z=A.callback;if(typeof Z=="function"){A.callback=null,O=A.priorityLevel;var ue=Z(A.expirationTime<=ve);ve=r.unstable_now(),typeof ue=="function"?A.callback=ue:A===l(v)&&d(v),V(ve)}else d(v);A=l(v)}if(A!==null)var Ge=!0;else{var Be=l(w);Be!==null&&me(K,Be.startTime-ve),Ge=!1}return Ge}finally{A=null,O=Ce,P=!1}}var le=!1,Q=null,fe=-1,se=5,Le=-1;function je(){return!(r.unstable_now()-Le<se)}function de(){if(Q!==null){var ce=r.unstable_now();Le=ce;var ve=!0;try{ve=Q(!0,ce)}finally{ve?Ie():(le=!1,Q=null)}}else le=!1}var Ie;if(typeof H=="function")Ie=function(){H(de)};else if(typeof MessageChannel<"u"){var he=new MessageChannel,W=he.port2;he.port1.onmessage=de,Ie=function(){W.postMessage(null)}}else Ie=function(){L(de,0)};function xe(ce){Q=ce,le||(le=!0,Ie())}function me(ce,ve){fe=L(function(){ce(r.unstable_now())},ve)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(ce){ce.callback=null},r.unstable_continueExecution=function(){F||P||(F=!0,xe(re))},r.unstable_forceFrameRate=function(ce){0>ce||125<ce?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):se=0<ce?Math.floor(1e3/ce):5},r.unstable_getCurrentPriorityLevel=function(){return O},r.unstable_getFirstCallbackNode=function(){return l(v)},r.unstable_next=function(ce){switch(O){case 1:case 2:case 3:var ve=3;break;default:ve=O}var Ce=O;O=ve;try{return ce()}finally{O=Ce}},r.unstable_pauseExecution=function(){},r.unstable_requestPaint=function(){},r.unstable_runWithPriority=function(ce,ve){switch(ce){case 1:case 2:case 3:case 4:case 5:break;default:ce=3}var Ce=O;O=ce;try{return ve()}finally{O=Ce}},r.unstable_scheduleCallback=function(ce,ve,Ce){var Z=r.unstable_now();switch(typeof Ce=="object"&&Ce!==null?(Ce=Ce.delay,Ce=typeof Ce=="number"&&0<Ce?Z+Ce:Z):Ce=Z,ce){case 1:var ue=-1;break;case 2:ue=250;break;case 5:ue=1073741823;break;case 4:ue=1e4;break;default:ue=5e3}return ue=Ce+ue,ce={id:b++,callback:ve,priorityLevel:ce,startTime:Ce,expirationTime:ue,sortIndex:-1},Ce>Z?(ce.sortIndex=Ce,a(w,ce),l(v)===null&&ce===l(w)&&(R?(G(fe),fe=-1):R=!0,me(K,Ce-Z))):(ce.sortIndex=ue,a(v,ce),F||P||(F=!0,xe(re))),ce},r.unstable_shouldYield=je,r.unstable_wrapCallback=function(ce){var ve=O;return function(){var Ce=O;O=ve;try{return ce.apply(this,arguments)}finally{O=Ce}}}})(Ef)),Ef}var am;function Kw(){return am||(am=1,Cf.exports=Xw()),Cf.exports}var lm;function Yw(){if(lm)return jr;lm=1;var r=Su(),a=Kw();function l(t){for(var o="https://reactjs.org/docs/error-decoder.html?invariant="+t,h=1;h<arguments.length;h++)o+="&args[]="+encodeURIComponent(arguments[h]);return"Minified React error #"+t+"; visit "+o+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var d=new Set,p={};function x(t,o){E(t,o),E(t+"Capture",o)}function E(t,o){for(p[t]=o,t=0;t<o.length;t++)d.add(o[t])}var C=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),v=Object.prototype.hasOwnProperty,w=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,b={},A={};function O(t){return v.call(A,t)?!0:v.call(b,t)?!1:w.test(t)?A[t]=!0:(b[t]=!0,!1)}function P(t,o,h,g){if(h!==null&&h.type===0)return!1;switch(typeof o){case"function":case"symbol":return!0;case"boolean":return g?!1:h!==null?!h.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function F(t,o,h,g){if(o===null||typeof o>"u"||P(t,o,h,g))return!0;if(g)return!1;if(h!==null)switch(h.type){case 3:return!o;case 4:return o===!1;case 5:return isNaN(o);case 6:return isNaN(o)||1>o}return!1}function R(t,o,h,g,S,I,M){this.acceptsBooleans=o===2||o===3||o===4,this.attributeName=g,this.attributeNamespace=S,this.mustUseProperty=h,this.propertyName=t,this.type=o,this.sanitizeURL=I,this.removeEmptyString=M}var L={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){L[t]=new R(t,0,!1,t,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var o=t[0];L[o]=new R(o,1,!1,t[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(t){L[t]=new R(t,2,!1,t.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){L[t]=new R(t,2,!1,t,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){L[t]=new R(t,3,!1,t.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(t){L[t]=new R(t,3,!0,t,null,!1,!1)}),["capture","download"].forEach(function(t){L[t]=new R(t,4,!1,t,null,!1,!1)}),["cols","rows","size","span"].forEach(function(t){L[t]=new R(t,6,!1,t,null,!1,!1)}),["rowSpan","start"].forEach(function(t){L[t]=new R(t,5,!1,t.toLowerCase(),null,!1,!1)});var G=/[\-:]([a-z])/g;function H(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var o=t.replace(G,H);L[o]=new R(o,1,!1,t,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var o=t.replace(G,H);L[o]=new R(o,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(t){var o=t.replace(G,H);L[o]=new R(o,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(t){L[t]=new R(t,1,!1,t.toLowerCase(),null,!1,!1)}),L.xlinkHref=new R("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(t){L[t]=new R(t,1,!1,t.toLowerCase(),null,!0,!0)});function V(t,o,h,g){var S=L.hasOwnProperty(o)?L[o]:null;(S!==null?S.type!==0:g||!(2<o.length)||o[0]!=="o"&&o[0]!=="O"||o[1]!=="n"&&o[1]!=="N")&&(F(o,h,S,g)&&(h=null),g||S===null?O(o)&&(h===null?t.removeAttribute(o):t.setAttribute(o,""+h)):S.mustUseProperty?t[S.propertyName]=h===null?S.type===3?!1:"":h:(o=S.attributeName,g=S.attributeNamespace,h===null?t.removeAttribute(o):(S=S.type,h=S===3||S===4&&h===!0?"":""+h,g?t.setAttributeNS(g,o,h):t.setAttribute(o,h))))}var K=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,re=Symbol.for("react.element"),le=Symbol.for("react.portal"),Q=Symbol.for("react.fragment"),fe=Symbol.for("react.strict_mode"),se=Symbol.for("react.profiler"),Le=Symbol.for("react.provider"),je=Symbol.for("react.context"),de=Symbol.for("react.forward_ref"),Ie=Symbol.for("react.suspense"),he=Symbol.for("react.suspense_list"),W=Symbol.for("react.memo"),xe=Symbol.for("react.lazy"),me=Symbol.for("react.offscreen"),ce=Symbol.iterator;function ve(t){return t===null||typeof t!="object"?null:(t=ce&&t[ce]||t["@@iterator"],typeof t=="function"?t:null)}var Ce=Object.assign,Z;function ue(t){if(Z===void 0)try{throw Error()}catch(h){var o=h.stack.trim().match(/\n( *(at )?)/);Z=o&&o[1]||""}return`
`+Z+t}var Ge=!1;function Be(t,o){if(!t||Ge)return"";Ge=!0;var h=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(o)if(o=function(){throw Error()},Object.defineProperty(o.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(o,[])}catch(ae){var g=ae}Reflect.construct(t,[],o)}else{try{o.call()}catch(ae){g=ae}t.call(o.prototype)}else{try{throw Error()}catch(ae){g=ae}t()}}catch(ae){if(ae&&g&&typeof ae.stack=="string"){for(var S=ae.stack.split(`
`),I=g.stack.split(`
`),M=S.length-1,z=I.length-1;1<=M&&0<=z&&S[M]!==I[z];)z--;for(;1<=M&&0<=z;M--,z--)if(S[M]!==I[z]){if(M!==1||z!==1)do if(M--,z--,0>z||S[M]!==I[z]){var Y=`
`+S[M].replace(" at new "," at ");return t.displayName&&Y.includes("<anonymous>")&&(Y=Y.replace("<anonymous>",t.displayName)),Y}while(1<=M&&0<=z);break}}}finally{Ge=!1,Error.prepareStackTrace=h}return(t=t?t.displayName||t.name:"")?ue(t):""}function pt(t){switch(t.tag){case 5:return ue(t.type);case 16:return ue("Lazy");case 13:return ue("Suspense");case 19:return ue("SuspenseList");case 0:case 2:case 15:return t=Be(t.type,!1),t;case 11:return t=Be(t.type.render,!1),t;case 1:return t=Be(t.type,!0),t;default:return""}}function Se(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Q:return"Fragment";case le:return"Portal";case se:return"Profiler";case fe:return"StrictMode";case Ie:return"Suspense";case he:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case je:return(t.displayName||"Context")+".Consumer";case Le:return(t._context.displayName||"Context")+".Provider";case de:var o=t.render;return t=t.displayName,t||(t=o.displayName||o.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case W:return o=t.displayName||null,o!==null?o:Se(t.type)||"Memo";case xe:o=t._payload,t=t._init;try{return Se(t(o))}catch{}}return null}function Re(t){var o=t.type;switch(t.tag){case 24:return"Cache";case 9:return(o.displayName||"Context")+".Consumer";case 10:return(o._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=o.render,t=t.displayName||t.name||"",o.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return o;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Se(o);case 8:return o===fe?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof o=="function")return o.displayName||o.name||null;if(typeof o=="string")return o}return null}function Me(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function lt(t){var o=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(o==="checkbox"||o==="radio")}function dt(t){var o=lt(t)?"checked":"value",h=Object.getOwnPropertyDescriptor(t.constructor.prototype,o),g=""+t[o];if(!t.hasOwnProperty(o)&&typeof h<"u"&&typeof h.get=="function"&&typeof h.set=="function"){var S=h.get,I=h.set;return Object.defineProperty(t,o,{configurable:!0,get:function(){return S.call(this)},set:function(M){g=""+M,I.call(this,M)}}),Object.defineProperty(t,o,{enumerable:h.enumerable}),{getValue:function(){return g},setValue:function(M){g=""+M},stopTracking:function(){t._valueTracker=null,delete t[o]}}}}function mt(t){t._valueTracker||(t._valueTracker=dt(t))}function Bt(t){if(!t)return!1;var o=t._valueTracker;if(!o)return!0;var h=o.getValue(),g="";return t&&(g=lt(t)?t.checked?"true":"false":t.value),t=g,t!==h?(o.setValue(t),!0):!1}function it(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function Ln(t,o){var h=o.checked;return Ce({},o,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:h??t._wrapperState.initialChecked})}function Kn(t,o){var h=o.defaultValue==null?"":o.defaultValue,g=o.checked!=null?o.checked:o.defaultChecked;h=Me(o.value!=null?o.value:h),t._wrapperState={initialChecked:g,initialValue:h,controlled:o.type==="checkbox"||o.type==="radio"?o.checked!=null:o.value!=null}}function Kr(t,o){o=o.checked,o!=null&&V(t,"checked",o,!1)}function Jt(t,o){Kr(t,o);var h=Me(o.value),g=o.type;if(h!=null)g==="number"?(h===0&&t.value===""||t.value!=h)&&(t.value=""+h):t.value!==""+h&&(t.value=""+h);else if(g==="submit"||g==="reset"){t.removeAttribute("value");return}o.hasOwnProperty("value")?bt(t,o.type,h):o.hasOwnProperty("defaultValue")&&bt(t,o.type,Me(o.defaultValue)),o.checked==null&&o.defaultChecked!=null&&(t.defaultChecked=!!o.defaultChecked)}function Pt(t,o,h){if(o.hasOwnProperty("value")||o.hasOwnProperty("defaultValue")){var g=o.type;if(!(g!=="submit"&&g!=="reset"||o.value!==void 0&&o.value!==null))return;o=""+t._wrapperState.initialValue,h||o===t.value||(t.value=o),t.defaultValue=o}h=t.name,h!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,h!==""&&(t.name=h)}function bt(t,o,h){(o!=="number"||it(t.ownerDocument)!==t)&&(h==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+h&&(t.defaultValue=""+h))}var Es=Array.isArray;function Fe(t,o,h,g){if(t=t.options,o){o={};for(var S=0;S<h.length;S++)o["$"+h[S]]=!0;for(h=0;h<t.length;h++)S=o.hasOwnProperty("$"+t[h].value),t[h].selected!==S&&(t[h].selected=S),S&&g&&(t[h].defaultSelected=!0)}else{for(h=""+Me(h),o=null,S=0;S<t.length;S++){if(t[S].value===h){t[S].selected=!0,g&&(t[S].defaultSelected=!0);return}o!==null||t[S].disabled||(o=t[S])}o!==null&&(o.selected=!0)}}function ai(t,o){if(o.dangerouslySetInnerHTML!=null)throw Error(l(91));return Ce({},o,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function Ia(t,o){var h=o.value;if(h==null){if(h=o.children,o=o.defaultValue,h!=null){if(o!=null)throw Error(l(92));if(Es(h)){if(1<h.length)throw Error(l(93));h=h[0]}o=h}o==null&&(o=""),h=o}t._wrapperState={initialValue:Me(h)}}function Yr(t,o){var h=Me(o.value),g=Me(o.defaultValue);h!=null&&(h=""+h,h!==t.value&&(t.value=h),o.defaultValue==null&&t.defaultValue!==h&&(t.defaultValue=h)),g!=null&&(t.defaultValue=""+g)}function Io(t){var o=t.textContent;o===t._wrapperState.initialValue&&o!==""&&o!==null&&(t.value=o)}function vr(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function To(t,o){return t==null||t==="http://www.w3.org/1999/xhtml"?vr(o):t==="http://www.w3.org/2000/svg"&&o==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var Dr,Fn=(function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(o,h,g,S){MSApp.execUnsafeLocalFunction(function(){return t(o,h,g,S)})}:t})(function(t,o){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=o;else{for(Dr=Dr||document.createElement("div"),Dr.innerHTML="<svg>"+o.valueOf().toString()+"</svg>",o=Dr.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;o.firstChild;)t.appendChild(o.firstChild)}});function li(t,o){if(o){var h=t.firstChild;if(h&&h===t.lastChild&&h.nodeType===3){h.nodeValue=o;return}}t.textContent=o}var bs={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Qu=["Webkit","ms","Moz","O"];Object.keys(bs).forEach(function(t){Qu.forEach(function(o){o=o+t.charAt(0).toUpperCase()+t.substring(1),bs[o]=bs[t]})});function cn(t,o,h){return o==null||typeof o=="boolean"||o===""?"":h||typeof o!="number"||o===0||bs.hasOwnProperty(t)&&bs[t]?(""+o).trim():o+"px"}function Te(t,o){t=t.style;for(var h in o)if(o.hasOwnProperty(h)){var g=h.indexOf("--")===0,S=cn(h,o[h],g);h==="float"&&(h="cssFloat"),g?t.setProperty(h,S):t[h]=S}}var yn=Ce({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Ot(t,o){if(o){if(yn[t]&&(o.children!=null||o.dangerouslySetInnerHTML!=null))throw Error(l(137,t));if(o.dangerouslySetInnerHTML!=null){if(o.children!=null)throw Error(l(60));if(typeof o.dangerouslySetInnerHTML!="object"||!("__html"in o.dangerouslySetInnerHTML))throw Error(l(61))}if(o.style!=null&&typeof o.style!="object")throw Error(l(62))}}function Yt(t,o){if(t.indexOf("-")===-1)return typeof o.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Hs=null;function Wi(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var jo=null,Ct=null,Cr=null;function Ta(t){if(t=Ja(t)){if(typeof jo!="function")throw Error(l(280));var o=t.stateNode;o&&(o=cc(o),jo(t.stateNode,t.type,o))}}function ja(t){Ct?Cr?Cr.push(t):Cr=[t]:Ct=t}function Er(){if(Ct){var t=Ct,o=Cr;if(Cr=Ct=null,Ta(t),o)for(t=0;t<o.length;t++)Ta(o[t])}}function Ro(t,o){return t(o)}function In(){}var Ns=!1;function Gi(t,o,h){if(Ns)return t(o,h);Ns=!0;try{return Ro(t,o,h)}finally{Ns=!1,(Ct!==null||Cr!==null)&&(In(),Er())}}function nr(t,o){var h=t.stateNode;if(h===null)return null;var g=cc(h);if(g===null)return null;h=g[o];e:switch(o){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(g=!g.disabled)||(t=t.type,g=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!g;break e;default:t=!1}if(t)return null;if(h&&typeof h!="function")throw Error(l(231,o,typeof h));return h}var Ra=!1;if(C)try{var Mr={};Object.defineProperty(Mr,"passive",{get:function(){Ra=!0}}),window.addEventListener("test",Mr,Mr),window.removeEventListener("test",Mr,Mr)}catch{Ra=!1}function Oa(t,o,h,g,S,I,M,z,Y){var ae=Array.prototype.slice.call(arguments,3);try{o.apply(h,ae)}catch(we){this.onError(we)}}var Sn=!1,qr=null,Yn=!1,ke=null,ci={onError:function(t){Sn=!0,qr=t}};function _a(t,o,h,g,S,I,M,z,Y){Sn=!1,qr=null,Oa.apply(ci,arguments)}function rr(t,o,h,g,S,I,M,z,Y){if(_a.apply(this,arguments),Sn){if(Sn){var ae=qr;Sn=!1,qr=null}else throw Error(l(198));Yn||(Yn=!0,ke=ae)}}function br(t){var o=t,h=t;if(t.alternate)for(;o.return;)o=o.return;else{t=o;do o=t,(o.flags&4098)!==0&&(h=o.return),t=o.return;while(t)}return o.tag===3?h:null}function Xi(t){if(t.tag===13){var o=t.memoizedState;if(o===null&&(t=t.alternate,t!==null&&(o=t.memoizedState)),o!==null)return o.dehydrated}return null}function Ki(t){if(br(t)!==t)throw Error(l(188))}function Qr(t){var o=t.alternate;if(!o){if(o=br(t),o===null)throw Error(l(188));return o!==t?null:t}for(var h=t,g=o;;){var S=h.return;if(S===null)break;var I=S.alternate;if(I===null){if(g=S.return,g!==null){h=g;continue}break}if(S.child===I.child){for(I=S.child;I;){if(I===h)return Ki(S),t;if(I===g)return Ki(S),o;I=I.sibling}throw Error(l(188))}if(h.return!==g.return)h=S,g=I;else{for(var M=!1,z=S.child;z;){if(z===h){M=!0,h=S,g=I;break}if(z===g){M=!0,g=S,h=I;break}z=z.sibling}if(!M){for(z=I.child;z;){if(z===h){M=!0,h=I,g=S;break}if(z===g){M=!0,g=I,h=S;break}z=z.sibling}if(!M)throw Error(l(189))}}if(h.alternate!==g)throw Error(l(190))}if(h.tag!==3)throw Error(l(188));return h.stateNode.current===h?t:o}function Vl(t){return t=Qr(t),t!==null?zl(t):null}function zl(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var o=zl(t);if(o!==null)return o;t=t.sibling}return null}var kr=a.unstable_scheduleCallback,Bn=a.unstable_cancelCallback,qt=a.unstable_shouldYield,Wl=a.unstable_requestPaint,Mt=a.unstable_now,Da=a.unstable_getCurrentPriorityLevel,pe=a.unstable_ImmediatePriority,Gl=a.unstable_UserBlockingPriority,Gt=a.unstable_NormalPriority,ui=a.unstable_LowPriority,Xl=a.unstable_IdlePriority,It=null,gt=null;function Nt(t){if(gt&&typeof gt.onCommitFiberRoot=="function")try{gt.onCommitFiberRoot(It,t,void 0,(t.current.flags&128)===128)}catch{}}var mr=Math.clz32?Math.clz32:wn,Ma=Math.log,ka=Math.LN2;function wn(t){return t>>>=0,t===0?32:31-(Ma(t)/ka|0)|0}var Pr=64,Oo=4194304;function Xt(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function Lr(t,o){var h=t.pendingLanes;if(h===0)return 0;var g=0,S=t.suspendedLanes,I=t.pingedLanes,M=h&268435455;if(M!==0){var z=M&~S;z!==0?g=Xt(z):(I&=M,I!==0&&(g=Xt(I)))}else M=h&~S,M!==0?g=Xt(M):I!==0&&(g=Xt(I));if(g===0)return 0;if(o!==0&&o!==g&&(o&S)===0&&(S=g&-g,I=o&-o,S>=I||S===16&&(I&4194240)!==0))return o;if((g&4)!==0&&(g|=h&16),o=t.entangledLanes,o!==0)for(t=t.entanglements,o&=g;0<o;)h=31-mr(o),S=1<<h,g|=t[h],o&=~S;return g}function Zu(t,o){switch(t){case 1:case 2:case 4:return o+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return o+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function di(t,o){for(var h=t.suspendedLanes,g=t.pingedLanes,S=t.expirationTimes,I=t.pendingLanes;0<I;){var M=31-mr(I),z=1<<M,Y=S[M];Y===-1?((z&h)===0||(z&g)!==0)&&(S[M]=Zu(z,o)):Y<=o&&(t.expiredLanes|=z),I&=~z}}function kt(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function Tn(){var t=Pr;return Pr<<=1,(Pr&4194240)===0&&(Pr=64),t}function ee(t){for(var o=[],h=0;31>h;h++)o.push(t);return o}function B(t,o,h){t.pendingLanes|=o,o!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,o=31-mr(o),t[o]=h}function Ye(t,o){var h=t.pendingLanes&~o;t.pendingLanes=o,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=o,t.mutableReadLanes&=o,t.entangledLanes&=o,o=t.entanglements;var g=t.eventTimes;for(t=t.expirationTimes;0<h;){var S=31-mr(h),I=1<<S;o[S]=0,g[S]=-1,t[S]=-1,h&=~I}}function hn(t,o){var h=t.entangledLanes|=o;for(t=t.entanglements;h;){var g=31-mr(h),S=1<<g;S&o|t[g]&o&&(t[g]|=o),h&=~S}}var yt=0;function Kl(t){return t&=-t,1<t?4<t?(t&268435455)!==0?16:536870912:4:1}var _o,sr,Qe,Qt,Pa,La=!1,fi=[],Fr=null,Zr=null,Ss=null,an=new Map,as=new Map,qn=[],nt="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Yl(t,o){switch(t){case"focusin":case"focusout":Fr=null;break;case"dragenter":case"dragleave":Zr=null;break;case"mouseover":case"mouseout":Ss=null;break;case"pointerover":case"pointerout":an.delete(o.pointerId);break;case"gotpointercapture":case"lostpointercapture":as.delete(o.pointerId)}}function ct(t,o,h,g,S,I){return t===null||t.nativeEvent!==I?(t={blockedOn:o,domEventName:h,eventSystemFlags:g,nativeEvent:I,targetContainers:[S]},o!==null&&(o=Ja(o),o!==null&&sr(o)),t):(t.eventSystemFlags|=g,o=t.targetContainers,S!==null&&o.indexOf(S)===-1&&o.push(S),t)}function jn(t,o,h,g,S){switch(o){case"focusin":return Fr=ct(Fr,t,o,h,g,S),!0;case"dragenter":return Zr=ct(Zr,t,o,h,g,S),!0;case"mouseover":return Ss=ct(Ss,t,o,h,g,S),!0;case"pointerover":var I=S.pointerId;return an.set(I,ct(an.get(I)||null,t,o,h,g,S)),!0;case"gotpointercapture":return I=S.pointerId,as.set(I,ct(as.get(I)||null,t,o,h,g,S)),!0}return!1}function ql(t){var o=ro(t.target);if(o!==null){var h=br(o);if(h!==null){if(o=h.tag,o===13){if(o=Xi(h),o!==null){t.blockedOn=o,Pa(t.priority,function(){Qe(h)});return}}else if(o===3&&h.stateNode.current.memoizedState.isDehydrated){t.blockedOn=h.tag===3?h.stateNode.containerInfo:null;return}}}t.blockedOn=null}function hi(t){if(t.blockedOn!==null)return!1;for(var o=t.targetContainers;0<o.length;){var h=Do(t.domEventName,t.eventSystemFlags,o[0],t.nativeEvent);if(h===null){h=t.nativeEvent;var g=new h.constructor(h.type,h);Hs=g,h.target.dispatchEvent(g),Hs=null}else return o=Ja(h),o!==null&&sr(o),t.blockedOn=h,!1;o.shift()}return!0}function Fa(t,o,h){hi(t)&&h.delete(o)}function Vs(){La=!1,Fr!==null&&hi(Fr)&&(Fr=null),Zr!==null&&hi(Zr)&&(Zr=null),Ss!==null&&hi(Ss)&&(Ss=null),an.forEach(Fa),as.forEach(Fa)}function Yi(t,o){t.blockedOn===o&&(t.blockedOn=null,La||(La=!0,a.unstable_scheduleCallback(a.unstable_NormalPriority,Vs)))}function ls(t){function o(S){return Yi(S,t)}if(0<fi.length){Yi(fi[0],t);for(var h=1;h<fi.length;h++){var g=fi[h];g.blockedOn===t&&(g.blockedOn=null)}}for(Fr!==null&&Yi(Fr,t),Zr!==null&&Yi(Zr,t),Ss!==null&&Yi(Ss,t),an.forEach(o),as.forEach(o),h=0;h<qn.length;h++)g=qn[h],g.blockedOn===t&&(g.blockedOn=null);for(;0<qn.length&&(h=qn[0],h.blockedOn===null);)ql(h),h.blockedOn===null&&qn.shift()}var $r=K.ReactCurrentBatchConfig,As=!0;function Ql(t,o,h,g){var S=yt,I=$r.transition;$r.transition=null;try{yt=1,zs(t,o,h,g)}finally{yt=S,$r.transition=I}}function qi(t,o,h,g){var S=yt,I=$r.transition;$r.transition=null;try{yt=4,zs(t,o,h,g)}finally{yt=S,$r.transition=I}}function zs(t,o,h,g){if(As){var S=Do(t,o,h,g);if(S===null)ad(t,o,g,Rn,h),Yl(t,g);else if(jn(S,t,o,h,g))g.stopPropagation();else if(Yl(t,g),o&4&&-1<nt.indexOf(t)){for(;S!==null;){var I=Ja(S);if(I!==null&&_o(I),I=Do(t,o,h,g),I===null&&ad(t,o,g,Rn,h),I===S)break;S=I}S!==null&&g.stopPropagation()}else ad(t,o,g,null,h)}}var Rn=null;function Do(t,o,h,g){if(Rn=null,t=Wi(g),t=ro(t),t!==null)if(o=br(t),o===null)t=null;else if(h=o.tag,h===13){if(t=Xi(o),t!==null)return t;t=null}else if(h===3){if(o.stateNode.current.memoizedState.isDehydrated)return o.tag===3?o.stateNode.containerInfo:null;t=null}else o!==t&&(t=null);return Rn=t,null}function Ba(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Da()){case pe:return 1;case Gl:return 4;case Gt:case ui:return 16;case Xl:return 536870912;default:return 16}default:return 16}}var cs=null,Ua=null,Mo=null;function Zl(){if(Mo)return Mo;var t,o=Ua,h=o.length,g,S="value"in cs?cs.value:cs.textContent,I=S.length;for(t=0;t<h&&o[t]===S[t];t++);var M=h-t;for(g=1;g<=M&&o[h-g]===S[I-g];g++);return Mo=S.slice(t,1<g?1-g:void 0)}function Tt(t){var o=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&o===13&&(t=13)):t=o,t===10&&(t=13),32<=t||t===13?t:0}function Qi(){return!0}function Zi(){return!1}function mn(t){function o(h,g,S,I,M){this._reactName=h,this._targetInst=S,this.type=g,this.nativeEvent=I,this.target=M,this.currentTarget=null;for(var z in t)t.hasOwnProperty(z)&&(h=t[z],this[z]=h?h(I):I[z]);return this.isDefaultPrevented=(I.defaultPrevented!=null?I.defaultPrevented:I.returnValue===!1)?Qi:Zi,this.isPropagationStopped=Zi,this}return Ce(o.prototype,{preventDefault:function(){this.defaultPrevented=!0;var h=this.nativeEvent;h&&(h.preventDefault?h.preventDefault():typeof h.returnValue!="unknown"&&(h.returnValue=!1),this.isDefaultPrevented=Qi)},stopPropagation:function(){var h=this.nativeEvent;h&&(h.stopPropagation?h.stopPropagation():typeof h.cancelBubble!="unknown"&&(h.cancelBubble=!0),this.isPropagationStopped=Qi)},persist:function(){},isPersistent:Qi}),o}var mi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},oe=mn(mi),ft=Ce({},mi,{view:0,detail:0}),On=mn(ft),pi,ko,$i,Po=Ce({},ft,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ji,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==$i&&($i&&t.type==="mousemove"?(pi=t.screenX-$i.screenX,ko=t.screenY-$i.screenY):ko=pi=0,$i=t),pi)},movementY:function(t){return"movementY"in t?t.movementY:ko}}),$l=mn(Po),Ha=Ce({},Po,{dataTransfer:0}),vn=mn(Ha),Va=Ce({},ft,{relatedTarget:0}),Zt=mn(Va),Lo=Ce({},mi,{animationName:0,elapsedTime:0,pseudoElement:0}),Ws=mn(Lo),Lt=Ce({},mi,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),$e=mn(Lt),$u=Ce({},mi,{data:0}),Ut=mn($u),Gs={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},xi={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Ju={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Jr(t){var o=this.nativeEvent;return o.getModifierState?o.getModifierState(t):(t=Ju[t])?!!o[t]:!1}function Ji(){return Jr}var Jl=Ce({},ft,{key:function(t){if(t.key){var o=Gs[t.key]||t.key;if(o!=="Unidentified")return o}return t.type==="keypress"?(t=Tt(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?xi[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ji,charCode:function(t){return t.type==="keypress"?Tt(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Tt(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),za=mn(Jl),ec=Ce({},Po,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Wa=mn(ec),ed=Ce({},ft,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ji}),gi=mn(ed),Ga=Ce({},mi,{propertyName:0,elapsedTime:0,pseudoElement:0}),td=mn(Ga),eo=Ce({},Po,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),nd=mn(eo),Is=[9,13,27,32],yi=C&&"CompositionEvent"in window,Un=null;C&&"documentMode"in document&&(Un=document.documentMode);var tc=C&&"TextEvent"in window&&!Un,Br=C&&(!yi||Un&&8<Un&&11>=Un),nc=" ",Fo=!1;function rc(t,o){switch(t){case"keyup":return Is.indexOf(o.keyCode)!==-1;case"keydown":return o.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Xa(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Qn=!1;function rd(t,o){switch(t){case"compositionend":return Xa(o);case"keypress":return o.which!==32?null:(Fo=!0,nc);case"textInput":return t=o.data,t===nc&&Fo?null:t;default:return null}}function Ka(t,o){if(Qn)return t==="compositionend"||!yi&&rc(t,o)?(t=Zl(),Mo=Ua=cs=null,Qn=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(o.ctrlKey||o.altKey||o.metaKey)||o.ctrlKey&&o.altKey){if(o.char&&1<o.char.length)return o.char;if(o.which)return String.fromCharCode(o.which)}return null;case"compositionend":return Br&&o.locale!=="ko"?null:o.data;default:return null}}var to={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function At(t){var o=t&&t.nodeName&&t.nodeName.toLowerCase();return o==="input"?!!to[t.type]:o==="textarea"}function no(t,o,h,g){ja(g),o=oc(o,"onChange"),0<o.length&&(h=new oe("onChange","change",null,h,g),t.push({event:h,listeners:o}))}var _=null,e=null;function n(t){y1(t,0)}function i(t){var o=Ho(t);if(Bt(o))return t}function c(t,o){if(t==="change")return o}var u=!1;if(C){var f;if(C){var m="oninput"in document;if(!m){var y=document.createElement("div");y.setAttribute("oninput","return;"),m=typeof y.oninput=="function"}f=m}else f=!1;u=f&&(!document.documentMode||9<document.documentMode)}function N(){_&&(_.detachEvent("onpropertychange",j),e=_=null)}function j(t){if(t.propertyName==="value"&&i(e)){var o=[];no(o,e,t,Wi(t)),Gi(n,o)}}function D(t,o,h){t==="focusin"?(N(),_=o,e=h,_.attachEvent("onpropertychange",j)):t==="focusout"&&N()}function k(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return i(e)}function U(t,o){if(t==="click")return i(o)}function X(t,o){if(t==="input"||t==="change")return i(o)}function q(t,o){return t===o&&(t!==0||1/t===1/o)||t!==t&&o!==o}var J=typeof Object.is=="function"?Object.is:q;function ie(t,o){if(J(t,o))return!0;if(typeof t!="object"||t===null||typeof o!="object"||o===null)return!1;var h=Object.keys(t),g=Object.keys(o);if(h.length!==g.length)return!1;for(g=0;g<h.length;g++){var S=h[g];if(!v.call(o,S)||!J(t[S],o[S]))return!1}return!0}function be(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Ne(t,o){var h=be(t);t=0;for(var g;h;){if(h.nodeType===3){if(g=t+h.textContent.length,t<=o&&g>=o)return{node:h,offset:o-t};t=g}e:{for(;h;){if(h.nextSibling){h=h.nextSibling;break e}h=h.parentNode}h=void 0}h=be(h)}}function ye(t,o){return t&&o?t===o?!0:t&&t.nodeType===3?!1:o&&o.nodeType===3?ye(t,o.parentNode):"contains"in t?t.contains(o):t.compareDocumentPosition?!!(t.compareDocumentPosition(o)&16):!1:!1}function vt(){for(var t=window,o=it();o instanceof t.HTMLIFrameElement;){try{var h=typeof o.contentWindow.location.href=="string"}catch{h=!1}if(h)t=o.contentWindow;else break;o=it(t.document)}return o}function ut(t){var o=t&&t.nodeName&&t.nodeName.toLowerCase();return o&&(o==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||o==="textarea"||t.contentEditable==="true")}function ir(t){var o=vt(),h=t.focusedElem,g=t.selectionRange;if(o!==h&&h&&h.ownerDocument&&ye(h.ownerDocument.documentElement,h)){if(g!==null&&ut(h)){if(o=g.start,t=g.end,t===void 0&&(t=o),"selectionStart"in h)h.selectionStart=o,h.selectionEnd=Math.min(t,h.value.length);else if(t=(o=h.ownerDocument||document)&&o.defaultView||window,t.getSelection){t=t.getSelection();var S=h.textContent.length,I=Math.min(g.start,S);g=g.end===void 0?I:Math.min(g.end,S),!t.extend&&I>g&&(S=g,g=I,I=S),S=Ne(h,I);var M=Ne(h,g);S&&M&&(t.rangeCount!==1||t.anchorNode!==S.node||t.anchorOffset!==S.offset||t.focusNode!==M.node||t.focusOffset!==M.offset)&&(o=o.createRange(),o.setStart(S.node,S.offset),t.removeAllRanges(),I>g?(t.addRange(o),t.extend(M.node,M.offset)):(o.setEnd(M.node,M.offset),t.addRange(o)))}}for(o=[],t=h;t=t.parentNode;)t.nodeType===1&&o.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof h.focus=="function"&&h.focus(),h=0;h<o.length;h++)t=o[h],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var Ur=C&&"documentMode"in document&&11>=document.documentMode,Cn=null,_t=null,un=null,Zn=!1;function Xs(t,o,h){var g=h.window===h?h.document:h.nodeType===9?h:h.ownerDocument;Zn||Cn==null||Cn!==it(g)||(g=Cn,"selectionStart"in g&&ut(g)?g={start:g.selectionStart,end:g.selectionEnd}:(g=(g.ownerDocument&&g.ownerDocument.defaultView||window).getSelection(),g={anchorNode:g.anchorNode,anchorOffset:g.anchorOffset,focusNode:g.focusNode,focusOffset:g.focusOffset}),un&&ie(un,g)||(un=g,g=oc(_t,"onSelect"),0<g.length&&(o=new oe("onSelect","select",null,o,h),t.push({event:o,listeners:g}),o.target=Cn)))}function us(t,o){var h={};return h[t.toLowerCase()]=o.toLowerCase(),h["Webkit"+t]="webkit"+o,h["Moz"+t]="moz"+o,h}var wi={animationend:us("Animation","AnimationEnd"),animationiteration:us("Animation","AnimationIteration"),animationstart:us("Animation","AnimationStart"),transitionend:us("Transition","TransitionEnd")},Ya={},u1={};C&&(u1=document.createElement("div").style,"AnimationEvent"in window||(delete wi.animationend.animation,delete wi.animationiteration.animation,delete wi.animationstart.animation),"TransitionEvent"in window||delete wi.transitionend.transition);function sc(t){if(Ya[t])return Ya[t];if(!wi[t])return t;var o=wi[t],h;for(h in o)if(o.hasOwnProperty(h)&&h in u1)return Ya[t]=o[h];return t}var d1=sc("animationend"),f1=sc("animationiteration"),h1=sc("animationstart"),m1=sc("transitionend"),p1=new Map,x1="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function vi(t,o){p1.set(t,o),x(o,[t])}for(var sd=0;sd<x1.length;sd++){var id=x1[sd],$y=id.toLowerCase(),Jy=id[0].toUpperCase()+id.slice(1);vi($y,"on"+Jy)}vi(d1,"onAnimationEnd"),vi(f1,"onAnimationIteration"),vi(h1,"onAnimationStart"),vi("dblclick","onDoubleClick"),vi("focusin","onFocus"),vi("focusout","onBlur"),vi(m1,"onTransitionEnd"),E("onMouseEnter",["mouseout","mouseover"]),E("onMouseLeave",["mouseout","mouseover"]),E("onPointerEnter",["pointerout","pointerover"]),E("onPointerLeave",["pointerout","pointerover"]),x("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),x("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),x("onBeforeInput",["compositionend","keypress","textInput","paste"]),x("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),x("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),x("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var qa="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),ew=new Set("cancel close invalid load scroll toggle".split(" ").concat(qa));function g1(t,o,h){var g=t.type||"unknown-event";t.currentTarget=h,rr(g,o,void 0,t),t.currentTarget=null}function y1(t,o){o=(o&4)!==0;for(var h=0;h<t.length;h++){var g=t[h],S=g.event;g=g.listeners;e:{var I=void 0;if(o)for(var M=g.length-1;0<=M;M--){var z=g[M],Y=z.instance,ae=z.currentTarget;if(z=z.listener,Y!==I&&S.isPropagationStopped())break e;g1(S,z,ae),I=Y}else for(M=0;M<g.length;M++){if(z=g[M],Y=z.instance,ae=z.currentTarget,z=z.listener,Y!==I&&S.isPropagationStopped())break e;g1(S,z,ae),I=Y}}}if(Yn)throw t=ke,Yn=!1,ke=null,t}function en(t,o){var h=o[hd];h===void 0&&(h=o[hd]=new Set);var g=t+"__bubble";h.has(g)||(w1(o,t,2,!1),h.add(g))}function od(t,o,h){var g=0;o&&(g|=4),w1(h,t,g,o)}var ic="_reactListening"+Math.random().toString(36).slice(2);function Qa(t){if(!t[ic]){t[ic]=!0,d.forEach(function(h){h!=="selectionchange"&&(ew.has(h)||od(h,!1,t),od(h,!0,t))});var o=t.nodeType===9?t:t.ownerDocument;o===null||o[ic]||(o[ic]=!0,od("selectionchange",!1,o))}}function w1(t,o,h,g){switch(Ba(o)){case 1:var S=Ql;break;case 4:S=qi;break;default:S=zs}h=S.bind(null,o,h,t),S=void 0,!Ra||o!=="touchstart"&&o!=="touchmove"&&o!=="wheel"||(S=!0),g?S!==void 0?t.addEventListener(o,h,{capture:!0,passive:S}):t.addEventListener(o,h,!0):S!==void 0?t.addEventListener(o,h,{passive:S}):t.addEventListener(o,h,!1)}function ad(t,o,h,g,S){var I=g;if((o&1)===0&&(o&2)===0&&g!==null)e:for(;;){if(g===null)return;var M=g.tag;if(M===3||M===4){var z=g.stateNode.containerInfo;if(z===S||z.nodeType===8&&z.parentNode===S)break;if(M===4)for(M=g.return;M!==null;){var Y=M.tag;if((Y===3||Y===4)&&(Y=M.stateNode.containerInfo,Y===S||Y.nodeType===8&&Y.parentNode===S))return;M=M.return}for(;z!==null;){if(M=ro(z),M===null)return;if(Y=M.tag,Y===5||Y===6){g=I=M;continue e}z=z.parentNode}}g=g.return}Gi(function(){var ae=I,we=Wi(h),Ee=[];e:{var ge=p1.get(t);if(ge!==void 0){var Pe=oe,ze=t;switch(t){case"keypress":if(Tt(h)===0)break e;case"keydown":case"keyup":Pe=za;break;case"focusin":ze="focus",Pe=Zt;break;case"focusout":ze="blur",Pe=Zt;break;case"beforeblur":case"afterblur":Pe=Zt;break;case"click":if(h.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Pe=$l;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Pe=vn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Pe=gi;break;case d1:case f1:case h1:Pe=Ws;break;case m1:Pe=td;break;case"scroll":Pe=On;break;case"wheel":Pe=nd;break;case"copy":case"cut":case"paste":Pe=$e;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Pe=Wa}var We=(o&4)!==0,En=!We&&t==="scroll",te=We?ge!==null?ge+"Capture":null:ge;We=[];for(var $=ae,ne;$!==null;){ne=$;var Ae=ne.stateNode;if(ne.tag===5&&Ae!==null&&(ne=Ae,te!==null&&(Ae=nr($,te),Ae!=null&&We.push(Za($,Ae,ne)))),En)break;$=$.return}0<We.length&&(ge=new Pe(ge,ze,null,h,we),Ee.push({event:ge,listeners:We}))}}if((o&7)===0){e:{if(ge=t==="mouseover"||t==="pointerover",Pe=t==="mouseout"||t==="pointerout",ge&&h!==Hs&&(ze=h.relatedTarget||h.fromElement)&&(ro(ze)||ze[Ks]))break e;if((Pe||ge)&&(ge=we.window===we?we:(ge=we.ownerDocument)?ge.defaultView||ge.parentWindow:window,Pe?(ze=h.relatedTarget||h.toElement,Pe=ae,ze=ze?ro(ze):null,ze!==null&&(En=br(ze),ze!==En||ze.tag!==5&&ze.tag!==6)&&(ze=null)):(Pe=null,ze=ae),Pe!==ze)){if(We=$l,Ae="onMouseLeave",te="onMouseEnter",$="mouse",(t==="pointerout"||t==="pointerover")&&(We=Wa,Ae="onPointerLeave",te="onPointerEnter",$="pointer"),En=Pe==null?ge:Ho(Pe),ne=ze==null?ge:Ho(ze),ge=new We(Ae,$+"leave",Pe,h,we),ge.target=En,ge.relatedTarget=ne,Ae=null,ro(we)===ae&&(We=new We(te,$+"enter",ze,h,we),We.target=ne,We.relatedTarget=En,Ae=We),En=Ae,Pe&&ze)t:{for(We=Pe,te=ze,$=0,ne=We;ne;ne=Bo(ne))$++;for(ne=0,Ae=te;Ae;Ae=Bo(Ae))ne++;for(;0<$-ne;)We=Bo(We),$--;for(;0<ne-$;)te=Bo(te),ne--;for(;$--;){if(We===te||te!==null&&We===te.alternate)break t;We=Bo(We),te=Bo(te)}We=null}else We=null;Pe!==null&&v1(Ee,ge,Pe,We,!1),ze!==null&&En!==null&&v1(Ee,En,ze,We,!0)}}e:{if(ge=ae?Ho(ae):window,Pe=ge.nodeName&&ge.nodeName.toLowerCase(),Pe==="select"||Pe==="input"&&ge.type==="file")var Xe=c;else if(At(ge))if(u)Xe=X;else{Xe=k;var Je=D}else(Pe=ge.nodeName)&&Pe.toLowerCase()==="input"&&(ge.type==="checkbox"||ge.type==="radio")&&(Xe=U);if(Xe&&(Xe=Xe(t,ae))){no(Ee,Xe,h,we);break e}Je&&Je(t,ge,ae),t==="focusout"&&(Je=ge._wrapperState)&&Je.controlled&&ge.type==="number"&&bt(ge,"number",ge.value)}switch(Je=ae?Ho(ae):window,t){case"focusin":(At(Je)||Je.contentEditable==="true")&&(Cn=Je,_t=ae,un=null);break;case"focusout":un=_t=Cn=null;break;case"mousedown":Zn=!0;break;case"contextmenu":case"mouseup":case"dragend":Zn=!1,Xs(Ee,h,we);break;case"selectionchange":if(Ur)break;case"keydown":case"keyup":Xs(Ee,h,we)}var et;if(yi)e:{switch(t){case"compositionstart":var ot="onCompositionStart";break e;case"compositionend":ot="onCompositionEnd";break e;case"compositionupdate":ot="onCompositionUpdate";break e}ot=void 0}else Qn?rc(t,h)&&(ot="onCompositionEnd"):t==="keydown"&&h.keyCode===229&&(ot="onCompositionStart");ot&&(Br&&h.locale!=="ko"&&(Qn||ot!=="onCompositionStart"?ot==="onCompositionEnd"&&Qn&&(et=Zl()):(cs=we,Ua="value"in cs?cs.value:cs.textContent,Qn=!0)),Je=oc(ae,ot),0<Je.length&&(ot=new Ut(ot,t,null,h,we),Ee.push({event:ot,listeners:Je}),et?ot.data=et:(et=Xa(h),et!==null&&(ot.data=et)))),(et=tc?rd(t,h):Ka(t,h))&&(ae=oc(ae,"onBeforeInput"),0<ae.length&&(we=new Ut("onBeforeInput","beforeinput",null,h,we),Ee.push({event:we,listeners:ae}),we.data=et))}y1(Ee,o)})}function Za(t,o,h){return{instance:t,listener:o,currentTarget:h}}function oc(t,o){for(var h=o+"Capture",g=[];t!==null;){var S=t,I=S.stateNode;S.tag===5&&I!==null&&(S=I,I=nr(t,h),I!=null&&g.unshift(Za(t,I,S)),I=nr(t,o),I!=null&&g.push(Za(t,I,S))),t=t.return}return g}function Bo(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function v1(t,o,h,g,S){for(var I=o._reactName,M=[];h!==null&&h!==g;){var z=h,Y=z.alternate,ae=z.stateNode;if(Y!==null&&Y===g)break;z.tag===5&&ae!==null&&(z=ae,S?(Y=nr(h,I),Y!=null&&M.unshift(Za(h,Y,z))):S||(Y=nr(h,I),Y!=null&&M.push(Za(h,Y,z)))),h=h.return}M.length!==0&&t.push({event:o,listeners:M})}var tw=/\r\n?/g,nw=/\u0000|\uFFFD/g;function C1(t){return(typeof t=="string"?t:""+t).replace(tw,`
`).replace(nw,"")}function ac(t,o,h){if(o=C1(o),C1(t)!==o&&h)throw Error(l(425))}function lc(){}var ld=null,cd=null;function ud(t,o){return t==="textarea"||t==="noscript"||typeof o.children=="string"||typeof o.children=="number"||typeof o.dangerouslySetInnerHTML=="object"&&o.dangerouslySetInnerHTML!==null&&o.dangerouslySetInnerHTML.__html!=null}var dd=typeof setTimeout=="function"?setTimeout:void 0,rw=typeof clearTimeout=="function"?clearTimeout:void 0,E1=typeof Promise=="function"?Promise:void 0,sw=typeof queueMicrotask=="function"?queueMicrotask:typeof E1<"u"?function(t){return E1.resolve(null).then(t).catch(iw)}:dd;function iw(t){setTimeout(function(){throw t})}function fd(t,o){var h=o,g=0;do{var S=h.nextSibling;if(t.removeChild(h),S&&S.nodeType===8)if(h=S.data,h==="/$"){if(g===0){t.removeChild(S),ls(o);return}g--}else h!=="$"&&h!=="$?"&&h!=="$!"||g++;h=S}while(h);ls(o)}function Ci(t){for(;t!=null;t=t.nextSibling){var o=t.nodeType;if(o===1||o===3)break;if(o===8){if(o=t.data,o==="$"||o==="$!"||o==="$?")break;if(o==="/$")return null}}return t}function b1(t){t=t.previousSibling;for(var o=0;t;){if(t.nodeType===8){var h=t.data;if(h==="$"||h==="$!"||h==="$?"){if(o===0)return t;o--}else h==="/$"&&o++}t=t.previousSibling}return null}var Uo=Math.random().toString(36).slice(2),Ts="__reactFiber$"+Uo,$a="__reactProps$"+Uo,Ks="__reactContainer$"+Uo,hd="__reactEvents$"+Uo,ow="__reactListeners$"+Uo,aw="__reactHandles$"+Uo;function ro(t){var o=t[Ts];if(o)return o;for(var h=t.parentNode;h;){if(o=h[Ks]||h[Ts]){if(h=o.alternate,o.child!==null||h!==null&&h.child!==null)for(t=b1(t);t!==null;){if(h=t[Ts])return h;t=b1(t)}return o}t=h,h=t.parentNode}return null}function Ja(t){return t=t[Ts]||t[Ks],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Ho(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(l(33))}function cc(t){return t[$a]||null}var md=[],Vo=-1;function Ei(t){return{current:t}}function tn(t){0>Vo||(t.current=md[Vo],md[Vo]=null,Vo--)}function $t(t,o){Vo++,md[Vo]=t.current,t.current=o}var bi={},or=Ei(bi),Nr=Ei(!1),so=bi;function zo(t,o){var h=t.type.contextTypes;if(!h)return bi;var g=t.stateNode;if(g&&g.__reactInternalMemoizedUnmaskedChildContext===o)return g.__reactInternalMemoizedMaskedChildContext;var S={},I;for(I in h)S[I]=o[I];return g&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=o,t.__reactInternalMemoizedMaskedChildContext=S),S}function Sr(t){return t=t.childContextTypes,t!=null}function uc(){tn(Nr),tn(or)}function N1(t,o,h){if(or.current!==bi)throw Error(l(168));$t(or,o),$t(Nr,h)}function S1(t,o,h){var g=t.stateNode;if(o=o.childContextTypes,typeof g.getChildContext!="function")return h;g=g.getChildContext();for(var S in g)if(!(S in o))throw Error(l(108,Re(t)||"Unknown",S));return Ce({},h,g)}function dc(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||bi,so=or.current,$t(or,t),$t(Nr,Nr.current),!0}function A1(t,o,h){var g=t.stateNode;if(!g)throw Error(l(169));h?(t=S1(t,o,so),g.__reactInternalMemoizedMergedChildContext=t,tn(Nr),tn(or),$t(or,t)):tn(Nr),$t(Nr,h)}var Ys=null,fc=!1,pd=!1;function I1(t){Ys===null?Ys=[t]:Ys.push(t)}function lw(t){fc=!0,I1(t)}function Ni(){if(!pd&&Ys!==null){pd=!0;var t=0,o=yt;try{var h=Ys;for(yt=1;t<h.length;t++){var g=h[t];do g=g(!0);while(g!==null)}Ys=null,fc=!1}catch(S){throw Ys!==null&&(Ys=Ys.slice(t+1)),kr(pe,Ni),S}finally{yt=o,pd=!1}}return null}var Wo=[],Go=0,hc=null,mc=0,es=[],ts=0,io=null,qs=1,Qs="";function oo(t,o){Wo[Go++]=mc,Wo[Go++]=hc,hc=t,mc=o}function T1(t,o,h){es[ts++]=qs,es[ts++]=Qs,es[ts++]=io,io=t;var g=qs;t=Qs;var S=32-mr(g)-1;g&=~(1<<S),h+=1;var I=32-mr(o)+S;if(30<I){var M=S-S%5;I=(g&(1<<M)-1).toString(32),g>>=M,S-=M,qs=1<<32-mr(o)+S|h<<S|g,Qs=I+t}else qs=1<<I|h<<S|g,Qs=t}function xd(t){t.return!==null&&(oo(t,1),T1(t,1,0))}function gd(t){for(;t===hc;)hc=Wo[--Go],Wo[Go]=null,mc=Wo[--Go],Wo[Go]=null;for(;t===io;)io=es[--ts],es[ts]=null,Qs=es[--ts],es[ts]=null,qs=es[--ts],es[ts]=null}var Hr=null,Vr=null,ln=!1,ds=null;function j1(t,o){var h=is(5,null,null,0);h.elementType="DELETED",h.stateNode=o,h.return=t,o=t.deletions,o===null?(t.deletions=[h],t.flags|=16):o.push(h)}function R1(t,o){switch(t.tag){case 5:var h=t.type;return o=o.nodeType!==1||h.toLowerCase()!==o.nodeName.toLowerCase()?null:o,o!==null?(t.stateNode=o,Hr=t,Vr=Ci(o.firstChild),!0):!1;case 6:return o=t.pendingProps===""||o.nodeType!==3?null:o,o!==null?(t.stateNode=o,Hr=t,Vr=null,!0):!1;case 13:return o=o.nodeType!==8?null:o,o!==null?(h=io!==null?{id:qs,overflow:Qs}:null,t.memoizedState={dehydrated:o,treeContext:h,retryLane:1073741824},h=is(18,null,null,0),h.stateNode=o,h.return=t,t.child=h,Hr=t,Vr=null,!0):!1;default:return!1}}function yd(t){return(t.mode&1)!==0&&(t.flags&128)===0}function wd(t){if(ln){var o=Vr;if(o){var h=o;if(!R1(t,o)){if(yd(t))throw Error(l(418));o=Ci(h.nextSibling);var g=Hr;o&&R1(t,o)?j1(g,h):(t.flags=t.flags&-4097|2,ln=!1,Hr=t)}}else{if(yd(t))throw Error(l(418));t.flags=t.flags&-4097|2,ln=!1,Hr=t}}}function O1(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;Hr=t}function pc(t){if(t!==Hr)return!1;if(!ln)return O1(t),ln=!0,!1;var o;if((o=t.tag!==3)&&!(o=t.tag!==5)&&(o=t.type,o=o!=="head"&&o!=="body"&&!ud(t.type,t.memoizedProps)),o&&(o=Vr)){if(yd(t))throw _1(),Error(l(418));for(;o;)j1(t,o),o=Ci(o.nextSibling)}if(O1(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(l(317));e:{for(t=t.nextSibling,o=0;t;){if(t.nodeType===8){var h=t.data;if(h==="/$"){if(o===0){Vr=Ci(t.nextSibling);break e}o--}else h!=="$"&&h!=="$!"&&h!=="$?"||o++}t=t.nextSibling}Vr=null}}else Vr=Hr?Ci(t.stateNode.nextSibling):null;return!0}function _1(){for(var t=Vr;t;)t=Ci(t.nextSibling)}function Xo(){Vr=Hr=null,ln=!1}function vd(t){ds===null?ds=[t]:ds.push(t)}var cw=K.ReactCurrentBatchConfig;function el(t,o,h){if(t=h.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(h._owner){if(h=h._owner,h){if(h.tag!==1)throw Error(l(309));var g=h.stateNode}if(!g)throw Error(l(147,t));var S=g,I=""+t;return o!==null&&o.ref!==null&&typeof o.ref=="function"&&o.ref._stringRef===I?o.ref:(o=function(M){var z=S.refs;M===null?delete z[I]:z[I]=M},o._stringRef=I,o)}if(typeof t!="string")throw Error(l(284));if(!h._owner)throw Error(l(290,t))}return t}function xc(t,o){throw t=Object.prototype.toString.call(o),Error(l(31,t==="[object Object]"?"object with keys {"+Object.keys(o).join(", ")+"}":t))}function D1(t){var o=t._init;return o(t._payload)}function M1(t){function o(te,$){if(t){var ne=te.deletions;ne===null?(te.deletions=[$],te.flags|=16):ne.push($)}}function h(te,$){if(!t)return null;for(;$!==null;)o(te,$),$=$.sibling;return null}function g(te,$){for(te=new Map;$!==null;)$.key!==null?te.set($.key,$):te.set($.index,$),$=$.sibling;return te}function S(te,$){return te=_i(te,$),te.index=0,te.sibling=null,te}function I(te,$,ne){return te.index=ne,t?(ne=te.alternate,ne!==null?(ne=ne.index,ne<$?(te.flags|=2,$):ne):(te.flags|=2,$)):(te.flags|=1048576,$)}function M(te){return t&&te.alternate===null&&(te.flags|=2),te}function z(te,$,ne,Ae){return $===null||$.tag!==6?($=ff(ne,te.mode,Ae),$.return=te,$):($=S($,ne),$.return=te,$)}function Y(te,$,ne,Ae){var Xe=ne.type;return Xe===Q?we(te,$,ne.props.children,Ae,ne.key):$!==null&&($.elementType===Xe||typeof Xe=="object"&&Xe!==null&&Xe.$$typeof===xe&&D1(Xe)===$.type)?(Ae=S($,ne.props),Ae.ref=el(te,$,ne),Ae.return=te,Ae):(Ae=Uc(ne.type,ne.key,ne.props,null,te.mode,Ae),Ae.ref=el(te,$,ne),Ae.return=te,Ae)}function ae(te,$,ne,Ae){return $===null||$.tag!==4||$.stateNode.containerInfo!==ne.containerInfo||$.stateNode.implementation!==ne.implementation?($=hf(ne,te.mode,Ae),$.return=te,$):($=S($,ne.children||[]),$.return=te,$)}function we(te,$,ne,Ae,Xe){return $===null||$.tag!==7?($=po(ne,te.mode,Ae,Xe),$.return=te,$):($=S($,ne),$.return=te,$)}function Ee(te,$,ne){if(typeof $=="string"&&$!==""||typeof $=="number")return $=ff(""+$,te.mode,ne),$.return=te,$;if(typeof $=="object"&&$!==null){switch($.$$typeof){case re:return ne=Uc($.type,$.key,$.props,null,te.mode,ne),ne.ref=el(te,null,$),ne.return=te,ne;case le:return $=hf($,te.mode,ne),$.return=te,$;case xe:var Ae=$._init;return Ee(te,Ae($._payload),ne)}if(Es($)||ve($))return $=po($,te.mode,ne,null),$.return=te,$;xc(te,$)}return null}function ge(te,$,ne,Ae){var Xe=$!==null?$.key:null;if(typeof ne=="string"&&ne!==""||typeof ne=="number")return Xe!==null?null:z(te,$,""+ne,Ae);if(typeof ne=="object"&&ne!==null){switch(ne.$$typeof){case re:return ne.key===Xe?Y(te,$,ne,Ae):null;case le:return ne.key===Xe?ae(te,$,ne,Ae):null;case xe:return Xe=ne._init,ge(te,$,Xe(ne._payload),Ae)}if(Es(ne)||ve(ne))return Xe!==null?null:we(te,$,ne,Ae,null);xc(te,ne)}return null}function Pe(te,$,ne,Ae,Xe){if(typeof Ae=="string"&&Ae!==""||typeof Ae=="number")return te=te.get(ne)||null,z($,te,""+Ae,Xe);if(typeof Ae=="object"&&Ae!==null){switch(Ae.$$typeof){case re:return te=te.get(Ae.key===null?ne:Ae.key)||null,Y($,te,Ae,Xe);case le:return te=te.get(Ae.key===null?ne:Ae.key)||null,ae($,te,Ae,Xe);case xe:var Je=Ae._init;return Pe(te,$,ne,Je(Ae._payload),Xe)}if(Es(Ae)||ve(Ae))return te=te.get(ne)||null,we($,te,Ae,Xe,null);xc($,Ae)}return null}function ze(te,$,ne,Ae){for(var Xe=null,Je=null,et=$,ot=$=0,zn=null;et!==null&&ot<ne.length;ot++){et.index>ot?(zn=et,et=null):zn=et.sibling;var Rt=ge(te,et,ne[ot],Ae);if(Rt===null){et===null&&(et=zn);break}t&&et&&Rt.alternate===null&&o(te,et),$=I(Rt,$,ot),Je===null?Xe=Rt:Je.sibling=Rt,Je=Rt,et=zn}if(ot===ne.length)return h(te,et),ln&&oo(te,ot),Xe;if(et===null){for(;ot<ne.length;ot++)et=Ee(te,ne[ot],Ae),et!==null&&($=I(et,$,ot),Je===null?Xe=et:Je.sibling=et,Je=et);return ln&&oo(te,ot),Xe}for(et=g(te,et);ot<ne.length;ot++)zn=Pe(et,te,ot,ne[ot],Ae),zn!==null&&(t&&zn.alternate!==null&&et.delete(zn.key===null?ot:zn.key),$=I(zn,$,ot),Je===null?Xe=zn:Je.sibling=zn,Je=zn);return t&&et.forEach(function(Di){return o(te,Di)}),ln&&oo(te,ot),Xe}function We(te,$,ne,Ae){var Xe=ve(ne);if(typeof Xe!="function")throw Error(l(150));if(ne=Xe.call(ne),ne==null)throw Error(l(151));for(var Je=Xe=null,et=$,ot=$=0,zn=null,Rt=ne.next();et!==null&&!Rt.done;ot++,Rt=ne.next()){et.index>ot?(zn=et,et=null):zn=et.sibling;var Di=ge(te,et,Rt.value,Ae);if(Di===null){et===null&&(et=zn);break}t&&et&&Di.alternate===null&&o(te,et),$=I(Di,$,ot),Je===null?Xe=Di:Je.sibling=Di,Je=Di,et=zn}if(Rt.done)return h(te,et),ln&&oo(te,ot),Xe;if(et===null){for(;!Rt.done;ot++,Rt=ne.next())Rt=Ee(te,Rt.value,Ae),Rt!==null&&($=I(Rt,$,ot),Je===null?Xe=Rt:Je.sibling=Rt,Je=Rt);return ln&&oo(te,ot),Xe}for(et=g(te,et);!Rt.done;ot++,Rt=ne.next())Rt=Pe(et,te,ot,Rt.value,Ae),Rt!==null&&(t&&Rt.alternate!==null&&et.delete(Rt.key===null?ot:Rt.key),$=I(Rt,$,ot),Je===null?Xe=Rt:Je.sibling=Rt,Je=Rt);return t&&et.forEach(function(Vw){return o(te,Vw)}),ln&&oo(te,ot),Xe}function En(te,$,ne,Ae){if(typeof ne=="object"&&ne!==null&&ne.type===Q&&ne.key===null&&(ne=ne.props.children),typeof ne=="object"&&ne!==null){switch(ne.$$typeof){case re:e:{for(var Xe=ne.key,Je=$;Je!==null;){if(Je.key===Xe){if(Xe=ne.type,Xe===Q){if(Je.tag===7){h(te,Je.sibling),$=S(Je,ne.props.children),$.return=te,te=$;break e}}else if(Je.elementType===Xe||typeof Xe=="object"&&Xe!==null&&Xe.$$typeof===xe&&D1(Xe)===Je.type){h(te,Je.sibling),$=S(Je,ne.props),$.ref=el(te,Je,ne),$.return=te,te=$;break e}h(te,Je);break}else o(te,Je);Je=Je.sibling}ne.type===Q?($=po(ne.props.children,te.mode,Ae,ne.key),$.return=te,te=$):(Ae=Uc(ne.type,ne.key,ne.props,null,te.mode,Ae),Ae.ref=el(te,$,ne),Ae.return=te,te=Ae)}return M(te);case le:e:{for(Je=ne.key;$!==null;){if($.key===Je)if($.tag===4&&$.stateNode.containerInfo===ne.containerInfo&&$.stateNode.implementation===ne.implementation){h(te,$.sibling),$=S($,ne.children||[]),$.return=te,te=$;break e}else{h(te,$);break}else o(te,$);$=$.sibling}$=hf(ne,te.mode,Ae),$.return=te,te=$}return M(te);case xe:return Je=ne._init,En(te,$,Je(ne._payload),Ae)}if(Es(ne))return ze(te,$,ne,Ae);if(ve(ne))return We(te,$,ne,Ae);xc(te,ne)}return typeof ne=="string"&&ne!==""||typeof ne=="number"?(ne=""+ne,$!==null&&$.tag===6?(h(te,$.sibling),$=S($,ne),$.return=te,te=$):(h(te,$),$=ff(ne,te.mode,Ae),$.return=te,te=$),M(te)):h(te,$)}return En}var Ko=M1(!0),k1=M1(!1),gc=Ei(null),yc=null,Yo=null,Cd=null;function Ed(){Cd=Yo=yc=null}function bd(t){var o=gc.current;tn(gc),t._currentValue=o}function Nd(t,o,h){for(;t!==null;){var g=t.alternate;if((t.childLanes&o)!==o?(t.childLanes|=o,g!==null&&(g.childLanes|=o)):g!==null&&(g.childLanes&o)!==o&&(g.childLanes|=o),t===h)break;t=t.return}}function qo(t,o){yc=t,Cd=Yo=null,t=t.dependencies,t!==null&&t.firstContext!==null&&((t.lanes&o)!==0&&(Ar=!0),t.firstContext=null)}function ns(t){var o=t._currentValue;if(Cd!==t)if(t={context:t,memoizedValue:o,next:null},Yo===null){if(yc===null)throw Error(l(308));Yo=t,yc.dependencies={lanes:0,firstContext:t}}else Yo=Yo.next=t;return o}var ao=null;function Sd(t){ao===null?ao=[t]:ao.push(t)}function P1(t,o,h,g){var S=o.interleaved;return S===null?(h.next=h,Sd(o)):(h.next=S.next,S.next=h),o.interleaved=h,Zs(t,g)}function Zs(t,o){t.lanes|=o;var h=t.alternate;for(h!==null&&(h.lanes|=o),h=t,t=t.return;t!==null;)t.childLanes|=o,h=t.alternate,h!==null&&(h.childLanes|=o),h=t,t=t.return;return h.tag===3?h.stateNode:null}var Si=!1;function Ad(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function L1(t,o){t=t.updateQueue,o.updateQueue===t&&(o.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function $s(t,o){return{eventTime:t,lane:o,tag:0,payload:null,callback:null,next:null}}function Ai(t,o,h){var g=t.updateQueue;if(g===null)return null;if(g=g.shared,(jt&2)!==0){var S=g.pending;return S===null?o.next=o:(o.next=S.next,S.next=o),g.pending=o,Zs(t,h)}return S=g.interleaved,S===null?(o.next=o,Sd(g)):(o.next=S.next,S.next=o),g.interleaved=o,Zs(t,h)}function wc(t,o,h){if(o=o.updateQueue,o!==null&&(o=o.shared,(h&4194240)!==0)){var g=o.lanes;g&=t.pendingLanes,h|=g,o.lanes=h,hn(t,h)}}function F1(t,o){var h=t.updateQueue,g=t.alternate;if(g!==null&&(g=g.updateQueue,h===g)){var S=null,I=null;if(h=h.firstBaseUpdate,h!==null){do{var M={eventTime:h.eventTime,lane:h.lane,tag:h.tag,payload:h.payload,callback:h.callback,next:null};I===null?S=I=M:I=I.next=M,h=h.next}while(h!==null);I===null?S=I=o:I=I.next=o}else S=I=o;h={baseState:g.baseState,firstBaseUpdate:S,lastBaseUpdate:I,shared:g.shared,effects:g.effects},t.updateQueue=h;return}t=h.lastBaseUpdate,t===null?h.firstBaseUpdate=o:t.next=o,h.lastBaseUpdate=o}function vc(t,o,h,g){var S=t.updateQueue;Si=!1;var I=S.firstBaseUpdate,M=S.lastBaseUpdate,z=S.shared.pending;if(z!==null){S.shared.pending=null;var Y=z,ae=Y.next;Y.next=null,M===null?I=ae:M.next=ae,M=Y;var we=t.alternate;we!==null&&(we=we.updateQueue,z=we.lastBaseUpdate,z!==M&&(z===null?we.firstBaseUpdate=ae:z.next=ae,we.lastBaseUpdate=Y))}if(I!==null){var Ee=S.baseState;M=0,we=ae=Y=null,z=I;do{var ge=z.lane,Pe=z.eventTime;if((g&ge)===ge){we!==null&&(we=we.next={eventTime:Pe,lane:0,tag:z.tag,payload:z.payload,callback:z.callback,next:null});e:{var ze=t,We=z;switch(ge=o,Pe=h,We.tag){case 1:if(ze=We.payload,typeof ze=="function"){Ee=ze.call(Pe,Ee,ge);break e}Ee=ze;break e;case 3:ze.flags=ze.flags&-65537|128;case 0:if(ze=We.payload,ge=typeof ze=="function"?ze.call(Pe,Ee,ge):ze,ge==null)break e;Ee=Ce({},Ee,ge);break e;case 2:Si=!0}}z.callback!==null&&z.lane!==0&&(t.flags|=64,ge=S.effects,ge===null?S.effects=[z]:ge.push(z))}else Pe={eventTime:Pe,lane:ge,tag:z.tag,payload:z.payload,callback:z.callback,next:null},we===null?(ae=we=Pe,Y=Ee):we=we.next=Pe,M|=ge;if(z=z.next,z===null){if(z=S.shared.pending,z===null)break;ge=z,z=ge.next,ge.next=null,S.lastBaseUpdate=ge,S.shared.pending=null}}while(!0);if(we===null&&(Y=Ee),S.baseState=Y,S.firstBaseUpdate=ae,S.lastBaseUpdate=we,o=S.shared.interleaved,o!==null){S=o;do M|=S.lane,S=S.next;while(S!==o)}else I===null&&(S.shared.lanes=0);uo|=M,t.lanes=M,t.memoizedState=Ee}}function B1(t,o,h){if(t=o.effects,o.effects=null,t!==null)for(o=0;o<t.length;o++){var g=t[o],S=g.callback;if(S!==null){if(g.callback=null,g=h,typeof S!="function")throw Error(l(191,S));S.call(g)}}}var tl={},js=Ei(tl),nl=Ei(tl),rl=Ei(tl);function lo(t){if(t===tl)throw Error(l(174));return t}function Id(t,o){switch($t(rl,o),$t(nl,t),$t(js,tl),t=o.nodeType,t){case 9:case 11:o=(o=o.documentElement)?o.namespaceURI:To(null,"");break;default:t=t===8?o.parentNode:o,o=t.namespaceURI||null,t=t.tagName,o=To(o,t)}tn(js),$t(js,o)}function Qo(){tn(js),tn(nl),tn(rl)}function U1(t){lo(rl.current);var o=lo(js.current),h=To(o,t.type);o!==h&&($t(nl,t),$t(js,h))}function Td(t){nl.current===t&&(tn(js),tn(nl))}var dn=Ei(0);function Cc(t){for(var o=t;o!==null;){if(o.tag===13){var h=o.memoizedState;if(h!==null&&(h=h.dehydrated,h===null||h.data==="$?"||h.data==="$!"))return o}else if(o.tag===19&&o.memoizedProps.revealOrder!==void 0){if((o.flags&128)!==0)return o}else if(o.child!==null){o.child.return=o,o=o.child;continue}if(o===t)break;for(;o.sibling===null;){if(o.return===null||o.return===t)return null;o=o.return}o.sibling.return=o.return,o=o.sibling}return null}var jd=[];function Rd(){for(var t=0;t<jd.length;t++)jd[t]._workInProgressVersionPrimary=null;jd.length=0}var Ec=K.ReactCurrentDispatcher,Od=K.ReactCurrentBatchConfig,co=0,fn=null,_n=null,Hn=null,bc=!1,sl=!1,il=0,uw=0;function ar(){throw Error(l(321))}function _d(t,o){if(o===null)return!1;for(var h=0;h<o.length&&h<t.length;h++)if(!J(t[h],o[h]))return!1;return!0}function Dd(t,o,h,g,S,I){if(co=I,fn=o,o.memoizedState=null,o.updateQueue=null,o.lanes=0,Ec.current=t===null||t.memoizedState===null?mw:pw,t=h(g,S),sl){I=0;do{if(sl=!1,il=0,25<=I)throw Error(l(301));I+=1,Hn=_n=null,o.updateQueue=null,Ec.current=xw,t=h(g,S)}while(sl)}if(Ec.current=Ac,o=_n!==null&&_n.next!==null,co=0,Hn=_n=fn=null,bc=!1,o)throw Error(l(300));return t}function Md(){var t=il!==0;return il=0,t}function Rs(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Hn===null?fn.memoizedState=Hn=t:Hn=Hn.next=t,Hn}function rs(){if(_n===null){var t=fn.alternate;t=t!==null?t.memoizedState:null}else t=_n.next;var o=Hn===null?fn.memoizedState:Hn.next;if(o!==null)Hn=o,_n=t;else{if(t===null)throw Error(l(310));_n=t,t={memoizedState:_n.memoizedState,baseState:_n.baseState,baseQueue:_n.baseQueue,queue:_n.queue,next:null},Hn===null?fn.memoizedState=Hn=t:Hn=Hn.next=t}return Hn}function ol(t,o){return typeof o=="function"?o(t):o}function kd(t){var o=rs(),h=o.queue;if(h===null)throw Error(l(311));h.lastRenderedReducer=t;var g=_n,S=g.baseQueue,I=h.pending;if(I!==null){if(S!==null){var M=S.next;S.next=I.next,I.next=M}g.baseQueue=S=I,h.pending=null}if(S!==null){I=S.next,g=g.baseState;var z=M=null,Y=null,ae=I;do{var we=ae.lane;if((co&we)===we)Y!==null&&(Y=Y.next={lane:0,action:ae.action,hasEagerState:ae.hasEagerState,eagerState:ae.eagerState,next:null}),g=ae.hasEagerState?ae.eagerState:t(g,ae.action);else{var Ee={lane:we,action:ae.action,hasEagerState:ae.hasEagerState,eagerState:ae.eagerState,next:null};Y===null?(z=Y=Ee,M=g):Y=Y.next=Ee,fn.lanes|=we,uo|=we}ae=ae.next}while(ae!==null&&ae!==I);Y===null?M=g:Y.next=z,J(g,o.memoizedState)||(Ar=!0),o.memoizedState=g,o.baseState=M,o.baseQueue=Y,h.lastRenderedState=g}if(t=h.interleaved,t!==null){S=t;do I=S.lane,fn.lanes|=I,uo|=I,S=S.next;while(S!==t)}else S===null&&(h.lanes=0);return[o.memoizedState,h.dispatch]}function Pd(t){var o=rs(),h=o.queue;if(h===null)throw Error(l(311));h.lastRenderedReducer=t;var g=h.dispatch,S=h.pending,I=o.memoizedState;if(S!==null){h.pending=null;var M=S=S.next;do I=t(I,M.action),M=M.next;while(M!==S);J(I,o.memoizedState)||(Ar=!0),o.memoizedState=I,o.baseQueue===null&&(o.baseState=I),h.lastRenderedState=I}return[I,g]}function H1(){}function V1(t,o){var h=fn,g=rs(),S=o(),I=!J(g.memoizedState,S);if(I&&(g.memoizedState=S,Ar=!0),g=g.queue,Ld(G1.bind(null,h,g,t),[t]),g.getSnapshot!==o||I||Hn!==null&&Hn.memoizedState.tag&1){if(h.flags|=2048,al(9,W1.bind(null,h,g,S,o),void 0,null),Vn===null)throw Error(l(349));(co&30)!==0||z1(h,o,S)}return S}function z1(t,o,h){t.flags|=16384,t={getSnapshot:o,value:h},o=fn.updateQueue,o===null?(o={lastEffect:null,stores:null},fn.updateQueue=o,o.stores=[t]):(h=o.stores,h===null?o.stores=[t]:h.push(t))}function W1(t,o,h,g){o.value=h,o.getSnapshot=g,X1(o)&&K1(t)}function G1(t,o,h){return h(function(){X1(o)&&K1(t)})}function X1(t){var o=t.getSnapshot;t=t.value;try{var h=o();return!J(t,h)}catch{return!0}}function K1(t){var o=Zs(t,1);o!==null&&ps(o,t,1,-1)}function Y1(t){var o=Rs();return typeof t=="function"&&(t=t()),o.memoizedState=o.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:ol,lastRenderedState:t},o.queue=t,t=t.dispatch=hw.bind(null,fn,t),[o.memoizedState,t]}function al(t,o,h,g){return t={tag:t,create:o,destroy:h,deps:g,next:null},o=fn.updateQueue,o===null?(o={lastEffect:null,stores:null},fn.updateQueue=o,o.lastEffect=t.next=t):(h=o.lastEffect,h===null?o.lastEffect=t.next=t:(g=h.next,h.next=t,t.next=g,o.lastEffect=t)),t}function q1(){return rs().memoizedState}function Nc(t,o,h,g){var S=Rs();fn.flags|=t,S.memoizedState=al(1|o,h,void 0,g===void 0?null:g)}function Sc(t,o,h,g){var S=rs();g=g===void 0?null:g;var I=void 0;if(_n!==null){var M=_n.memoizedState;if(I=M.destroy,g!==null&&_d(g,M.deps)){S.memoizedState=al(o,h,I,g);return}}fn.flags|=t,S.memoizedState=al(1|o,h,I,g)}function Q1(t,o){return Nc(8390656,8,t,o)}function Ld(t,o){return Sc(2048,8,t,o)}function Z1(t,o){return Sc(4,2,t,o)}function $1(t,o){return Sc(4,4,t,o)}function J1(t,o){if(typeof o=="function")return t=t(),o(t),function(){o(null)};if(o!=null)return t=t(),o.current=t,function(){o.current=null}}function e0(t,o,h){return h=h!=null?h.concat([t]):null,Sc(4,4,J1.bind(null,o,t),h)}function Fd(){}function t0(t,o){var h=rs();o=o===void 0?null:o;var g=h.memoizedState;return g!==null&&o!==null&&_d(o,g[1])?g[0]:(h.memoizedState=[t,o],t)}function n0(t,o){var h=rs();o=o===void 0?null:o;var g=h.memoizedState;return g!==null&&o!==null&&_d(o,g[1])?g[0]:(t=t(),h.memoizedState=[t,o],t)}function r0(t,o,h){return(co&21)===0?(t.baseState&&(t.baseState=!1,Ar=!0),t.memoizedState=h):(J(h,o)||(h=Tn(),fn.lanes|=h,uo|=h,t.baseState=!0),o)}function dw(t,o){var h=yt;yt=h!==0&&4>h?h:4,t(!0);var g=Od.transition;Od.transition={};try{t(!1),o()}finally{yt=h,Od.transition=g}}function s0(){return rs().memoizedState}function fw(t,o,h){var g=Ri(t);if(h={lane:g,action:h,hasEagerState:!1,eagerState:null,next:null},i0(t))o0(o,h);else if(h=P1(t,o,h,g),h!==null){var S=xr();ps(h,t,g,S),a0(h,o,g)}}function hw(t,o,h){var g=Ri(t),S={lane:g,action:h,hasEagerState:!1,eagerState:null,next:null};if(i0(t))o0(o,S);else{var I=t.alternate;if(t.lanes===0&&(I===null||I.lanes===0)&&(I=o.lastRenderedReducer,I!==null))try{var M=o.lastRenderedState,z=I(M,h);if(S.hasEagerState=!0,S.eagerState=z,J(z,M)){var Y=o.interleaved;Y===null?(S.next=S,Sd(o)):(S.next=Y.next,Y.next=S),o.interleaved=S;return}}catch{}finally{}h=P1(t,o,S,g),h!==null&&(S=xr(),ps(h,t,g,S),a0(h,o,g))}}function i0(t){var o=t.alternate;return t===fn||o!==null&&o===fn}function o0(t,o){sl=bc=!0;var h=t.pending;h===null?o.next=o:(o.next=h.next,h.next=o),t.pending=o}function a0(t,o,h){if((h&4194240)!==0){var g=o.lanes;g&=t.pendingLanes,h|=g,o.lanes=h,hn(t,h)}}var Ac={readContext:ns,useCallback:ar,useContext:ar,useEffect:ar,useImperativeHandle:ar,useInsertionEffect:ar,useLayoutEffect:ar,useMemo:ar,useReducer:ar,useRef:ar,useState:ar,useDebugValue:ar,useDeferredValue:ar,useTransition:ar,useMutableSource:ar,useSyncExternalStore:ar,useId:ar,unstable_isNewReconciler:!1},mw={readContext:ns,useCallback:function(t,o){return Rs().memoizedState=[t,o===void 0?null:o],t},useContext:ns,useEffect:Q1,useImperativeHandle:function(t,o,h){return h=h!=null?h.concat([t]):null,Nc(4194308,4,J1.bind(null,o,t),h)},useLayoutEffect:function(t,o){return Nc(4194308,4,t,o)},useInsertionEffect:function(t,o){return Nc(4,2,t,o)},useMemo:function(t,o){var h=Rs();return o=o===void 0?null:o,t=t(),h.memoizedState=[t,o],t},useReducer:function(t,o,h){var g=Rs();return o=h!==void 0?h(o):o,g.memoizedState=g.baseState=o,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:o},g.queue=t,t=t.dispatch=fw.bind(null,fn,t),[g.memoizedState,t]},useRef:function(t){var o=Rs();return t={current:t},o.memoizedState=t},useState:Y1,useDebugValue:Fd,useDeferredValue:function(t){return Rs().memoizedState=t},useTransition:function(){var t=Y1(!1),o=t[0];return t=dw.bind(null,t[1]),Rs().memoizedState=t,[o,t]},useMutableSource:function(){},useSyncExternalStore:function(t,o,h){var g=fn,S=Rs();if(ln){if(h===void 0)throw Error(l(407));h=h()}else{if(h=o(),Vn===null)throw Error(l(349));(co&30)!==0||z1(g,o,h)}S.memoizedState=h;var I={value:h,getSnapshot:o};return S.queue=I,Q1(G1.bind(null,g,I,t),[t]),g.flags|=2048,al(9,W1.bind(null,g,I,h,o),void 0,null),h},useId:function(){var t=Rs(),o=Vn.identifierPrefix;if(ln){var h=Qs,g=qs;h=(g&~(1<<32-mr(g)-1)).toString(32)+h,o=":"+o+"R"+h,h=il++,0<h&&(o+="H"+h.toString(32)),o+=":"}else h=uw++,o=":"+o+"r"+h.toString(32)+":";return t.memoizedState=o},unstable_isNewReconciler:!1},pw={readContext:ns,useCallback:t0,useContext:ns,useEffect:Ld,useImperativeHandle:e0,useInsertionEffect:Z1,useLayoutEffect:$1,useMemo:n0,useReducer:kd,useRef:q1,useState:function(){return kd(ol)},useDebugValue:Fd,useDeferredValue:function(t){var o=rs();return r0(o,_n.memoizedState,t)},useTransition:function(){var t=kd(ol)[0],o=rs().memoizedState;return[t,o]},useMutableSource:H1,useSyncExternalStore:V1,useId:s0,unstable_isNewReconciler:!1},xw={readContext:ns,useCallback:t0,useContext:ns,useEffect:Ld,useImperativeHandle:e0,useInsertionEffect:Z1,useLayoutEffect:$1,useMemo:n0,useReducer:Pd,useRef:q1,useState:function(){return Pd(ol)},useDebugValue:Fd,useDeferredValue:function(t){var o=rs();return _n===null?o.memoizedState=t:r0(o,_n.memoizedState,t)},useTransition:function(){var t=Pd(ol)[0],o=rs().memoizedState;return[t,o]},useMutableSource:H1,useSyncExternalStore:V1,useId:s0,unstable_isNewReconciler:!1};function fs(t,o){if(t&&t.defaultProps){o=Ce({},o),t=t.defaultProps;for(var h in t)o[h]===void 0&&(o[h]=t[h]);return o}return o}function Bd(t,o,h,g){o=t.memoizedState,h=h(g,o),h=h==null?o:Ce({},o,h),t.memoizedState=h,t.lanes===0&&(t.updateQueue.baseState=h)}var Ic={isMounted:function(t){return(t=t._reactInternals)?br(t)===t:!1},enqueueSetState:function(t,o,h){t=t._reactInternals;var g=xr(),S=Ri(t),I=$s(g,S);I.payload=o,h!=null&&(I.callback=h),o=Ai(t,I,S),o!==null&&(ps(o,t,S,g),wc(o,t,S))},enqueueReplaceState:function(t,o,h){t=t._reactInternals;var g=xr(),S=Ri(t),I=$s(g,S);I.tag=1,I.payload=o,h!=null&&(I.callback=h),o=Ai(t,I,S),o!==null&&(ps(o,t,S,g),wc(o,t,S))},enqueueForceUpdate:function(t,o){t=t._reactInternals;var h=xr(),g=Ri(t),S=$s(h,g);S.tag=2,o!=null&&(S.callback=o),o=Ai(t,S,g),o!==null&&(ps(o,t,g,h),wc(o,t,g))}};function l0(t,o,h,g,S,I,M){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(g,I,M):o.prototype&&o.prototype.isPureReactComponent?!ie(h,g)||!ie(S,I):!0}function c0(t,o,h){var g=!1,S=bi,I=o.contextType;return typeof I=="object"&&I!==null?I=ns(I):(S=Sr(o)?so:or.current,g=o.contextTypes,I=(g=g!=null)?zo(t,S):bi),o=new o(h,I),t.memoizedState=o.state!==null&&o.state!==void 0?o.state:null,o.updater=Ic,t.stateNode=o,o._reactInternals=t,g&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=S,t.__reactInternalMemoizedMaskedChildContext=I),o}function u0(t,o,h,g){t=o.state,typeof o.componentWillReceiveProps=="function"&&o.componentWillReceiveProps(h,g),typeof o.UNSAFE_componentWillReceiveProps=="function"&&o.UNSAFE_componentWillReceiveProps(h,g),o.state!==t&&Ic.enqueueReplaceState(o,o.state,null)}function Ud(t,o,h,g){var S=t.stateNode;S.props=h,S.state=t.memoizedState,S.refs={},Ad(t);var I=o.contextType;typeof I=="object"&&I!==null?S.context=ns(I):(I=Sr(o)?so:or.current,S.context=zo(t,I)),S.state=t.memoizedState,I=o.getDerivedStateFromProps,typeof I=="function"&&(Bd(t,o,I,h),S.state=t.memoizedState),typeof o.getDerivedStateFromProps=="function"||typeof S.getSnapshotBeforeUpdate=="function"||typeof S.UNSAFE_componentWillMount!="function"&&typeof S.componentWillMount!="function"||(o=S.state,typeof S.componentWillMount=="function"&&S.componentWillMount(),typeof S.UNSAFE_componentWillMount=="function"&&S.UNSAFE_componentWillMount(),o!==S.state&&Ic.enqueueReplaceState(S,S.state,null),vc(t,h,S,g),S.state=t.memoizedState),typeof S.componentDidMount=="function"&&(t.flags|=4194308)}function Zo(t,o){try{var h="",g=o;do h+=pt(g),g=g.return;while(g);var S=h}catch(I){S=`
Error generating stack: `+I.message+`
`+I.stack}return{value:t,source:o,stack:S,digest:null}}function Hd(t,o,h){return{value:t,source:null,stack:h??null,digest:o??null}}function Vd(t,o){try{console.error(o.value)}catch(h){setTimeout(function(){throw h})}}var gw=typeof WeakMap=="function"?WeakMap:Map;function d0(t,o,h){h=$s(-1,h),h.tag=3,h.payload={element:null};var g=o.value;return h.callback=function(){Mc||(Mc=!0,rf=g),Vd(t,o)},h}function f0(t,o,h){h=$s(-1,h),h.tag=3;var g=t.type.getDerivedStateFromError;if(typeof g=="function"){var S=o.value;h.payload=function(){return g(S)},h.callback=function(){Vd(t,o)}}var I=t.stateNode;return I!==null&&typeof I.componentDidCatch=="function"&&(h.callback=function(){Vd(t,o),typeof g!="function"&&(Ti===null?Ti=new Set([this]):Ti.add(this));var M=o.stack;this.componentDidCatch(o.value,{componentStack:M!==null?M:""})}),h}function h0(t,o,h){var g=t.pingCache;if(g===null){g=t.pingCache=new gw;var S=new Set;g.set(o,S)}else S=g.get(o),S===void 0&&(S=new Set,g.set(o,S));S.has(h)||(S.add(h),t=Ow.bind(null,t,o,h),o.then(t,t))}function m0(t){do{var o;if((o=t.tag===13)&&(o=t.memoizedState,o=o!==null?o.dehydrated!==null:!0),o)return t;t=t.return}while(t!==null);return null}function p0(t,o,h,g,S){return(t.mode&1)===0?(t===o?t.flags|=65536:(t.flags|=128,h.flags|=131072,h.flags&=-52805,h.tag===1&&(h.alternate===null?h.tag=17:(o=$s(-1,1),o.tag=2,Ai(h,o,1))),h.lanes|=1),t):(t.flags|=65536,t.lanes=S,t)}var yw=K.ReactCurrentOwner,Ar=!1;function pr(t,o,h,g){o.child=t===null?k1(o,null,h,g):Ko(o,t.child,h,g)}function x0(t,o,h,g,S){h=h.render;var I=o.ref;return qo(o,S),g=Dd(t,o,h,g,I,S),h=Md(),t!==null&&!Ar?(o.updateQueue=t.updateQueue,o.flags&=-2053,t.lanes&=~S,Js(t,o,S)):(ln&&h&&xd(o),o.flags|=1,pr(t,o,g,S),o.child)}function g0(t,o,h,g,S){if(t===null){var I=h.type;return typeof I=="function"&&!df(I)&&I.defaultProps===void 0&&h.compare===null&&h.defaultProps===void 0?(o.tag=15,o.type=I,y0(t,o,I,g,S)):(t=Uc(h.type,null,g,o,o.mode,S),t.ref=o.ref,t.return=o,o.child=t)}if(I=t.child,(t.lanes&S)===0){var M=I.memoizedProps;if(h=h.compare,h=h!==null?h:ie,h(M,g)&&t.ref===o.ref)return Js(t,o,S)}return o.flags|=1,t=_i(I,g),t.ref=o.ref,t.return=o,o.child=t}function y0(t,o,h,g,S){if(t!==null){var I=t.memoizedProps;if(ie(I,g)&&t.ref===o.ref)if(Ar=!1,o.pendingProps=g=I,(t.lanes&S)!==0)(t.flags&131072)!==0&&(Ar=!0);else return o.lanes=t.lanes,Js(t,o,S)}return zd(t,o,h,g,S)}function w0(t,o,h){var g=o.pendingProps,S=g.children,I=t!==null?t.memoizedState:null;if(g.mode==="hidden")if((o.mode&1)===0)o.memoizedState={baseLanes:0,cachePool:null,transitions:null},$t(Jo,zr),zr|=h;else{if((h&1073741824)===0)return t=I!==null?I.baseLanes|h:h,o.lanes=o.childLanes=1073741824,o.memoizedState={baseLanes:t,cachePool:null,transitions:null},o.updateQueue=null,$t(Jo,zr),zr|=t,null;o.memoizedState={baseLanes:0,cachePool:null,transitions:null},g=I!==null?I.baseLanes:h,$t(Jo,zr),zr|=g}else I!==null?(g=I.baseLanes|h,o.memoizedState=null):g=h,$t(Jo,zr),zr|=g;return pr(t,o,S,h),o.child}function v0(t,o){var h=o.ref;(t===null&&h!==null||t!==null&&t.ref!==h)&&(o.flags|=512,o.flags|=2097152)}function zd(t,o,h,g,S){var I=Sr(h)?so:or.current;return I=zo(o,I),qo(o,S),h=Dd(t,o,h,g,I,S),g=Md(),t!==null&&!Ar?(o.updateQueue=t.updateQueue,o.flags&=-2053,t.lanes&=~S,Js(t,o,S)):(ln&&g&&xd(o),o.flags|=1,pr(t,o,h,S),o.child)}function C0(t,o,h,g,S){if(Sr(h)){var I=!0;dc(o)}else I=!1;if(qo(o,S),o.stateNode===null)jc(t,o),c0(o,h,g),Ud(o,h,g,S),g=!0;else if(t===null){var M=o.stateNode,z=o.memoizedProps;M.props=z;var Y=M.context,ae=h.contextType;typeof ae=="object"&&ae!==null?ae=ns(ae):(ae=Sr(h)?so:or.current,ae=zo(o,ae));var we=h.getDerivedStateFromProps,Ee=typeof we=="function"||typeof M.getSnapshotBeforeUpdate=="function";Ee||typeof M.UNSAFE_componentWillReceiveProps!="function"&&typeof M.componentWillReceiveProps!="function"||(z!==g||Y!==ae)&&u0(o,M,g,ae),Si=!1;var ge=o.memoizedState;M.state=ge,vc(o,g,M,S),Y=o.memoizedState,z!==g||ge!==Y||Nr.current||Si?(typeof we=="function"&&(Bd(o,h,we,g),Y=o.memoizedState),(z=Si||l0(o,h,z,g,ge,Y,ae))?(Ee||typeof M.UNSAFE_componentWillMount!="function"&&typeof M.componentWillMount!="function"||(typeof M.componentWillMount=="function"&&M.componentWillMount(),typeof M.UNSAFE_componentWillMount=="function"&&M.UNSAFE_componentWillMount()),typeof M.componentDidMount=="function"&&(o.flags|=4194308)):(typeof M.componentDidMount=="function"&&(o.flags|=4194308),o.memoizedProps=g,o.memoizedState=Y),M.props=g,M.state=Y,M.context=ae,g=z):(typeof M.componentDidMount=="function"&&(o.flags|=4194308),g=!1)}else{M=o.stateNode,L1(t,o),z=o.memoizedProps,ae=o.type===o.elementType?z:fs(o.type,z),M.props=ae,Ee=o.pendingProps,ge=M.context,Y=h.contextType,typeof Y=="object"&&Y!==null?Y=ns(Y):(Y=Sr(h)?so:or.current,Y=zo(o,Y));var Pe=h.getDerivedStateFromProps;(we=typeof Pe=="function"||typeof M.getSnapshotBeforeUpdate=="function")||typeof M.UNSAFE_componentWillReceiveProps!="function"&&typeof M.componentWillReceiveProps!="function"||(z!==Ee||ge!==Y)&&u0(o,M,g,Y),Si=!1,ge=o.memoizedState,M.state=ge,vc(o,g,M,S);var ze=o.memoizedState;z!==Ee||ge!==ze||Nr.current||Si?(typeof Pe=="function"&&(Bd(o,h,Pe,g),ze=o.memoizedState),(ae=Si||l0(o,h,ae,g,ge,ze,Y)||!1)?(we||typeof M.UNSAFE_componentWillUpdate!="function"&&typeof M.componentWillUpdate!="function"||(typeof M.componentWillUpdate=="function"&&M.componentWillUpdate(g,ze,Y),typeof M.UNSAFE_componentWillUpdate=="function"&&M.UNSAFE_componentWillUpdate(g,ze,Y)),typeof M.componentDidUpdate=="function"&&(o.flags|=4),typeof M.getSnapshotBeforeUpdate=="function"&&(o.flags|=1024)):(typeof M.componentDidUpdate!="function"||z===t.memoizedProps&&ge===t.memoizedState||(o.flags|=4),typeof M.getSnapshotBeforeUpdate!="function"||z===t.memoizedProps&&ge===t.memoizedState||(o.flags|=1024),o.memoizedProps=g,o.memoizedState=ze),M.props=g,M.state=ze,M.context=Y,g=ae):(typeof M.componentDidUpdate!="function"||z===t.memoizedProps&&ge===t.memoizedState||(o.flags|=4),typeof M.getSnapshotBeforeUpdate!="function"||z===t.memoizedProps&&ge===t.memoizedState||(o.flags|=1024),g=!1)}return Wd(t,o,h,g,I,S)}function Wd(t,o,h,g,S,I){v0(t,o);var M=(o.flags&128)!==0;if(!g&&!M)return S&&A1(o,h,!1),Js(t,o,I);g=o.stateNode,yw.current=o;var z=M&&typeof h.getDerivedStateFromError!="function"?null:g.render();return o.flags|=1,t!==null&&M?(o.child=Ko(o,t.child,null,I),o.child=Ko(o,null,z,I)):pr(t,o,z,I),o.memoizedState=g.state,S&&A1(o,h,!0),o.child}function E0(t){var o=t.stateNode;o.pendingContext?N1(t,o.pendingContext,o.pendingContext!==o.context):o.context&&N1(t,o.context,!1),Id(t,o.containerInfo)}function b0(t,o,h,g,S){return Xo(),vd(S),o.flags|=256,pr(t,o,h,g),o.child}var Gd={dehydrated:null,treeContext:null,retryLane:0};function Xd(t){return{baseLanes:t,cachePool:null,transitions:null}}function N0(t,o,h){var g=o.pendingProps,S=dn.current,I=!1,M=(o.flags&128)!==0,z;if((z=M)||(z=t!==null&&t.memoizedState===null?!1:(S&2)!==0),z?(I=!0,o.flags&=-129):(t===null||t.memoizedState!==null)&&(S|=1),$t(dn,S&1),t===null)return wd(o),t=o.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?((o.mode&1)===0?o.lanes=1:t.data==="$!"?o.lanes=8:o.lanes=1073741824,null):(M=g.children,t=g.fallback,I?(g=o.mode,I=o.child,M={mode:"hidden",children:M},(g&1)===0&&I!==null?(I.childLanes=0,I.pendingProps=M):I=Hc(M,g,0,null),t=po(t,g,h,null),I.return=o,t.return=o,I.sibling=t,o.child=I,o.child.memoizedState=Xd(h),o.memoizedState=Gd,t):Kd(o,M));if(S=t.memoizedState,S!==null&&(z=S.dehydrated,z!==null))return ww(t,o,M,g,z,S,h);if(I){I=g.fallback,M=o.mode,S=t.child,z=S.sibling;var Y={mode:"hidden",children:g.children};return(M&1)===0&&o.child!==S?(g=o.child,g.childLanes=0,g.pendingProps=Y,o.deletions=null):(g=_i(S,Y),g.subtreeFlags=S.subtreeFlags&14680064),z!==null?I=_i(z,I):(I=po(I,M,h,null),I.flags|=2),I.return=o,g.return=o,g.sibling=I,o.child=g,g=I,I=o.child,M=t.child.memoizedState,M=M===null?Xd(h):{baseLanes:M.baseLanes|h,cachePool:null,transitions:M.transitions},I.memoizedState=M,I.childLanes=t.childLanes&~h,o.memoizedState=Gd,g}return I=t.child,t=I.sibling,g=_i(I,{mode:"visible",children:g.children}),(o.mode&1)===0&&(g.lanes=h),g.return=o,g.sibling=null,t!==null&&(h=o.deletions,h===null?(o.deletions=[t],o.flags|=16):h.push(t)),o.child=g,o.memoizedState=null,g}function Kd(t,o){return o=Hc({mode:"visible",children:o},t.mode,0,null),o.return=t,t.child=o}function Tc(t,o,h,g){return g!==null&&vd(g),Ko(o,t.child,null,h),t=Kd(o,o.pendingProps.children),t.flags|=2,o.memoizedState=null,t}function ww(t,o,h,g,S,I,M){if(h)return o.flags&256?(o.flags&=-257,g=Hd(Error(l(422))),Tc(t,o,M,g)):o.memoizedState!==null?(o.child=t.child,o.flags|=128,null):(I=g.fallback,S=o.mode,g=Hc({mode:"visible",children:g.children},S,0,null),I=po(I,S,M,null),I.flags|=2,g.return=o,I.return=o,g.sibling=I,o.child=g,(o.mode&1)!==0&&Ko(o,t.child,null,M),o.child.memoizedState=Xd(M),o.memoizedState=Gd,I);if((o.mode&1)===0)return Tc(t,o,M,null);if(S.data==="$!"){if(g=S.nextSibling&&S.nextSibling.dataset,g)var z=g.dgst;return g=z,I=Error(l(419)),g=Hd(I,g,void 0),Tc(t,o,M,g)}if(z=(M&t.childLanes)!==0,Ar||z){if(g=Vn,g!==null){switch(M&-M){case 4:S=2;break;case 16:S=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:S=32;break;case 536870912:S=268435456;break;default:S=0}S=(S&(g.suspendedLanes|M))!==0?0:S,S!==0&&S!==I.retryLane&&(I.retryLane=S,Zs(t,S),ps(g,t,S,-1))}return uf(),g=Hd(Error(l(421))),Tc(t,o,M,g)}return S.data==="$?"?(o.flags|=128,o.child=t.child,o=_w.bind(null,t),S._reactRetry=o,null):(t=I.treeContext,Vr=Ci(S.nextSibling),Hr=o,ln=!0,ds=null,t!==null&&(es[ts++]=qs,es[ts++]=Qs,es[ts++]=io,qs=t.id,Qs=t.overflow,io=o),o=Kd(o,g.children),o.flags|=4096,o)}function S0(t,o,h){t.lanes|=o;var g=t.alternate;g!==null&&(g.lanes|=o),Nd(t.return,o,h)}function Yd(t,o,h,g,S){var I=t.memoizedState;I===null?t.memoizedState={isBackwards:o,rendering:null,renderingStartTime:0,last:g,tail:h,tailMode:S}:(I.isBackwards=o,I.rendering=null,I.renderingStartTime=0,I.last=g,I.tail=h,I.tailMode=S)}function A0(t,o,h){var g=o.pendingProps,S=g.revealOrder,I=g.tail;if(pr(t,o,g.children,h),g=dn.current,(g&2)!==0)g=g&1|2,o.flags|=128;else{if(t!==null&&(t.flags&128)!==0)e:for(t=o.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&S0(t,h,o);else if(t.tag===19)S0(t,h,o);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===o)break e;for(;t.sibling===null;){if(t.return===null||t.return===o)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}g&=1}if($t(dn,g),(o.mode&1)===0)o.memoizedState=null;else switch(S){case"forwards":for(h=o.child,S=null;h!==null;)t=h.alternate,t!==null&&Cc(t)===null&&(S=h),h=h.sibling;h=S,h===null?(S=o.child,o.child=null):(S=h.sibling,h.sibling=null),Yd(o,!1,S,h,I);break;case"backwards":for(h=null,S=o.child,o.child=null;S!==null;){if(t=S.alternate,t!==null&&Cc(t)===null){o.child=S;break}t=S.sibling,S.sibling=h,h=S,S=t}Yd(o,!0,h,null,I);break;case"together":Yd(o,!1,null,null,void 0);break;default:o.memoizedState=null}return o.child}function jc(t,o){(o.mode&1)===0&&t!==null&&(t.alternate=null,o.alternate=null,o.flags|=2)}function Js(t,o,h){if(t!==null&&(o.dependencies=t.dependencies),uo|=o.lanes,(h&o.childLanes)===0)return null;if(t!==null&&o.child!==t.child)throw Error(l(153));if(o.child!==null){for(t=o.child,h=_i(t,t.pendingProps),o.child=h,h.return=o;t.sibling!==null;)t=t.sibling,h=h.sibling=_i(t,t.pendingProps),h.return=o;h.sibling=null}return o.child}function vw(t,o,h){switch(o.tag){case 3:E0(o),Xo();break;case 5:U1(o);break;case 1:Sr(o.type)&&dc(o);break;case 4:Id(o,o.stateNode.containerInfo);break;case 10:var g=o.type._context,S=o.memoizedProps.value;$t(gc,g._currentValue),g._currentValue=S;break;case 13:if(g=o.memoizedState,g!==null)return g.dehydrated!==null?($t(dn,dn.current&1),o.flags|=128,null):(h&o.child.childLanes)!==0?N0(t,o,h):($t(dn,dn.current&1),t=Js(t,o,h),t!==null?t.sibling:null);$t(dn,dn.current&1);break;case 19:if(g=(h&o.childLanes)!==0,(t.flags&128)!==0){if(g)return A0(t,o,h);o.flags|=128}if(S=o.memoizedState,S!==null&&(S.rendering=null,S.tail=null,S.lastEffect=null),$t(dn,dn.current),g)break;return null;case 22:case 23:return o.lanes=0,w0(t,o,h)}return Js(t,o,h)}var I0,qd,T0,j0;I0=function(t,o){for(var h=o.child;h!==null;){if(h.tag===5||h.tag===6)t.appendChild(h.stateNode);else if(h.tag!==4&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===o)break;for(;h.sibling===null;){if(h.return===null||h.return===o)return;h=h.return}h.sibling.return=h.return,h=h.sibling}},qd=function(){},T0=function(t,o,h,g){var S=t.memoizedProps;if(S!==g){t=o.stateNode,lo(js.current);var I=null;switch(h){case"input":S=Ln(t,S),g=Ln(t,g),I=[];break;case"select":S=Ce({},S,{value:void 0}),g=Ce({},g,{value:void 0}),I=[];break;case"textarea":S=ai(t,S),g=ai(t,g),I=[];break;default:typeof S.onClick!="function"&&typeof g.onClick=="function"&&(t.onclick=lc)}Ot(h,g);var M;h=null;for(ae in S)if(!g.hasOwnProperty(ae)&&S.hasOwnProperty(ae)&&S[ae]!=null)if(ae==="style"){var z=S[ae];for(M in z)z.hasOwnProperty(M)&&(h||(h={}),h[M]="")}else ae!=="dangerouslySetInnerHTML"&&ae!=="children"&&ae!=="suppressContentEditableWarning"&&ae!=="suppressHydrationWarning"&&ae!=="autoFocus"&&(p.hasOwnProperty(ae)?I||(I=[]):(I=I||[]).push(ae,null));for(ae in g){var Y=g[ae];if(z=S?.[ae],g.hasOwnProperty(ae)&&Y!==z&&(Y!=null||z!=null))if(ae==="style")if(z){for(M in z)!z.hasOwnProperty(M)||Y&&Y.hasOwnProperty(M)||(h||(h={}),h[M]="");for(M in Y)Y.hasOwnProperty(M)&&z[M]!==Y[M]&&(h||(h={}),h[M]=Y[M])}else h||(I||(I=[]),I.push(ae,h)),h=Y;else ae==="dangerouslySetInnerHTML"?(Y=Y?Y.__html:void 0,z=z?z.__html:void 0,Y!=null&&z!==Y&&(I=I||[]).push(ae,Y)):ae==="children"?typeof Y!="string"&&typeof Y!="number"||(I=I||[]).push(ae,""+Y):ae!=="suppressContentEditableWarning"&&ae!=="suppressHydrationWarning"&&(p.hasOwnProperty(ae)?(Y!=null&&ae==="onScroll"&&en("scroll",t),I||z===Y||(I=[])):(I=I||[]).push(ae,Y))}h&&(I=I||[]).push("style",h);var ae=I;(o.updateQueue=ae)&&(o.flags|=4)}},j0=function(t,o,h,g){h!==g&&(o.flags|=4)};function ll(t,o){if(!ln)switch(t.tailMode){case"hidden":o=t.tail;for(var h=null;o!==null;)o.alternate!==null&&(h=o),o=o.sibling;h===null?t.tail=null:h.sibling=null;break;case"collapsed":h=t.tail;for(var g=null;h!==null;)h.alternate!==null&&(g=h),h=h.sibling;g===null?o||t.tail===null?t.tail=null:t.tail.sibling=null:g.sibling=null}}function lr(t){var o=t.alternate!==null&&t.alternate.child===t.child,h=0,g=0;if(o)for(var S=t.child;S!==null;)h|=S.lanes|S.childLanes,g|=S.subtreeFlags&14680064,g|=S.flags&14680064,S.return=t,S=S.sibling;else for(S=t.child;S!==null;)h|=S.lanes|S.childLanes,g|=S.subtreeFlags,g|=S.flags,S.return=t,S=S.sibling;return t.subtreeFlags|=g,t.childLanes=h,o}function Cw(t,o,h){var g=o.pendingProps;switch(gd(o),o.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return lr(o),null;case 1:return Sr(o.type)&&uc(),lr(o),null;case 3:return g=o.stateNode,Qo(),tn(Nr),tn(or),Rd(),g.pendingContext&&(g.context=g.pendingContext,g.pendingContext=null),(t===null||t.child===null)&&(pc(o)?o.flags|=4:t===null||t.memoizedState.isDehydrated&&(o.flags&256)===0||(o.flags|=1024,ds!==null&&(af(ds),ds=null))),qd(t,o),lr(o),null;case 5:Td(o);var S=lo(rl.current);if(h=o.type,t!==null&&o.stateNode!=null)T0(t,o,h,g,S),t.ref!==o.ref&&(o.flags|=512,o.flags|=2097152);else{if(!g){if(o.stateNode===null)throw Error(l(166));return lr(o),null}if(t=lo(js.current),pc(o)){g=o.stateNode,h=o.type;var I=o.memoizedProps;switch(g[Ts]=o,g[$a]=I,t=(o.mode&1)!==0,h){case"dialog":en("cancel",g),en("close",g);break;case"iframe":case"object":case"embed":en("load",g);break;case"video":case"audio":for(S=0;S<qa.length;S++)en(qa[S],g);break;case"source":en("error",g);break;case"img":case"image":case"link":en("error",g),en("load",g);break;case"details":en("toggle",g);break;case"input":Kn(g,I),en("invalid",g);break;case"select":g._wrapperState={wasMultiple:!!I.multiple},en("invalid",g);break;case"textarea":Ia(g,I),en("invalid",g)}Ot(h,I),S=null;for(var M in I)if(I.hasOwnProperty(M)){var z=I[M];M==="children"?typeof z=="string"?g.textContent!==z&&(I.suppressHydrationWarning!==!0&&ac(g.textContent,z,t),S=["children",z]):typeof z=="number"&&g.textContent!==""+z&&(I.suppressHydrationWarning!==!0&&ac(g.textContent,z,t),S=["children",""+z]):p.hasOwnProperty(M)&&z!=null&&M==="onScroll"&&en("scroll",g)}switch(h){case"input":mt(g),Pt(g,I,!0);break;case"textarea":mt(g),Io(g);break;case"select":case"option":break;default:typeof I.onClick=="function"&&(g.onclick=lc)}g=S,o.updateQueue=g,g!==null&&(o.flags|=4)}else{M=S.nodeType===9?S:S.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=vr(h)),t==="http://www.w3.org/1999/xhtml"?h==="script"?(t=M.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof g.is=="string"?t=M.createElement(h,{is:g.is}):(t=M.createElement(h),h==="select"&&(M=t,g.multiple?M.multiple=!0:g.size&&(M.size=g.size))):t=M.createElementNS(t,h),t[Ts]=o,t[$a]=g,I0(t,o,!1,!1),o.stateNode=t;e:{switch(M=Yt(h,g),h){case"dialog":en("cancel",t),en("close",t),S=g;break;case"iframe":case"object":case"embed":en("load",t),S=g;break;case"video":case"audio":for(S=0;S<qa.length;S++)en(qa[S],t);S=g;break;case"source":en("error",t),S=g;break;case"img":case"image":case"link":en("error",t),en("load",t),S=g;break;case"details":en("toggle",t),S=g;break;case"input":Kn(t,g),S=Ln(t,g),en("invalid",t);break;case"option":S=g;break;case"select":t._wrapperState={wasMultiple:!!g.multiple},S=Ce({},g,{value:void 0}),en("invalid",t);break;case"textarea":Ia(t,g),S=ai(t,g),en("invalid",t);break;default:S=g}Ot(h,S),z=S;for(I in z)if(z.hasOwnProperty(I)){var Y=z[I];I==="style"?Te(t,Y):I==="dangerouslySetInnerHTML"?(Y=Y?Y.__html:void 0,Y!=null&&Fn(t,Y)):I==="children"?typeof Y=="string"?(h!=="textarea"||Y!=="")&&li(t,Y):typeof Y=="number"&&li(t,""+Y):I!=="suppressContentEditableWarning"&&I!=="suppressHydrationWarning"&&I!=="autoFocus"&&(p.hasOwnProperty(I)?Y!=null&&I==="onScroll"&&en("scroll",t):Y!=null&&V(t,I,Y,M))}switch(h){case"input":mt(t),Pt(t,g,!1);break;case"textarea":mt(t),Io(t);break;case"option":g.value!=null&&t.setAttribute("value",""+Me(g.value));break;case"select":t.multiple=!!g.multiple,I=g.value,I!=null?Fe(t,!!g.multiple,I,!1):g.defaultValue!=null&&Fe(t,!!g.multiple,g.defaultValue,!0);break;default:typeof S.onClick=="function"&&(t.onclick=lc)}switch(h){case"button":case"input":case"select":case"textarea":g=!!g.autoFocus;break e;case"img":g=!0;break e;default:g=!1}}g&&(o.flags|=4)}o.ref!==null&&(o.flags|=512,o.flags|=2097152)}return lr(o),null;case 6:if(t&&o.stateNode!=null)j0(t,o,t.memoizedProps,g);else{if(typeof g!="string"&&o.stateNode===null)throw Error(l(166));if(h=lo(rl.current),lo(js.current),pc(o)){if(g=o.stateNode,h=o.memoizedProps,g[Ts]=o,(I=g.nodeValue!==h)&&(t=Hr,t!==null))switch(t.tag){case 3:ac(g.nodeValue,h,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&ac(g.nodeValue,h,(t.mode&1)!==0)}I&&(o.flags|=4)}else g=(h.nodeType===9?h:h.ownerDocument).createTextNode(g),g[Ts]=o,o.stateNode=g}return lr(o),null;case 13:if(tn(dn),g=o.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(ln&&Vr!==null&&(o.mode&1)!==0&&(o.flags&128)===0)_1(),Xo(),o.flags|=98560,I=!1;else if(I=pc(o),g!==null&&g.dehydrated!==null){if(t===null){if(!I)throw Error(l(318));if(I=o.memoizedState,I=I!==null?I.dehydrated:null,!I)throw Error(l(317));I[Ts]=o}else Xo(),(o.flags&128)===0&&(o.memoizedState=null),o.flags|=4;lr(o),I=!1}else ds!==null&&(af(ds),ds=null),I=!0;if(!I)return o.flags&65536?o:null}return(o.flags&128)!==0?(o.lanes=h,o):(g=g!==null,g!==(t!==null&&t.memoizedState!==null)&&g&&(o.child.flags|=8192,(o.mode&1)!==0&&(t===null||(dn.current&1)!==0?Dn===0&&(Dn=3):uf())),o.updateQueue!==null&&(o.flags|=4),lr(o),null);case 4:return Qo(),qd(t,o),t===null&&Qa(o.stateNode.containerInfo),lr(o),null;case 10:return bd(o.type._context),lr(o),null;case 17:return Sr(o.type)&&uc(),lr(o),null;case 19:if(tn(dn),I=o.memoizedState,I===null)return lr(o),null;if(g=(o.flags&128)!==0,M=I.rendering,M===null)if(g)ll(I,!1);else{if(Dn!==0||t!==null&&(t.flags&128)!==0)for(t=o.child;t!==null;){if(M=Cc(t),M!==null){for(o.flags|=128,ll(I,!1),g=M.updateQueue,g!==null&&(o.updateQueue=g,o.flags|=4),o.subtreeFlags=0,g=h,h=o.child;h!==null;)I=h,t=g,I.flags&=14680066,M=I.alternate,M===null?(I.childLanes=0,I.lanes=t,I.child=null,I.subtreeFlags=0,I.memoizedProps=null,I.memoizedState=null,I.updateQueue=null,I.dependencies=null,I.stateNode=null):(I.childLanes=M.childLanes,I.lanes=M.lanes,I.child=M.child,I.subtreeFlags=0,I.deletions=null,I.memoizedProps=M.memoizedProps,I.memoizedState=M.memoizedState,I.updateQueue=M.updateQueue,I.type=M.type,t=M.dependencies,I.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),h=h.sibling;return $t(dn,dn.current&1|2),o.child}t=t.sibling}I.tail!==null&&Mt()>ea&&(o.flags|=128,g=!0,ll(I,!1),o.lanes=4194304)}else{if(!g)if(t=Cc(M),t!==null){if(o.flags|=128,g=!0,h=t.updateQueue,h!==null&&(o.updateQueue=h,o.flags|=4),ll(I,!0),I.tail===null&&I.tailMode==="hidden"&&!M.alternate&&!ln)return lr(o),null}else 2*Mt()-I.renderingStartTime>ea&&h!==1073741824&&(o.flags|=128,g=!0,ll(I,!1),o.lanes=4194304);I.isBackwards?(M.sibling=o.child,o.child=M):(h=I.last,h!==null?h.sibling=M:o.child=M,I.last=M)}return I.tail!==null?(o=I.tail,I.rendering=o,I.tail=o.sibling,I.renderingStartTime=Mt(),o.sibling=null,h=dn.current,$t(dn,g?h&1|2:h&1),o):(lr(o),null);case 22:case 23:return cf(),g=o.memoizedState!==null,t!==null&&t.memoizedState!==null!==g&&(o.flags|=8192),g&&(o.mode&1)!==0?(zr&1073741824)!==0&&(lr(o),o.subtreeFlags&6&&(o.flags|=8192)):lr(o),null;case 24:return null;case 25:return null}throw Error(l(156,o.tag))}function Ew(t,o){switch(gd(o),o.tag){case 1:return Sr(o.type)&&uc(),t=o.flags,t&65536?(o.flags=t&-65537|128,o):null;case 3:return Qo(),tn(Nr),tn(or),Rd(),t=o.flags,(t&65536)!==0&&(t&128)===0?(o.flags=t&-65537|128,o):null;case 5:return Td(o),null;case 13:if(tn(dn),t=o.memoizedState,t!==null&&t.dehydrated!==null){if(o.alternate===null)throw Error(l(340));Xo()}return t=o.flags,t&65536?(o.flags=t&-65537|128,o):null;case 19:return tn(dn),null;case 4:return Qo(),null;case 10:return bd(o.type._context),null;case 22:case 23:return cf(),null;case 24:return null;default:return null}}var Rc=!1,cr=!1,bw=typeof WeakSet=="function"?WeakSet:Set,He=null;function $o(t,o){var h=t.ref;if(h!==null)if(typeof h=="function")try{h(null)}catch(g){pn(t,o,g)}else h.current=null}function Qd(t,o,h){try{h()}catch(g){pn(t,o,g)}}var R0=!1;function Nw(t,o){if(ld=As,t=vt(),ut(t)){if("selectionStart"in t)var h={start:t.selectionStart,end:t.selectionEnd};else e:{h=(h=t.ownerDocument)&&h.defaultView||window;var g=h.getSelection&&h.getSelection();if(g&&g.rangeCount!==0){h=g.anchorNode;var S=g.anchorOffset,I=g.focusNode;g=g.focusOffset;try{h.nodeType,I.nodeType}catch{h=null;break e}var M=0,z=-1,Y=-1,ae=0,we=0,Ee=t,ge=null;t:for(;;){for(var Pe;Ee!==h||S!==0&&Ee.nodeType!==3||(z=M+S),Ee!==I||g!==0&&Ee.nodeType!==3||(Y=M+g),Ee.nodeType===3&&(M+=Ee.nodeValue.length),(Pe=Ee.firstChild)!==null;)ge=Ee,Ee=Pe;for(;;){if(Ee===t)break t;if(ge===h&&++ae===S&&(z=M),ge===I&&++we===g&&(Y=M),(Pe=Ee.nextSibling)!==null)break;Ee=ge,ge=Ee.parentNode}Ee=Pe}h=z===-1||Y===-1?null:{start:z,end:Y}}else h=null}h=h||{start:0,end:0}}else h=null;for(cd={focusedElem:t,selectionRange:h},As=!1,He=o;He!==null;)if(o=He,t=o.child,(o.subtreeFlags&1028)!==0&&t!==null)t.return=o,He=t;else for(;He!==null;){o=He;try{var ze=o.alternate;if((o.flags&1024)!==0)switch(o.tag){case 0:case 11:case 15:break;case 1:if(ze!==null){var We=ze.memoizedProps,En=ze.memoizedState,te=o.stateNode,$=te.getSnapshotBeforeUpdate(o.elementType===o.type?We:fs(o.type,We),En);te.__reactInternalSnapshotBeforeUpdate=$}break;case 3:var ne=o.stateNode.containerInfo;ne.nodeType===1?ne.textContent="":ne.nodeType===9&&ne.documentElement&&ne.removeChild(ne.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(l(163))}}catch(Ae){pn(o,o.return,Ae)}if(t=o.sibling,t!==null){t.return=o.return,He=t;break}He=o.return}return ze=R0,R0=!1,ze}function cl(t,o,h){var g=o.updateQueue;if(g=g!==null?g.lastEffect:null,g!==null){var S=g=g.next;do{if((S.tag&t)===t){var I=S.destroy;S.destroy=void 0,I!==void 0&&Qd(o,h,I)}S=S.next}while(S!==g)}}function Oc(t,o){if(o=o.updateQueue,o=o!==null?o.lastEffect:null,o!==null){var h=o=o.next;do{if((h.tag&t)===t){var g=h.create;h.destroy=g()}h=h.next}while(h!==o)}}function Zd(t){var o=t.ref;if(o!==null){var h=t.stateNode;switch(t.tag){case 5:t=h;break;default:t=h}typeof o=="function"?o(t):o.current=t}}function O0(t){var o=t.alternate;o!==null&&(t.alternate=null,O0(o)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(o=t.stateNode,o!==null&&(delete o[Ts],delete o[$a],delete o[hd],delete o[ow],delete o[aw])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function _0(t){return t.tag===5||t.tag===3||t.tag===4}function D0(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||_0(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function $d(t,o,h){var g=t.tag;if(g===5||g===6)t=t.stateNode,o?h.nodeType===8?h.parentNode.insertBefore(t,o):h.insertBefore(t,o):(h.nodeType===8?(o=h.parentNode,o.insertBefore(t,h)):(o=h,o.appendChild(t)),h=h._reactRootContainer,h!=null||o.onclick!==null||(o.onclick=lc));else if(g!==4&&(t=t.child,t!==null))for($d(t,o,h),t=t.sibling;t!==null;)$d(t,o,h),t=t.sibling}function Jd(t,o,h){var g=t.tag;if(g===5||g===6)t=t.stateNode,o?h.insertBefore(t,o):h.appendChild(t);else if(g!==4&&(t=t.child,t!==null))for(Jd(t,o,h),t=t.sibling;t!==null;)Jd(t,o,h),t=t.sibling}var $n=null,hs=!1;function Ii(t,o,h){for(h=h.child;h!==null;)M0(t,o,h),h=h.sibling}function M0(t,o,h){if(gt&&typeof gt.onCommitFiberUnmount=="function")try{gt.onCommitFiberUnmount(It,h)}catch{}switch(h.tag){case 5:cr||$o(h,o);case 6:var g=$n,S=hs;$n=null,Ii(t,o,h),$n=g,hs=S,$n!==null&&(hs?(t=$n,h=h.stateNode,t.nodeType===8?t.parentNode.removeChild(h):t.removeChild(h)):$n.removeChild(h.stateNode));break;case 18:$n!==null&&(hs?(t=$n,h=h.stateNode,t.nodeType===8?fd(t.parentNode,h):t.nodeType===1&&fd(t,h),ls(t)):fd($n,h.stateNode));break;case 4:g=$n,S=hs,$n=h.stateNode.containerInfo,hs=!0,Ii(t,o,h),$n=g,hs=S;break;case 0:case 11:case 14:case 15:if(!cr&&(g=h.updateQueue,g!==null&&(g=g.lastEffect,g!==null))){S=g=g.next;do{var I=S,M=I.destroy;I=I.tag,M!==void 0&&((I&2)!==0||(I&4)!==0)&&Qd(h,o,M),S=S.next}while(S!==g)}Ii(t,o,h);break;case 1:if(!cr&&($o(h,o),g=h.stateNode,typeof g.componentWillUnmount=="function"))try{g.props=h.memoizedProps,g.state=h.memoizedState,g.componentWillUnmount()}catch(z){pn(h,o,z)}Ii(t,o,h);break;case 21:Ii(t,o,h);break;case 22:h.mode&1?(cr=(g=cr)||h.memoizedState!==null,Ii(t,o,h),cr=g):Ii(t,o,h);break;default:Ii(t,o,h)}}function k0(t){var o=t.updateQueue;if(o!==null){t.updateQueue=null;var h=t.stateNode;h===null&&(h=t.stateNode=new bw),o.forEach(function(g){var S=Dw.bind(null,t,g);h.has(g)||(h.add(g),g.then(S,S))})}}function ms(t,o){var h=o.deletions;if(h!==null)for(var g=0;g<h.length;g++){var S=h[g];try{var I=t,M=o,z=M;e:for(;z!==null;){switch(z.tag){case 5:$n=z.stateNode,hs=!1;break e;case 3:$n=z.stateNode.containerInfo,hs=!0;break e;case 4:$n=z.stateNode.containerInfo,hs=!0;break e}z=z.return}if($n===null)throw Error(l(160));M0(I,M,S),$n=null,hs=!1;var Y=S.alternate;Y!==null&&(Y.return=null),S.return=null}catch(ae){pn(S,o,ae)}}if(o.subtreeFlags&12854)for(o=o.child;o!==null;)P0(o,t),o=o.sibling}function P0(t,o){var h=t.alternate,g=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(ms(o,t),Os(t),g&4){try{cl(3,t,t.return),Oc(3,t)}catch(We){pn(t,t.return,We)}try{cl(5,t,t.return)}catch(We){pn(t,t.return,We)}}break;case 1:ms(o,t),Os(t),g&512&&h!==null&&$o(h,h.return);break;case 5:if(ms(o,t),Os(t),g&512&&h!==null&&$o(h,h.return),t.flags&32){var S=t.stateNode;try{li(S,"")}catch(We){pn(t,t.return,We)}}if(g&4&&(S=t.stateNode,S!=null)){var I=t.memoizedProps,M=h!==null?h.memoizedProps:I,z=t.type,Y=t.updateQueue;if(t.updateQueue=null,Y!==null)try{z==="input"&&I.type==="radio"&&I.name!=null&&Kr(S,I),Yt(z,M);var ae=Yt(z,I);for(M=0;M<Y.length;M+=2){var we=Y[M],Ee=Y[M+1];we==="style"?Te(S,Ee):we==="dangerouslySetInnerHTML"?Fn(S,Ee):we==="children"?li(S,Ee):V(S,we,Ee,ae)}switch(z){case"input":Jt(S,I);break;case"textarea":Yr(S,I);break;case"select":var ge=S._wrapperState.wasMultiple;S._wrapperState.wasMultiple=!!I.multiple;var Pe=I.value;Pe!=null?Fe(S,!!I.multiple,Pe,!1):ge!==!!I.multiple&&(I.defaultValue!=null?Fe(S,!!I.multiple,I.defaultValue,!0):Fe(S,!!I.multiple,I.multiple?[]:"",!1))}S[$a]=I}catch(We){pn(t,t.return,We)}}break;case 6:if(ms(o,t),Os(t),g&4){if(t.stateNode===null)throw Error(l(162));S=t.stateNode,I=t.memoizedProps;try{S.nodeValue=I}catch(We){pn(t,t.return,We)}}break;case 3:if(ms(o,t),Os(t),g&4&&h!==null&&h.memoizedState.isDehydrated)try{ls(o.containerInfo)}catch(We){pn(t,t.return,We)}break;case 4:ms(o,t),Os(t);break;case 13:ms(o,t),Os(t),S=t.child,S.flags&8192&&(I=S.memoizedState!==null,S.stateNode.isHidden=I,!I||S.alternate!==null&&S.alternate.memoizedState!==null||(nf=Mt())),g&4&&k0(t);break;case 22:if(we=h!==null&&h.memoizedState!==null,t.mode&1?(cr=(ae=cr)||we,ms(o,t),cr=ae):ms(o,t),Os(t),g&8192){if(ae=t.memoizedState!==null,(t.stateNode.isHidden=ae)&&!we&&(t.mode&1)!==0)for(He=t,we=t.child;we!==null;){for(Ee=He=we;He!==null;){switch(ge=He,Pe=ge.child,ge.tag){case 0:case 11:case 14:case 15:cl(4,ge,ge.return);break;case 1:$o(ge,ge.return);var ze=ge.stateNode;if(typeof ze.componentWillUnmount=="function"){g=ge,h=ge.return;try{o=g,ze.props=o.memoizedProps,ze.state=o.memoizedState,ze.componentWillUnmount()}catch(We){pn(g,h,We)}}break;case 5:$o(ge,ge.return);break;case 22:if(ge.memoizedState!==null){B0(Ee);continue}}Pe!==null?(Pe.return=ge,He=Pe):B0(Ee)}we=we.sibling}e:for(we=null,Ee=t;;){if(Ee.tag===5){if(we===null){we=Ee;try{S=Ee.stateNode,ae?(I=S.style,typeof I.setProperty=="function"?I.setProperty("display","none","important"):I.display="none"):(z=Ee.stateNode,Y=Ee.memoizedProps.style,M=Y!=null&&Y.hasOwnProperty("display")?Y.display:null,z.style.display=cn("display",M))}catch(We){pn(t,t.return,We)}}}else if(Ee.tag===6){if(we===null)try{Ee.stateNode.nodeValue=ae?"":Ee.memoizedProps}catch(We){pn(t,t.return,We)}}else if((Ee.tag!==22&&Ee.tag!==23||Ee.memoizedState===null||Ee===t)&&Ee.child!==null){Ee.child.return=Ee,Ee=Ee.child;continue}if(Ee===t)break e;for(;Ee.sibling===null;){if(Ee.return===null||Ee.return===t)break e;we===Ee&&(we=null),Ee=Ee.return}we===Ee&&(we=null),Ee.sibling.return=Ee.return,Ee=Ee.sibling}}break;case 19:ms(o,t),Os(t),g&4&&k0(t);break;case 21:break;default:ms(o,t),Os(t)}}function Os(t){var o=t.flags;if(o&2){try{e:{for(var h=t.return;h!==null;){if(_0(h)){var g=h;break e}h=h.return}throw Error(l(160))}switch(g.tag){case 5:var S=g.stateNode;g.flags&32&&(li(S,""),g.flags&=-33);var I=D0(t);Jd(t,I,S);break;case 3:case 4:var M=g.stateNode.containerInfo,z=D0(t);$d(t,z,M);break;default:throw Error(l(161))}}catch(Y){pn(t,t.return,Y)}t.flags&=-3}o&4096&&(t.flags&=-4097)}function Sw(t,o,h){He=t,L0(t)}function L0(t,o,h){for(var g=(t.mode&1)!==0;He!==null;){var S=He,I=S.child;if(S.tag===22&&g){var M=S.memoizedState!==null||Rc;if(!M){var z=S.alternate,Y=z!==null&&z.memoizedState!==null||cr;z=Rc;var ae=cr;if(Rc=M,(cr=Y)&&!ae)for(He=S;He!==null;)M=He,Y=M.child,M.tag===22&&M.memoizedState!==null?U0(S):Y!==null?(Y.return=M,He=Y):U0(S);for(;I!==null;)He=I,L0(I),I=I.sibling;He=S,Rc=z,cr=ae}F0(t)}else(S.subtreeFlags&8772)!==0&&I!==null?(I.return=S,He=I):F0(t)}}function F0(t){for(;He!==null;){var o=He;if((o.flags&8772)!==0){var h=o.alternate;try{if((o.flags&8772)!==0)switch(o.tag){case 0:case 11:case 15:cr||Oc(5,o);break;case 1:var g=o.stateNode;if(o.flags&4&&!cr)if(h===null)g.componentDidMount();else{var S=o.elementType===o.type?h.memoizedProps:fs(o.type,h.memoizedProps);g.componentDidUpdate(S,h.memoizedState,g.__reactInternalSnapshotBeforeUpdate)}var I=o.updateQueue;I!==null&&B1(o,I,g);break;case 3:var M=o.updateQueue;if(M!==null){if(h=null,o.child!==null)switch(o.child.tag){case 5:h=o.child.stateNode;break;case 1:h=o.child.stateNode}B1(o,M,h)}break;case 5:var z=o.stateNode;if(h===null&&o.flags&4){h=z;var Y=o.memoizedProps;switch(o.type){case"button":case"input":case"select":case"textarea":Y.autoFocus&&h.focus();break;case"img":Y.src&&(h.src=Y.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(o.memoizedState===null){var ae=o.alternate;if(ae!==null){var we=ae.memoizedState;if(we!==null){var Ee=we.dehydrated;Ee!==null&&ls(Ee)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(l(163))}cr||o.flags&512&&Zd(o)}catch(ge){pn(o,o.return,ge)}}if(o===t){He=null;break}if(h=o.sibling,h!==null){h.return=o.return,He=h;break}He=o.return}}function B0(t){for(;He!==null;){var o=He;if(o===t){He=null;break}var h=o.sibling;if(h!==null){h.return=o.return,He=h;break}He=o.return}}function U0(t){for(;He!==null;){var o=He;try{switch(o.tag){case 0:case 11:case 15:var h=o.return;try{Oc(4,o)}catch(Y){pn(o,h,Y)}break;case 1:var g=o.stateNode;if(typeof g.componentDidMount=="function"){var S=o.return;try{g.componentDidMount()}catch(Y){pn(o,S,Y)}}var I=o.return;try{Zd(o)}catch(Y){pn(o,I,Y)}break;case 5:var M=o.return;try{Zd(o)}catch(Y){pn(o,M,Y)}}}catch(Y){pn(o,o.return,Y)}if(o===t){He=null;break}var z=o.sibling;if(z!==null){z.return=o.return,He=z;break}He=o.return}}var Aw=Math.ceil,_c=K.ReactCurrentDispatcher,ef=K.ReactCurrentOwner,ss=K.ReactCurrentBatchConfig,jt=0,Vn=null,An=null,Jn=0,zr=0,Jo=Ei(0),Dn=0,ul=null,uo=0,Dc=0,tf=0,dl=null,Ir=null,nf=0,ea=1/0,ei=null,Mc=!1,rf=null,Ti=null,kc=!1,ji=null,Pc=0,fl=0,sf=null,Lc=-1,Fc=0;function xr(){return(jt&6)!==0?Mt():Lc!==-1?Lc:Lc=Mt()}function Ri(t){return(t.mode&1)===0?1:(jt&2)!==0&&Jn!==0?Jn&-Jn:cw.transition!==null?(Fc===0&&(Fc=Tn()),Fc):(t=yt,t!==0||(t=window.event,t=t===void 0?16:Ba(t.type)),t)}function ps(t,o,h,g){if(50<fl)throw fl=0,sf=null,Error(l(185));B(t,h,g),((jt&2)===0||t!==Vn)&&(t===Vn&&((jt&2)===0&&(Dc|=h),Dn===4&&Oi(t,Jn)),Tr(t,g),h===1&&jt===0&&(o.mode&1)===0&&(ea=Mt()+500,fc&&Ni()))}function Tr(t,o){var h=t.callbackNode;di(t,o);var g=Lr(t,t===Vn?Jn:0);if(g===0)h!==null&&Bn(h),t.callbackNode=null,t.callbackPriority=0;else if(o=g&-g,t.callbackPriority!==o){if(h!=null&&Bn(h),o===1)t.tag===0?lw(V0.bind(null,t)):I1(V0.bind(null,t)),sw(function(){(jt&6)===0&&Ni()}),h=null;else{switch(Kl(g)){case 1:h=pe;break;case 4:h=Gl;break;case 16:h=Gt;break;case 536870912:h=Xl;break;default:h=Gt}h=Q0(h,H0.bind(null,t))}t.callbackPriority=o,t.callbackNode=h}}function H0(t,o){if(Lc=-1,Fc=0,(jt&6)!==0)throw Error(l(327));var h=t.callbackNode;if(ta()&&t.callbackNode!==h)return null;var g=Lr(t,t===Vn?Jn:0);if(g===0)return null;if((g&30)!==0||(g&t.expiredLanes)!==0||o)o=Bc(t,g);else{o=g;var S=jt;jt|=2;var I=W0();(Vn!==t||Jn!==o)&&(ei=null,ea=Mt()+500,ho(t,o));do try{jw();break}catch(z){z0(t,z)}while(!0);Ed(),_c.current=I,jt=S,An!==null?o=0:(Vn=null,Jn=0,o=Dn)}if(o!==0){if(o===2&&(S=kt(t),S!==0&&(g=S,o=of(t,S))),o===1)throw h=ul,ho(t,0),Oi(t,g),Tr(t,Mt()),h;if(o===6)Oi(t,g);else{if(S=t.current.alternate,(g&30)===0&&!Iw(S)&&(o=Bc(t,g),o===2&&(I=kt(t),I!==0&&(g=I,o=of(t,I))),o===1))throw h=ul,ho(t,0),Oi(t,g),Tr(t,Mt()),h;switch(t.finishedWork=S,t.finishedLanes=g,o){case 0:case 1:throw Error(l(345));case 2:mo(t,Ir,ei);break;case 3:if(Oi(t,g),(g&130023424)===g&&(o=nf+500-Mt(),10<o)){if(Lr(t,0)!==0)break;if(S=t.suspendedLanes,(S&g)!==g){xr(),t.pingedLanes|=t.suspendedLanes&S;break}t.timeoutHandle=dd(mo.bind(null,t,Ir,ei),o);break}mo(t,Ir,ei);break;case 4:if(Oi(t,g),(g&4194240)===g)break;for(o=t.eventTimes,S=-1;0<g;){var M=31-mr(g);I=1<<M,M=o[M],M>S&&(S=M),g&=~I}if(g=S,g=Mt()-g,g=(120>g?120:480>g?480:1080>g?1080:1920>g?1920:3e3>g?3e3:4320>g?4320:1960*Aw(g/1960))-g,10<g){t.timeoutHandle=dd(mo.bind(null,t,Ir,ei),g);break}mo(t,Ir,ei);break;case 5:mo(t,Ir,ei);break;default:throw Error(l(329))}}}return Tr(t,Mt()),t.callbackNode===h?H0.bind(null,t):null}function of(t,o){var h=dl;return t.current.memoizedState.isDehydrated&&(ho(t,o).flags|=256),t=Bc(t,o),t!==2&&(o=Ir,Ir=h,o!==null&&af(o)),t}function af(t){Ir===null?Ir=t:Ir.push.apply(Ir,t)}function Iw(t){for(var o=t;;){if(o.flags&16384){var h=o.updateQueue;if(h!==null&&(h=h.stores,h!==null))for(var g=0;g<h.length;g++){var S=h[g],I=S.getSnapshot;S=S.value;try{if(!J(I(),S))return!1}catch{return!1}}}if(h=o.child,o.subtreeFlags&16384&&h!==null)h.return=o,o=h;else{if(o===t)break;for(;o.sibling===null;){if(o.return===null||o.return===t)return!0;o=o.return}o.sibling.return=o.return,o=o.sibling}}return!0}function Oi(t,o){for(o&=~tf,o&=~Dc,t.suspendedLanes|=o,t.pingedLanes&=~o,t=t.expirationTimes;0<o;){var h=31-mr(o),g=1<<h;t[h]=-1,o&=~g}}function V0(t){if((jt&6)!==0)throw Error(l(327));ta();var o=Lr(t,0);if((o&1)===0)return Tr(t,Mt()),null;var h=Bc(t,o);if(t.tag!==0&&h===2){var g=kt(t);g!==0&&(o=g,h=of(t,g))}if(h===1)throw h=ul,ho(t,0),Oi(t,o),Tr(t,Mt()),h;if(h===6)throw Error(l(345));return t.finishedWork=t.current.alternate,t.finishedLanes=o,mo(t,Ir,ei),Tr(t,Mt()),null}function lf(t,o){var h=jt;jt|=1;try{return t(o)}finally{jt=h,jt===0&&(ea=Mt()+500,fc&&Ni())}}function fo(t){ji!==null&&ji.tag===0&&(jt&6)===0&&ta();var o=jt;jt|=1;var h=ss.transition,g=yt;try{if(ss.transition=null,yt=1,t)return t()}finally{yt=g,ss.transition=h,jt=o,(jt&6)===0&&Ni()}}function cf(){zr=Jo.current,tn(Jo)}function ho(t,o){t.finishedWork=null,t.finishedLanes=0;var h=t.timeoutHandle;if(h!==-1&&(t.timeoutHandle=-1,rw(h)),An!==null)for(h=An.return;h!==null;){var g=h;switch(gd(g),g.tag){case 1:g=g.type.childContextTypes,g!=null&&uc();break;case 3:Qo(),tn(Nr),tn(or),Rd();break;case 5:Td(g);break;case 4:Qo();break;case 13:tn(dn);break;case 19:tn(dn);break;case 10:bd(g.type._context);break;case 22:case 23:cf()}h=h.return}if(Vn=t,An=t=_i(t.current,null),Jn=zr=o,Dn=0,ul=null,tf=Dc=uo=0,Ir=dl=null,ao!==null){for(o=0;o<ao.length;o++)if(h=ao[o],g=h.interleaved,g!==null){h.interleaved=null;var S=g.next,I=h.pending;if(I!==null){var M=I.next;I.next=S,g.next=M}h.pending=g}ao=null}return t}function z0(t,o){do{var h=An;try{if(Ed(),Ec.current=Ac,bc){for(var g=fn.memoizedState;g!==null;){var S=g.queue;S!==null&&(S.pending=null),g=g.next}bc=!1}if(co=0,Hn=_n=fn=null,sl=!1,il=0,ef.current=null,h===null||h.return===null){Dn=1,ul=o,An=null;break}e:{var I=t,M=h.return,z=h,Y=o;if(o=Jn,z.flags|=32768,Y!==null&&typeof Y=="object"&&typeof Y.then=="function"){var ae=Y,we=z,Ee=we.tag;if((we.mode&1)===0&&(Ee===0||Ee===11||Ee===15)){var ge=we.alternate;ge?(we.updateQueue=ge.updateQueue,we.memoizedState=ge.memoizedState,we.lanes=ge.lanes):(we.updateQueue=null,we.memoizedState=null)}var Pe=m0(M);if(Pe!==null){Pe.flags&=-257,p0(Pe,M,z,I,o),Pe.mode&1&&h0(I,ae,o),o=Pe,Y=ae;var ze=o.updateQueue;if(ze===null){var We=new Set;We.add(Y),o.updateQueue=We}else ze.add(Y);break e}else{if((o&1)===0){h0(I,ae,o),uf();break e}Y=Error(l(426))}}else if(ln&&z.mode&1){var En=m0(M);if(En!==null){(En.flags&65536)===0&&(En.flags|=256),p0(En,M,z,I,o),vd(Zo(Y,z));break e}}I=Y=Zo(Y,z),Dn!==4&&(Dn=2),dl===null?dl=[I]:dl.push(I),I=M;do{switch(I.tag){case 3:I.flags|=65536,o&=-o,I.lanes|=o;var te=d0(I,Y,o);F1(I,te);break e;case 1:z=Y;var $=I.type,ne=I.stateNode;if((I.flags&128)===0&&(typeof $.getDerivedStateFromError=="function"||ne!==null&&typeof ne.componentDidCatch=="function"&&(Ti===null||!Ti.has(ne)))){I.flags|=65536,o&=-o,I.lanes|=o;var Ae=f0(I,z,o);F1(I,Ae);break e}}I=I.return}while(I!==null)}X0(h)}catch(Xe){o=Xe,An===h&&h!==null&&(An=h=h.return);continue}break}while(!0)}function W0(){var t=_c.current;return _c.current=Ac,t===null?Ac:t}function uf(){(Dn===0||Dn===3||Dn===2)&&(Dn=4),Vn===null||(uo&268435455)===0&&(Dc&268435455)===0||Oi(Vn,Jn)}function Bc(t,o){var h=jt;jt|=2;var g=W0();(Vn!==t||Jn!==o)&&(ei=null,ho(t,o));do try{Tw();break}catch(S){z0(t,S)}while(!0);if(Ed(),jt=h,_c.current=g,An!==null)throw Error(l(261));return Vn=null,Jn=0,Dn}function Tw(){for(;An!==null;)G0(An)}function jw(){for(;An!==null&&!qt();)G0(An)}function G0(t){var o=q0(t.alternate,t,zr);t.memoizedProps=t.pendingProps,o===null?X0(t):An=o,ef.current=null}function X0(t){var o=t;do{var h=o.alternate;if(t=o.return,(o.flags&32768)===0){if(h=Cw(h,o,zr),h!==null){An=h;return}}else{if(h=Ew(h,o),h!==null){h.flags&=32767,An=h;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{Dn=6,An=null;return}}if(o=o.sibling,o!==null){An=o;return}An=o=t}while(o!==null);Dn===0&&(Dn=5)}function mo(t,o,h){var g=yt,S=ss.transition;try{ss.transition=null,yt=1,Rw(t,o,h,g)}finally{ss.transition=S,yt=g}return null}function Rw(t,o,h,g){do ta();while(ji!==null);if((jt&6)!==0)throw Error(l(327));h=t.finishedWork;var S=t.finishedLanes;if(h===null)return null;if(t.finishedWork=null,t.finishedLanes=0,h===t.current)throw Error(l(177));t.callbackNode=null,t.callbackPriority=0;var I=h.lanes|h.childLanes;if(Ye(t,I),t===Vn&&(An=Vn=null,Jn=0),(h.subtreeFlags&2064)===0&&(h.flags&2064)===0||kc||(kc=!0,Q0(Gt,function(){return ta(),null})),I=(h.flags&15990)!==0,(h.subtreeFlags&15990)!==0||I){I=ss.transition,ss.transition=null;var M=yt;yt=1;var z=jt;jt|=4,ef.current=null,Nw(t,h),P0(h,t),ir(cd),As=!!ld,cd=ld=null,t.current=h,Sw(h),Wl(),jt=z,yt=M,ss.transition=I}else t.current=h;if(kc&&(kc=!1,ji=t,Pc=S),I=t.pendingLanes,I===0&&(Ti=null),Nt(h.stateNode),Tr(t,Mt()),o!==null)for(g=t.onRecoverableError,h=0;h<o.length;h++)S=o[h],g(S.value,{componentStack:S.stack,digest:S.digest});if(Mc)throw Mc=!1,t=rf,rf=null,t;return(Pc&1)!==0&&t.tag!==0&&ta(),I=t.pendingLanes,(I&1)!==0?t===sf?fl++:(fl=0,sf=t):fl=0,Ni(),null}function ta(){if(ji!==null){var t=Kl(Pc),o=ss.transition,h=yt;try{if(ss.transition=null,yt=16>t?16:t,ji===null)var g=!1;else{if(t=ji,ji=null,Pc=0,(jt&6)!==0)throw Error(l(331));var S=jt;for(jt|=4,He=t.current;He!==null;){var I=He,M=I.child;if((He.flags&16)!==0){var z=I.deletions;if(z!==null){for(var Y=0;Y<z.length;Y++){var ae=z[Y];for(He=ae;He!==null;){var we=He;switch(we.tag){case 0:case 11:case 15:cl(8,we,I)}var Ee=we.child;if(Ee!==null)Ee.return=we,He=Ee;else for(;He!==null;){we=He;var ge=we.sibling,Pe=we.return;if(O0(we),we===ae){He=null;break}if(ge!==null){ge.return=Pe,He=ge;break}He=Pe}}}var ze=I.alternate;if(ze!==null){var We=ze.child;if(We!==null){ze.child=null;do{var En=We.sibling;We.sibling=null,We=En}while(We!==null)}}He=I}}if((I.subtreeFlags&2064)!==0&&M!==null)M.return=I,He=M;else e:for(;He!==null;){if(I=He,(I.flags&2048)!==0)switch(I.tag){case 0:case 11:case 15:cl(9,I,I.return)}var te=I.sibling;if(te!==null){te.return=I.return,He=te;break e}He=I.return}}var $=t.current;for(He=$;He!==null;){M=He;var ne=M.child;if((M.subtreeFlags&2064)!==0&&ne!==null)ne.return=M,He=ne;else e:for(M=$;He!==null;){if(z=He,(z.flags&2048)!==0)try{switch(z.tag){case 0:case 11:case 15:Oc(9,z)}}catch(Xe){pn(z,z.return,Xe)}if(z===M){He=null;break e}var Ae=z.sibling;if(Ae!==null){Ae.return=z.return,He=Ae;break e}He=z.return}}if(jt=S,Ni(),gt&&typeof gt.onPostCommitFiberRoot=="function")try{gt.onPostCommitFiberRoot(It,t)}catch{}g=!0}return g}finally{yt=h,ss.transition=o}}return!1}function K0(t,o,h){o=Zo(h,o),o=d0(t,o,1),t=Ai(t,o,1),o=xr(),t!==null&&(B(t,1,o),Tr(t,o))}function pn(t,o,h){if(t.tag===3)K0(t,t,h);else for(;o!==null;){if(o.tag===3){K0(o,t,h);break}else if(o.tag===1){var g=o.stateNode;if(typeof o.type.getDerivedStateFromError=="function"||typeof g.componentDidCatch=="function"&&(Ti===null||!Ti.has(g))){t=Zo(h,t),t=f0(o,t,1),o=Ai(o,t,1),t=xr(),o!==null&&(B(o,1,t),Tr(o,t));break}}o=o.return}}function Ow(t,o,h){var g=t.pingCache;g!==null&&g.delete(o),o=xr(),t.pingedLanes|=t.suspendedLanes&h,Vn===t&&(Jn&h)===h&&(Dn===4||Dn===3&&(Jn&130023424)===Jn&&500>Mt()-nf?ho(t,0):tf|=h),Tr(t,o)}function Y0(t,o){o===0&&((t.mode&1)===0?o=1:(o=Oo,Oo<<=1,(Oo&130023424)===0&&(Oo=4194304)));var h=xr();t=Zs(t,o),t!==null&&(B(t,o,h),Tr(t,h))}function _w(t){var o=t.memoizedState,h=0;o!==null&&(h=o.retryLane),Y0(t,h)}function Dw(t,o){var h=0;switch(t.tag){case 13:var g=t.stateNode,S=t.memoizedState;S!==null&&(h=S.retryLane);break;case 19:g=t.stateNode;break;default:throw Error(l(314))}g!==null&&g.delete(o),Y0(t,h)}var q0;q0=function(t,o,h){if(t!==null)if(t.memoizedProps!==o.pendingProps||Nr.current)Ar=!0;else{if((t.lanes&h)===0&&(o.flags&128)===0)return Ar=!1,vw(t,o,h);Ar=(t.flags&131072)!==0}else Ar=!1,ln&&(o.flags&1048576)!==0&&T1(o,mc,o.index);switch(o.lanes=0,o.tag){case 2:var g=o.type;jc(t,o),t=o.pendingProps;var S=zo(o,or.current);qo(o,h),S=Dd(null,o,g,t,S,h);var I=Md();return o.flags|=1,typeof S=="object"&&S!==null&&typeof S.render=="function"&&S.$$typeof===void 0?(o.tag=1,o.memoizedState=null,o.updateQueue=null,Sr(g)?(I=!0,dc(o)):I=!1,o.memoizedState=S.state!==null&&S.state!==void 0?S.state:null,Ad(o),S.updater=Ic,o.stateNode=S,S._reactInternals=o,Ud(o,g,t,h),o=Wd(null,o,g,!0,I,h)):(o.tag=0,ln&&I&&xd(o),pr(null,o,S,h),o=o.child),o;case 16:g=o.elementType;e:{switch(jc(t,o),t=o.pendingProps,S=g._init,g=S(g._payload),o.type=g,S=o.tag=kw(g),t=fs(g,t),S){case 0:o=zd(null,o,g,t,h);break e;case 1:o=C0(null,o,g,t,h);break e;case 11:o=x0(null,o,g,t,h);break e;case 14:o=g0(null,o,g,fs(g.type,t),h);break e}throw Error(l(306,g,""))}return o;case 0:return g=o.type,S=o.pendingProps,S=o.elementType===g?S:fs(g,S),zd(t,o,g,S,h);case 1:return g=o.type,S=o.pendingProps,S=o.elementType===g?S:fs(g,S),C0(t,o,g,S,h);case 3:e:{if(E0(o),t===null)throw Error(l(387));g=o.pendingProps,I=o.memoizedState,S=I.element,L1(t,o),vc(o,g,null,h);var M=o.memoizedState;if(g=M.element,I.isDehydrated)if(I={element:g,isDehydrated:!1,cache:M.cache,pendingSuspenseBoundaries:M.pendingSuspenseBoundaries,transitions:M.transitions},o.updateQueue.baseState=I,o.memoizedState=I,o.flags&256){S=Zo(Error(l(423)),o),o=b0(t,o,g,h,S);break e}else if(g!==S){S=Zo(Error(l(424)),o),o=b0(t,o,g,h,S);break e}else for(Vr=Ci(o.stateNode.containerInfo.firstChild),Hr=o,ln=!0,ds=null,h=k1(o,null,g,h),o.child=h;h;)h.flags=h.flags&-3|4096,h=h.sibling;else{if(Xo(),g===S){o=Js(t,o,h);break e}pr(t,o,g,h)}o=o.child}return o;case 5:return U1(o),t===null&&wd(o),g=o.type,S=o.pendingProps,I=t!==null?t.memoizedProps:null,M=S.children,ud(g,S)?M=null:I!==null&&ud(g,I)&&(o.flags|=32),v0(t,o),pr(t,o,M,h),o.child;case 6:return t===null&&wd(o),null;case 13:return N0(t,o,h);case 4:return Id(o,o.stateNode.containerInfo),g=o.pendingProps,t===null?o.child=Ko(o,null,g,h):pr(t,o,g,h),o.child;case 11:return g=o.type,S=o.pendingProps,S=o.elementType===g?S:fs(g,S),x0(t,o,g,S,h);case 7:return pr(t,o,o.pendingProps,h),o.child;case 8:return pr(t,o,o.pendingProps.children,h),o.child;case 12:return pr(t,o,o.pendingProps.children,h),o.child;case 10:e:{if(g=o.type._context,S=o.pendingProps,I=o.memoizedProps,M=S.value,$t(gc,g._currentValue),g._currentValue=M,I!==null)if(J(I.value,M)){if(I.children===S.children&&!Nr.current){o=Js(t,o,h);break e}}else for(I=o.child,I!==null&&(I.return=o);I!==null;){var z=I.dependencies;if(z!==null){M=I.child;for(var Y=z.firstContext;Y!==null;){if(Y.context===g){if(I.tag===1){Y=$s(-1,h&-h),Y.tag=2;var ae=I.updateQueue;if(ae!==null){ae=ae.shared;var we=ae.pending;we===null?Y.next=Y:(Y.next=we.next,we.next=Y),ae.pending=Y}}I.lanes|=h,Y=I.alternate,Y!==null&&(Y.lanes|=h),Nd(I.return,h,o),z.lanes|=h;break}Y=Y.next}}else if(I.tag===10)M=I.type===o.type?null:I.child;else if(I.tag===18){if(M=I.return,M===null)throw Error(l(341));M.lanes|=h,z=M.alternate,z!==null&&(z.lanes|=h),Nd(M,h,o),M=I.sibling}else M=I.child;if(M!==null)M.return=I;else for(M=I;M!==null;){if(M===o){M=null;break}if(I=M.sibling,I!==null){I.return=M.return,M=I;break}M=M.return}I=M}pr(t,o,S.children,h),o=o.child}return o;case 9:return S=o.type,g=o.pendingProps.children,qo(o,h),S=ns(S),g=g(S),o.flags|=1,pr(t,o,g,h),o.child;case 14:return g=o.type,S=fs(g,o.pendingProps),S=fs(g.type,S),g0(t,o,g,S,h);case 15:return y0(t,o,o.type,o.pendingProps,h);case 17:return g=o.type,S=o.pendingProps,S=o.elementType===g?S:fs(g,S),jc(t,o),o.tag=1,Sr(g)?(t=!0,dc(o)):t=!1,qo(o,h),c0(o,g,S),Ud(o,g,S,h),Wd(null,o,g,!0,t,h);case 19:return A0(t,o,h);case 22:return w0(t,o,h)}throw Error(l(156,o.tag))};function Q0(t,o){return kr(t,o)}function Mw(t,o,h,g){this.tag=t,this.key=h,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=o,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=g,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function is(t,o,h,g){return new Mw(t,o,h,g)}function df(t){return t=t.prototype,!(!t||!t.isReactComponent)}function kw(t){if(typeof t=="function")return df(t)?1:0;if(t!=null){if(t=t.$$typeof,t===de)return 11;if(t===W)return 14}return 2}function _i(t,o){var h=t.alternate;return h===null?(h=is(t.tag,o,t.key,t.mode),h.elementType=t.elementType,h.type=t.type,h.stateNode=t.stateNode,h.alternate=t,t.alternate=h):(h.pendingProps=o,h.type=t.type,h.flags=0,h.subtreeFlags=0,h.deletions=null),h.flags=t.flags&14680064,h.childLanes=t.childLanes,h.lanes=t.lanes,h.child=t.child,h.memoizedProps=t.memoizedProps,h.memoizedState=t.memoizedState,h.updateQueue=t.updateQueue,o=t.dependencies,h.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext},h.sibling=t.sibling,h.index=t.index,h.ref=t.ref,h}function Uc(t,o,h,g,S,I){var M=2;if(g=t,typeof t=="function")df(t)&&(M=1);else if(typeof t=="string")M=5;else e:switch(t){case Q:return po(h.children,S,I,o);case fe:M=8,S|=8;break;case se:return t=is(12,h,o,S|2),t.elementType=se,t.lanes=I,t;case Ie:return t=is(13,h,o,S),t.elementType=Ie,t.lanes=I,t;case he:return t=is(19,h,o,S),t.elementType=he,t.lanes=I,t;case me:return Hc(h,S,I,o);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case Le:M=10;break e;case je:M=9;break e;case de:M=11;break e;case W:M=14;break e;case xe:M=16,g=null;break e}throw Error(l(130,t==null?t:typeof t,""))}return o=is(M,h,o,S),o.elementType=t,o.type=g,o.lanes=I,o}function po(t,o,h,g){return t=is(7,t,g,o),t.lanes=h,t}function Hc(t,o,h,g){return t=is(22,t,g,o),t.elementType=me,t.lanes=h,t.stateNode={isHidden:!1},t}function ff(t,o,h){return t=is(6,t,null,o),t.lanes=h,t}function hf(t,o,h){return o=is(4,t.children!==null?t.children:[],t.key,o),o.lanes=h,o.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},o}function Pw(t,o,h,g,S){this.tag=o,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=ee(0),this.expirationTimes=ee(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ee(0),this.identifierPrefix=g,this.onRecoverableError=S,this.mutableSourceEagerHydrationData=null}function mf(t,o,h,g,S,I,M,z,Y){return t=new Pw(t,o,h,z,Y),o===1?(o=1,I===!0&&(o|=8)):o=0,I=is(3,null,null,o),t.current=I,I.stateNode=t,I.memoizedState={element:g,isDehydrated:h,cache:null,transitions:null,pendingSuspenseBoundaries:null},Ad(I),t}function Lw(t,o,h){var g=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:le,key:g==null?null:""+g,children:t,containerInfo:o,implementation:h}}function Z0(t){if(!t)return bi;t=t._reactInternals;e:{if(br(t)!==t||t.tag!==1)throw Error(l(170));var o=t;do{switch(o.tag){case 3:o=o.stateNode.context;break e;case 1:if(Sr(o.type)){o=o.stateNode.__reactInternalMemoizedMergedChildContext;break e}}o=o.return}while(o!==null);throw Error(l(171))}if(t.tag===1){var h=t.type;if(Sr(h))return S1(t,h,o)}return o}function $0(t,o,h,g,S,I,M,z,Y){return t=mf(h,g,!0,t,S,I,M,z,Y),t.context=Z0(null),h=t.current,g=xr(),S=Ri(h),I=$s(g,S),I.callback=o??null,Ai(h,I,S),t.current.lanes=S,B(t,S,g),Tr(t,g),t}function Vc(t,o,h,g){var S=o.current,I=xr(),M=Ri(S);return h=Z0(h),o.context===null?o.context=h:o.pendingContext=h,o=$s(I,M),o.payload={element:t},g=g===void 0?null:g,g!==null&&(o.callback=g),t=Ai(S,o,M),t!==null&&(ps(t,S,M,I),wc(t,S,M)),M}function zc(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function J0(t,o){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var h=t.retryLane;t.retryLane=h!==0&&h<o?h:o}}function pf(t,o){J0(t,o),(t=t.alternate)&&J0(t,o)}function Fw(){return null}var em=typeof reportError=="function"?reportError:function(t){console.error(t)};function xf(t){this._internalRoot=t}Wc.prototype.render=xf.prototype.render=function(t){var o=this._internalRoot;if(o===null)throw Error(l(409));Vc(t,o,null,null)},Wc.prototype.unmount=xf.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var o=t.containerInfo;fo(function(){Vc(null,t,null,null)}),o[Ks]=null}};function Wc(t){this._internalRoot=t}Wc.prototype.unstable_scheduleHydration=function(t){if(t){var o=Qt();t={blockedOn:null,target:t,priority:o};for(var h=0;h<qn.length&&o!==0&&o<qn[h].priority;h++);qn.splice(h,0,t),h===0&&ql(t)}};function gf(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Gc(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function tm(){}function Bw(t,o,h,g,S){if(S){if(typeof g=="function"){var I=g;g=function(){var ae=zc(M);I.call(ae)}}var M=$0(o,g,t,0,null,!1,!1,"",tm);return t._reactRootContainer=M,t[Ks]=M.current,Qa(t.nodeType===8?t.parentNode:t),fo(),M}for(;S=t.lastChild;)t.removeChild(S);if(typeof g=="function"){var z=g;g=function(){var ae=zc(Y);z.call(ae)}}var Y=mf(t,0,!1,null,null,!1,!1,"",tm);return t._reactRootContainer=Y,t[Ks]=Y.current,Qa(t.nodeType===8?t.parentNode:t),fo(function(){Vc(o,Y,h,g)}),Y}function Xc(t,o,h,g,S){var I=h._reactRootContainer;if(I){var M=I;if(typeof S=="function"){var z=S;S=function(){var Y=zc(M);z.call(Y)}}Vc(o,M,t,S)}else M=Bw(h,o,t,S,g);return zc(M)}_o=function(t){switch(t.tag){case 3:var o=t.stateNode;if(o.current.memoizedState.isDehydrated){var h=Xt(o.pendingLanes);h!==0&&(hn(o,h|1),Tr(o,Mt()),(jt&6)===0&&(ea=Mt()+500,Ni()))}break;case 13:fo(function(){var g=Zs(t,1);if(g!==null){var S=xr();ps(g,t,1,S)}}),pf(t,1)}},sr=function(t){if(t.tag===13){var o=Zs(t,134217728);if(o!==null){var h=xr();ps(o,t,134217728,h)}pf(t,134217728)}},Qe=function(t){if(t.tag===13){var o=Ri(t),h=Zs(t,o);if(h!==null){var g=xr();ps(h,t,o,g)}pf(t,o)}},Qt=function(){return yt},Pa=function(t,o){var h=yt;try{return yt=t,o()}finally{yt=h}},jo=function(t,o,h){switch(o){case"input":if(Jt(t,h),o=h.name,h.type==="radio"&&o!=null){for(h=t;h.parentNode;)h=h.parentNode;for(h=h.querySelectorAll("input[name="+JSON.stringify(""+o)+'][type="radio"]'),o=0;o<h.length;o++){var g=h[o];if(g!==t&&g.form===t.form){var S=cc(g);if(!S)throw Error(l(90));Bt(g),Jt(g,S)}}}break;case"textarea":Yr(t,h);break;case"select":o=h.value,o!=null&&Fe(t,!!h.multiple,o,!1)}},Ro=lf,In=fo;var Uw={usingClientEntryPoint:!1,Events:[Ja,Ho,cc,ja,Er,lf]},hl={findFiberByHostInstance:ro,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},Hw={bundleType:hl.bundleType,version:hl.version,rendererPackageName:hl.rendererPackageName,rendererConfig:hl.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:K.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=Vl(t),t===null?null:t.stateNode},findFiberByHostInstance:hl.findFiberByHostInstance||Fw,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Kc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Kc.isDisabled&&Kc.supportsFiber)try{It=Kc.inject(Hw),gt=Kc}catch{}}return jr.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Uw,jr.createPortal=function(t,o){var h=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!gf(o))throw Error(l(200));return Lw(t,o,null,h)},jr.createRoot=function(t,o){if(!gf(t))throw Error(l(299));var h=!1,g="",S=em;return o!=null&&(o.unstable_strictMode===!0&&(h=!0),o.identifierPrefix!==void 0&&(g=o.identifierPrefix),o.onRecoverableError!==void 0&&(S=o.onRecoverableError)),o=mf(t,1,!1,null,null,h,!1,g,S),t[Ks]=o.current,Qa(t.nodeType===8?t.parentNode:t),new xf(o)},jr.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var o=t._reactInternals;if(o===void 0)throw typeof t.render=="function"?Error(l(188)):(t=Object.keys(t).join(","),Error(l(268,t)));return t=Vl(o),t=t===null?null:t.stateNode,t},jr.flushSync=function(t){return fo(t)},jr.hydrate=function(t,o,h){if(!Gc(o))throw Error(l(200));return Xc(null,t,o,!0,h)},jr.hydrateRoot=function(t,o,h){if(!gf(t))throw Error(l(405));var g=h!=null&&h.hydratedSources||null,S=!1,I="",M=em;if(h!=null&&(h.unstable_strictMode===!0&&(S=!0),h.identifierPrefix!==void 0&&(I=h.identifierPrefix),h.onRecoverableError!==void 0&&(M=h.onRecoverableError)),o=$0(o,null,t,1,h??null,S,!1,I,M),t[Ks]=o.current,Qa(t),g)for(t=0;t<g.length;t++)h=g[t],S=h._getVersion,S=S(h._source),o.mutableSourceEagerHydrationData==null?o.mutableSourceEagerHydrationData=[h,S]:o.mutableSourceEagerHydrationData.push(h,S);return new Wc(o)},jr.render=function(t,o,h){if(!Gc(o))throw Error(l(200));return Xc(null,t,o,!1,h)},jr.unmountComponentAtNode=function(t){if(!Gc(t))throw Error(l(40));return t._reactRootContainer?(fo(function(){Xc(null,null,t,!1,function(){t._reactRootContainer=null,t[Ks]=null})}),!0):!1},jr.unstable_batchedUpdates=lf,jr.unstable_renderSubtreeIntoContainer=function(t,o,h,g){if(!Gc(h))throw Error(l(200));if(t==null||t._reactInternals===void 0)throw Error(l(38));return Xc(t,o,h,!1,g)},jr.version="18.3.1-next-f1338f8080-20240426",jr}var cm;function Ep(){if(cm)return vf.exports;cm=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(a){console.error(a)}}return r(),vf.exports=Yw(),vf.exports}var um;function qw(){if(um)return qc;um=1;var r=Ep();return qc.createRoot=r.createRoot,qc.hydrateRoot=r.hydrateRoot,qc}var Qw=qw();function Zw(r,a){if(r instanceof RegExp)return{keys:!1,pattern:r};var l,d,p,x,E=[],C="",v=r.split("/");for(v[0]||v.shift();p=v.shift();)l=p[0],l==="*"?(E.push(l),C+=p[1]==="?"?"(?:/(.*))?":"/(.*)"):l===":"?(d=p.indexOf("?",1),x=p.indexOf(".",1),E.push(p.substring(1,~d?d:~x?x:p.length)),C+=~d&&!~x?"(?:/([^/]+?))?":"/([^/]+?)",~x&&(C+=(~d?"?":"")+"\\"+p.substring(x))):C+="/"+p;return{keys:E,pattern:new RegExp("^"+C+(a?"(?=$|/)":"/?$"),"i")}}var T=Su();const Kt=Eh(T),bp=Cp({__proto__:null,default:Kt},[T]);var bf={exports:{}},Nf={};var dm;function $w(){if(dm)return Nf;dm=1;var r=Su();function a(A,O){return A===O&&(A!==0||1/A===1/O)||A!==A&&O!==O}var l=typeof Object.is=="function"?Object.is:a,d=r.useState,p=r.useEffect,x=r.useLayoutEffect,E=r.useDebugValue;function C(A,O){var P=O(),F=d({inst:{value:P,getSnapshot:O}}),R=F[0].inst,L=F[1];return x(function(){R.value=P,R.getSnapshot=O,v(R)&&L({inst:R})},[A,P,O]),p(function(){return v(R)&&L({inst:R}),A(function(){v(R)&&L({inst:R})})},[A]),E(P),P}function v(A){var O=A.getSnapshot;A=A.value;try{var P=O();return!l(A,P)}catch{return!0}}function w(A,O){return O()}var b=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?w:C;return Nf.useSyncExternalStore=r.useSyncExternalStore!==void 0?r.useSyncExternalStore:b,Nf}var fm;function Jw(){return fm||(fm=1,bf.exports=$w()),bf.exports}var ev=Jw();const tv=bp.useInsertionEffect,nv=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",rv=nv?T.useLayoutEffect:T.useEffect,sv=tv||rv,Np=r=>{const a=T.useRef([r,(...l)=>a[0](...l)]).current;return sv(()=>{a[0]=r}),a[1]},iv="popstate",bh="pushState",Nh="replaceState",ov="hashchange",hm=[iv,bh,Nh,ov],av=r=>{for(const a of hm)addEventListener(a,r);return()=>{for(const a of hm)removeEventListener(a,r)}},Sp=(r,a)=>ev.useSyncExternalStore(av,r,a),lv=()=>location.search,cv=({ssrSearch:r=""}={})=>Sp(lv,()=>r),mm=()=>location.pathname,uv=({ssrPath:r}={})=>Sp(mm,r?()=>r:mm),dv=(r,{replace:a=!1,state:l=null}={})=>history[a?Nh:bh](l,"",r),fv=(r={})=>[uv(r),dv],pm=Symbol.for("wouter_v3");if(typeof history<"u"&&typeof window[pm]>"u"){for(const r of[bh,Nh]){const a=history[r];history[r]=function(){const l=a.apply(this,arguments),d=new Event(r);return d.arguments=arguments,dispatchEvent(d),l}}Object.defineProperty(window,pm,{value:!0})}const hv=(r,a)=>a.toLowerCase().indexOf(r.toLowerCase())?"~"+a:a.slice(r.length)||"/",Ap=(r="")=>r==="/"?"":r,mv=(r,a)=>r[0]==="~"?r.slice(1):Ap(a)+r,pv=(r="",a)=>hv(xm(Ap(r)),xm(a)),xm=r=>{try{return decodeURI(r)}catch{return r}},Ip={hook:fv,searchHook:cv,parser:Zw,base:"",ssrPath:void 0,ssrSearch:void 0,hrefs:r=>r},Tp=T.createContext(Ip),xa=()=>T.useContext(Tp),jp={},Rp=T.createContext(jp),Sh=()=>T.useContext(Rp),Au=r=>{const[a,l]=r.hook(r);return[pv(r.base,a),Np((d,p)=>l(mv(d,r.base),p))]},No=()=>Au(xa()),Ah=(r,a,l,d)=>{const{pattern:p,keys:x}=a instanceof RegExp?{keys:!1,pattern:a}:r(a||"*",d),E=p.exec(l)||[],[C,...v]=E;return C!==void 0?[!0,(()=>{const w=x!==!1?Object.fromEntries(x.map((A,O)=>[A,v[O]])):E.groups;let b={...v};return w&&Object.assign(b,w),b})(),...d?[C]:[]]:[!1,null]},Ih=r=>Ah(xa().parser,r,No()[0]),xv=({children:r,...a})=>{const l=xa(),d=a.hook?Ip:l;let p=d;const[x,E]=a.ssrPath?.split("?")??[];E&&(a.ssrSearch=E,a.ssrPath=x),a.hrefs=a.hrefs??a.hook?.hrefs;let C=T.useRef({}),v=C.current,w=v;for(let b in d){const A=b==="base"?d[b]+(a[b]||""):a[b]||d[b];v===w&&A!==w[b]&&(C.current=w={...w}),w[b]=A,A!==d[b]&&(p=w)}return T.createElement(Tp.Provider,{value:p,children:r})},gm=({children:r,component:a},l)=>a?T.createElement(a,{params:l}):typeof r=="function"?r(l):r,gv=r=>{let a=T.useRef(jp),l=a.current;for(const d in r)r[d]!==l[d]&&(l=r);return Object.keys(r).length===0&&(l=r),a.current=l},at=({path:r,nest:a,match:l,...d})=>{const p=xa(),[x]=Au(p),[E,C,v]=l??Ah(p.parser,r,x,a),w=gv({...Sh(),...C});if(!E)return null;const b=v?T.createElement(xv,{base:v},gm(d,w)):gm(d,w);return T.createElement(Rp.Provider,{value:w,children:b})},Ft=T.forwardRef((r,a)=>{const l=xa(),[d,p]=Au(l),{to:x="",href:E=x,onClick:C,asChild:v,children:w,className:b,replace:A,state:O,...P}=r,F=Np(L=>{L.ctrlKey||L.metaKey||L.altKey||L.shiftKey||L.button!==0||(C?.(L),L.defaultPrevented||(L.preventDefault(),p(E,r)))}),R=l.hrefs(E[0]==="~"?E.slice(1):l.base+E,l);return v&&T.isValidElement(w)?T.cloneElement(w,{onClick:F,href:R}):T.createElement("a",{...P,onClick:F,href:R,className:b?.call?b(d===E):b,children:w,ref:a})}),Op=r=>Array.isArray(r)?r.flatMap(a=>Op(a&&a.type===T.Fragment?a.props.children:a)):[r],ia=({children:r,location:a})=>{const l=xa(),[d]=Au(l);for(const p of Op(r)){let x=0;if(T.isValidElement(p)&&(x=Ah(l.parser,p.props.path,a||d,p.props.nest))[0])return T.cloneElement(p,{match:x})}return null};var ga=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(r){return this.listeners.add(r),this.onSubscribe(),()=>{this.listeners.delete(r),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},go=typeof window>"u"||"Deno"in globalThis;function os(){}function yv(r,a){return typeof r=="function"?r(a):r}function zf(r){return typeof r=="number"&&r>=0&&r!==1/0}function _p(r,a){return Math.max(r+(a||0)-Date.now(),0)}function la(r,a){return typeof r=="function"?r(a):r}function gs(r,a){return typeof r=="function"?r(a):r}function ym(r,a){const{type:l="all",exact:d,fetchStatus:p,predicate:x,queryKey:E,stale:C}=r;if(E){if(d){if(a.queryHash!==Th(E,a.options))return!1}else if(!Cl(a.queryKey,E))return!1}if(l!=="all"){const v=a.isActive();if(l==="active"&&!v||l==="inactive"&&v)return!1}return!(typeof C=="boolean"&&a.isStale()!==C||p&&p!==a.state.fetchStatus||x&&!x(a))}function wm(r,a){const{exact:l,status:d,predicate:p,mutationKey:x}=r;if(x){if(!a.options.mutationKey)return!1;if(l){if(yo(a.options.mutationKey)!==yo(x))return!1}else if(!Cl(a.options.mutationKey,x))return!1}return!(d&&a.state.status!==d||p&&!p(a))}function Th(r,a){return(a?.queryKeyHashFn||yo)(r)}function yo(r){return JSON.stringify(r,(a,l)=>Wf(l)?Object.keys(l).sort().reduce((d,p)=>(d[p]=l[p],d),{}):l)}function Cl(r,a){return r===a?!0:typeof r!=typeof a?!1:r&&a&&typeof r=="object"&&typeof a=="object"?!Object.keys(a).some(l=>!Cl(r[l],a[l])):!1}function Dp(r,a){if(r===a)return r;const l=vm(r)&&vm(a);if(l||Wf(r)&&Wf(a)){const d=l?r:Object.keys(r),p=d.length,x=l?a:Object.keys(a),E=x.length,C=l?[]:{};let v=0;for(let w=0;w<E;w++){const b=l?w:x[w];(!l&&d.includes(b)||l)&&r[b]===void 0&&a[b]===void 0?(C[b]=void 0,v++):(C[b]=Dp(r[b],a[b]),C[b]===r[b]&&r[b]!==void 0&&v++)}return p===E&&v===p?r:C}return a}function uu(r,a){if(!a||Object.keys(r).length!==Object.keys(a).length)return!1;for(const l in r)if(r[l]!==a[l])return!1;return!0}function vm(r){return Array.isArray(r)&&r.length===Object.keys(r).length}function Wf(r){if(!Cm(r))return!1;const a=r.constructor;if(a===void 0)return!0;const l=a.prototype;return!(!Cm(l)||!l.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(r)!==Object.prototype)}function Cm(r){return Object.prototype.toString.call(r)==="[object Object]"}function wv(r){return new Promise(a=>{setTimeout(a,r)})}function Gf(r,a,l){return typeof l.structuralSharing=="function"?l.structuralSharing(r,a):l.structuralSharing!==!1?Dp(r,a):a}function vv(r,a,l=0){const d=[...r,a];return l&&d.length>l?d.slice(1):d}function Cv(r,a,l=0){const d=[a,...r];return l&&d.length>l?d.slice(0,-1):d}var jh=Symbol();function Mp(r,a){return!r.queryFn&&a?.initialPromise?()=>a.initialPromise:!r.queryFn||r.queryFn===jh?()=>Promise.reject(new Error(`Missing queryFn: '${r.queryHash}'`)):r.queryFn}var Ev=class extends ga{#e;#t;#r;constructor(){super(),this.#r=r=>{if(!go&&window.addEventListener){const a=()=>r();return window.addEventListener("visibilitychange",a,!1),()=>{window.removeEventListener("visibilitychange",a)}}}}onSubscribe(){this.#t||this.setEventListener(this.#r)}onUnsubscribe(){this.hasListeners()||(this.#t?.(),this.#t=void 0)}setEventListener(r){this.#r=r,this.#t?.(),this.#t=r(a=>{typeof a=="boolean"?this.setFocused(a):this.onFocus()})}setFocused(r){this.#e!==r&&(this.#e=r,this.onFocus())}onFocus(){const r=this.isFocused();this.listeners.forEach(a=>{a(r)})}isFocused(){return typeof this.#e=="boolean"?this.#e:globalThis.document?.visibilityState!=="hidden"}},Rh=new Ev,bv=class extends ga{#e=!0;#t;#r;constructor(){super(),this.#r=r=>{if(!go&&window.addEventListener){const a=()=>r(!0),l=()=>r(!1);return window.addEventListener("online",a,!1),window.addEventListener("offline",l,!1),()=>{window.removeEventListener("online",a),window.removeEventListener("offline",l)}}}}onSubscribe(){this.#t||this.setEventListener(this.#r)}onUnsubscribe(){this.hasListeners()||(this.#t?.(),this.#t=void 0)}setEventListener(r){this.#r=r,this.#t?.(),this.#t=r(this.setOnline.bind(this))}setOnline(r){this.#e!==r&&(this.#e=r,this.listeners.forEach(l=>{l(r)}))}isOnline(){return this.#e}},du=new bv;function Xf(){let r,a;const l=new Promise((p,x)=>{r=p,a=x});l.status="pending",l.catch(()=>{});function d(p){Object.assign(l,p),delete l.resolve,delete l.reject}return l.resolve=p=>{d({status:"fulfilled",value:p}),r(p)},l.reject=p=>{d({status:"rejected",reason:p}),a(p)},l}function Nv(r){return Math.min(1e3*2**r,3e4)}function kp(r){return(r??"online")==="online"?du.isOnline():!0}var Pp=class extends Error{constructor(r){super("CancelledError"),this.revert=r?.revert,this.silent=r?.silent}};function Sf(r){return r instanceof Pp}function Lp(r){let a=!1,l=0,d=!1,p;const x=Xf(),E=R=>{d||(O(new Pp(R)),r.abort?.())},C=()=>{a=!0},v=()=>{a=!1},w=()=>Rh.isFocused()&&(r.networkMode==="always"||du.isOnline())&&r.canRun(),b=()=>kp(r.networkMode)&&r.canRun(),A=R=>{d||(d=!0,r.onSuccess?.(R),p?.(),x.resolve(R))},O=R=>{d||(d=!0,r.onError?.(R),p?.(),x.reject(R))},P=()=>new Promise(R=>{p=L=>{(d||w())&&R(L)},r.onPause?.()}).then(()=>{p=void 0,d||r.onContinue?.()}),F=()=>{if(d)return;let R;const L=l===0?r.initialPromise:void 0;try{R=L??r.fn()}catch(G){R=Promise.reject(G)}Promise.resolve(R).then(A).catch(G=>{if(d)return;const H=r.retry??(go?0:3),V=r.retryDelay??Nv,K=typeof V=="function"?V(l,G):V,re=H===!0||typeof H=="number"&&l<H||typeof H=="function"&&H(l,G);if(a||!re){O(G);return}l++,r.onFail?.(l,G),wv(K).then(()=>w()?void 0:P()).then(()=>{a?O(G):F()})})};return{promise:x,cancel:E,continue:()=>(p?.(),x),cancelRetry:C,continueRetry:v,canStart:b,start:()=>(b()?F():P().then(F),x)}}function Sv(){let r=[],a=0,l=C=>{C()},d=C=>{C()},p=C=>setTimeout(C,0);const x=C=>{a?r.push(C):p(()=>{l(C)})},E=()=>{const C=r;r=[],C.length&&p(()=>{d(()=>{C.forEach(v=>{l(v)})})})};return{batch:C=>{let v;a++;try{v=C()}finally{a--,a||E()}return v},batchCalls:C=>(...v)=>{x(()=>{C(...v)})},schedule:x,setNotifyFunction:C=>{l=C},setBatchNotifyFunction:C=>{d=C},setScheduler:C=>{p=C}}}var Mn=Sv(),Fp=class{#e;destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),zf(this.gcTime)&&(this.#e=setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(r){this.gcTime=Math.max(this.gcTime||0,r??(go?1/0:300*1e3))}clearGcTimeout(){this.#e&&(clearTimeout(this.#e),this.#e=void 0)}},Av=class extends Fp{#e;#t;#r;#n;#o;#i;constructor(r){super(),this.#i=!1,this.#o=r.defaultOptions,this.setOptions(r.options),this.observers=[],this.#r=r.cache,this.queryKey=r.queryKey,this.queryHash=r.queryHash,this.#e=Iv(this.options),this.state=r.state??this.#e,this.scheduleGc()}get meta(){return this.options.meta}get promise(){return this.#n?.promise}setOptions(r){this.options={...this.#o,...r},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&this.#r.remove(this)}setData(r,a){const l=Gf(this.state.data,r,this.options);return this.#s({data:l,type:"success",dataUpdatedAt:a?.updatedAt,manual:a?.manual}),l}setState(r,a){this.#s({type:"setState",state:r,setStateOptions:a})}cancel(r){const a=this.#n?.promise;return this.#n?.cancel(r),a?a.then(os).catch(os):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(this.#e)}isActive(){return this.observers.some(r=>gs(r.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===jh||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStale(){return this.state.isInvalidated?!0:this.getObserversCount()>0?this.observers.some(r=>r.getCurrentResult().isStale):this.state.data===void 0}isStaleByTime(r=0){return this.state.isInvalidated||this.state.data===void 0||!_p(this.state.dataUpdatedAt,r)}onFocus(){this.observers.find(a=>a.shouldFetchOnWindowFocus())?.refetch({cancelRefetch:!1}),this.#n?.continue()}onOnline(){this.observers.find(a=>a.shouldFetchOnReconnect())?.refetch({cancelRefetch:!1}),this.#n?.continue()}addObserver(r){this.observers.includes(r)||(this.observers.push(r),this.clearGcTimeout(),this.#r.notify({type:"observerAdded",query:this,observer:r}))}removeObserver(r){this.observers.includes(r)&&(this.observers=this.observers.filter(a=>a!==r),this.observers.length||(this.#n&&(this.#i?this.#n.cancel({revert:!0}):this.#n.cancelRetry()),this.scheduleGc()),this.#r.notify({type:"observerRemoved",query:this,observer:r}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||this.#s({type:"invalidate"})}fetch(r,a){if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&a?.cancelRefetch)this.cancel({silent:!0});else if(this.#n)return this.#n.continueRetry(),this.#n.promise}if(r&&this.setOptions(r),!this.options.queryFn){const C=this.observers.find(v=>v.options.queryFn);C&&this.setOptions(C.options)}const l=new AbortController,d=C=>{Object.defineProperty(C,"signal",{enumerable:!0,get:()=>(this.#i=!0,l.signal)})},p=()=>{const C=Mp(this.options,a),v={queryKey:this.queryKey,meta:this.meta};return d(v),this.#i=!1,this.options.persister?this.options.persister(C,v,this):C(v)},x={fetchOptions:a,options:this.options,queryKey:this.queryKey,state:this.state,fetchFn:p};d(x),this.options.behavior?.onFetch(x,this),this.#t=this.state,(this.state.fetchStatus==="idle"||this.state.fetchMeta!==x.fetchOptions?.meta)&&this.#s({type:"fetch",meta:x.fetchOptions?.meta});const E=C=>{Sf(C)&&C.silent||this.#s({type:"error",error:C}),Sf(C)||(this.#r.config.onError?.(C,this),this.#r.config.onSettled?.(this.state.data,C,this)),this.scheduleGc()};return this.#n=Lp({initialPromise:a?.initialPromise,fn:x.fetchFn,abort:l.abort.bind(l),onSuccess:C=>{if(C===void 0){E(new Error(`${this.queryHash} data is undefined`));return}try{this.setData(C)}catch(v){E(v);return}this.#r.config.onSuccess?.(C,this),this.#r.config.onSettled?.(C,this.state.error,this),this.scheduleGc()},onError:E,onFail:(C,v)=>{this.#s({type:"failed",failureCount:C,error:v})},onPause:()=>{this.#s({type:"pause"})},onContinue:()=>{this.#s({type:"continue"})},retry:x.options.retry,retryDelay:x.options.retryDelay,networkMode:x.options.networkMode,canRun:()=>!0}),this.#n.start()}#s(r){const a=l=>{switch(r.type){case"failed":return{...l,fetchFailureCount:r.failureCount,fetchFailureReason:r.error};case"pause":return{...l,fetchStatus:"paused"};case"continue":return{...l,fetchStatus:"fetching"};case"fetch":return{...l,...Bp(l.data,this.options),fetchMeta:r.meta??null};case"success":return{...l,data:r.data,dataUpdateCount:l.dataUpdateCount+1,dataUpdatedAt:r.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!r.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const d=r.error;return Sf(d)&&d.revert&&this.#t?{...this.#t,fetchStatus:"idle"}:{...l,error:d,errorUpdateCount:l.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:l.fetchFailureCount+1,fetchFailureReason:d,fetchStatus:"idle",status:"error"};case"invalidate":return{...l,isInvalidated:!0};case"setState":return{...l,...r.state}}};this.state=a(this.state),Mn.batch(()=>{this.observers.forEach(l=>{l.onQueryUpdate()}),this.#r.notify({query:this,type:"updated",action:r})})}};function Bp(r,a){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:kp(a.networkMode)?"fetching":"paused",...r===void 0&&{error:null,status:"pending"}}}function Iv(r){const a=typeof r.initialData=="function"?r.initialData():r.initialData,l=a!==void 0,d=l?typeof r.initialDataUpdatedAt=="function"?r.initialDataUpdatedAt():r.initialDataUpdatedAt:0;return{data:a,dataUpdateCount:0,dataUpdatedAt:l?d??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:l?"success":"pending",fetchStatus:"idle"}}var Tv=class extends ga{constructor(r={}){super(),this.config=r,this.#e=new Map}#e;build(r,a,l){const d=a.queryKey,p=a.queryHash??Th(d,a);let x=this.get(p);return x||(x=new Av({cache:this,queryKey:d,queryHash:p,options:r.defaultQueryOptions(a),state:l,defaultOptions:r.getQueryDefaults(d)}),this.add(x)),x}add(r){this.#e.has(r.queryHash)||(this.#e.set(r.queryHash,r),this.notify({type:"added",query:r}))}remove(r){const a=this.#e.get(r.queryHash);a&&(r.destroy(),a===r&&this.#e.delete(r.queryHash),this.notify({type:"removed",query:r}))}clear(){Mn.batch(()=>{this.getAll().forEach(r=>{this.remove(r)})})}get(r){return this.#e.get(r)}getAll(){return[...this.#e.values()]}find(r){const a={exact:!0,...r};return this.getAll().find(l=>ym(a,l))}findAll(r={}){const a=this.getAll();return Object.keys(r).length>0?a.filter(l=>ym(r,l)):a}notify(r){Mn.batch(()=>{this.listeners.forEach(a=>{a(r)})})}onFocus(){Mn.batch(()=>{this.getAll().forEach(r=>{r.onFocus()})})}onOnline(){Mn.batch(()=>{this.getAll().forEach(r=>{r.onOnline()})})}},jv=class extends Fp{#e;#t;#r;constructor(r){super(),this.mutationId=r.mutationId,this.#t=r.mutationCache,this.#e=[],this.state=r.state||Up(),this.setOptions(r.options),this.scheduleGc()}setOptions(r){this.options=r,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(r){this.#e.includes(r)||(this.#e.push(r),this.clearGcTimeout(),this.#t.notify({type:"observerAdded",mutation:this,observer:r}))}removeObserver(r){this.#e=this.#e.filter(a=>a!==r),this.scheduleGc(),this.#t.notify({type:"observerRemoved",mutation:this,observer:r})}optionalRemove(){this.#e.length||(this.state.status==="pending"?this.scheduleGc():this.#t.remove(this))}continue(){return this.#r?.continue()??this.execute(this.state.variables)}async execute(r){this.#r=Lp({fn:()=>this.options.mutationFn?this.options.mutationFn(r):Promise.reject(new Error("No mutationFn found")),onFail:(d,p)=>{this.#n({type:"failed",failureCount:d,error:p})},onPause:()=>{this.#n({type:"pause"})},onContinue:()=>{this.#n({type:"continue"})},retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>this.#t.canRun(this)});const a=this.state.status==="pending",l=!this.#r.canStart();try{if(!a){this.#n({type:"pending",variables:r,isPaused:l}),await this.#t.config.onMutate?.(r,this);const p=await this.options.onMutate?.(r);p!==this.state.context&&this.#n({type:"pending",context:p,variables:r,isPaused:l})}const d=await this.#r.start();return await this.#t.config.onSuccess?.(d,r,this.state.context,this),await this.options.onSuccess?.(d,r,this.state.context),await this.#t.config.onSettled?.(d,null,this.state.variables,this.state.context,this),await this.options.onSettled?.(d,null,r,this.state.context),this.#n({type:"success",data:d}),d}catch(d){try{throw await this.#t.config.onError?.(d,r,this.state.context,this),await this.options.onError?.(d,r,this.state.context),await this.#t.config.onSettled?.(void 0,d,this.state.variables,this.state.context,this),await this.options.onSettled?.(void 0,d,r,this.state.context),d}finally{this.#n({type:"error",error:d})}}finally{this.#t.runNext(this)}}#n(r){const a=l=>{switch(r.type){case"failed":return{...l,failureCount:r.failureCount,failureReason:r.error};case"pause":return{...l,isPaused:!0};case"continue":return{...l,isPaused:!1};case"pending":return{...l,context:r.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:r.isPaused,status:"pending",variables:r.variables,submittedAt:Date.now()};case"success":return{...l,data:r.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...l,data:void 0,error:r.error,failureCount:l.failureCount+1,failureReason:r.error,isPaused:!1,status:"error"}}};this.state=a(this.state),Mn.batch(()=>{this.#e.forEach(l=>{l.onMutationUpdate(r)}),this.#t.notify({mutation:this,type:"updated",action:r})})}};function Up(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var Rv=class extends ga{constructor(r={}){super(),this.config=r,this.#e=new Map,this.#t=Date.now()}#e;#t;build(r,a,l){const d=new jv({mutationCache:this,mutationId:++this.#t,options:r.defaultMutationOptions(a),state:l});return this.add(d),d}add(r){const a=Qc(r),l=this.#e.get(a)??[];l.push(r),this.#e.set(a,l),this.notify({type:"added",mutation:r})}remove(r){const a=Qc(r);if(this.#e.has(a)){const l=this.#e.get(a)?.filter(d=>d!==r);l&&(l.length===0?this.#e.delete(a):this.#e.set(a,l))}this.notify({type:"removed",mutation:r})}canRun(r){const a=this.#e.get(Qc(r))?.find(l=>l.state.status==="pending");return!a||a===r}runNext(r){return this.#e.get(Qc(r))?.find(l=>l!==r&&l.state.isPaused)?.continue()??Promise.resolve()}clear(){Mn.batch(()=>{this.getAll().forEach(r=>{this.remove(r)})})}getAll(){return[...this.#e.values()].flat()}find(r){const a={exact:!0,...r};return this.getAll().find(l=>wm(a,l))}findAll(r={}){return this.getAll().filter(a=>wm(r,a))}notify(r){Mn.batch(()=>{this.listeners.forEach(a=>{a(r)})})}resumePausedMutations(){const r=this.getAll().filter(a=>a.state.isPaused);return Mn.batch(()=>Promise.all(r.map(a=>a.continue().catch(os))))}};function Qc(r){return r.options.scope?.id??String(r.mutationId)}function Em(r){return{onFetch:(a,l)=>{const d=a.options,p=a.fetchOptions?.meta?.fetchMore?.direction,x=a.state.data?.pages||[],E=a.state.data?.pageParams||[];let C={pages:[],pageParams:[]},v=0;const w=async()=>{let b=!1;const A=F=>{Object.defineProperty(F,"signal",{enumerable:!0,get:()=>(a.signal.aborted?b=!0:a.signal.addEventListener("abort",()=>{b=!0}),a.signal)})},O=Mp(a.options,a.fetchOptions),P=async(F,R,L)=>{if(b)return Promise.reject();if(R==null&&F.pages.length)return Promise.resolve(F);const G={queryKey:a.queryKey,pageParam:R,direction:L?"backward":"forward",meta:a.options.meta};A(G);const H=await O(G),{maxPages:V}=a.options,K=L?Cv:vv;return{pages:K(F.pages,H,V),pageParams:K(F.pageParams,R,V)}};if(p&&x.length){const F=p==="backward",R=F?Ov:bm,L={pages:x,pageParams:E},G=R(d,L);C=await P(L,G,F)}else{const F=r??x.length;do{const R=v===0?E[0]??d.initialPageParam:bm(d,C);if(v>0&&R==null)break;C=await P(C,R),v++}while(v<F)}return C};a.options.persister?a.fetchFn=()=>a.options.persister?.(w,{queryKey:a.queryKey,meta:a.options.meta,signal:a.signal},l):a.fetchFn=w}}}function bm(r,{pages:a,pageParams:l}){const d=a.length-1;return a.length>0?r.getNextPageParam(a[d],a,l[d],l):void 0}function Ov(r,{pages:a,pageParams:l}){return a.length>0?r.getPreviousPageParam?.(a[0],a,l[0],l):void 0}var _v=class{#e;#t;#r;#n;#o;#i;#s;#a;constructor(r={}){this.#e=r.queryCache||new Tv,this.#t=r.mutationCache||new Rv,this.#r=r.defaultOptions||{},this.#n=new Map,this.#o=new Map,this.#i=0}mount(){this.#i++,this.#i===1&&(this.#s=Rh.subscribe(async r=>{r&&(await this.resumePausedMutations(),this.#e.onFocus())}),this.#a=du.subscribe(async r=>{r&&(await this.resumePausedMutations(),this.#e.onOnline())}))}unmount(){this.#i--,this.#i===0&&(this.#s?.(),this.#s=void 0,this.#a?.(),this.#a=void 0)}isFetching(r){return this.#e.findAll({...r,fetchStatus:"fetching"}).length}isMutating(r){return this.#t.findAll({...r,status:"pending"}).length}getQueryData(r){const a=this.defaultQueryOptions({queryKey:r});return this.#e.get(a.queryHash)?.state.data}ensureQueryData(r){const a=this.getQueryData(r.queryKey);if(a===void 0)return this.fetchQuery(r);{const l=this.defaultQueryOptions(r),d=this.#e.build(this,l);return r.revalidateIfStale&&d.isStaleByTime(la(l.staleTime,d))&&this.prefetchQuery(l),Promise.resolve(a)}}getQueriesData(r){return this.#e.findAll(r).map(({queryKey:a,state:l})=>{const d=l.data;return[a,d]})}setQueryData(r,a,l){const d=this.defaultQueryOptions({queryKey:r}),x=this.#e.get(d.queryHash)?.state.data,E=yv(a,x);if(E!==void 0)return this.#e.build(this,d).setData(E,{...l,manual:!0})}setQueriesData(r,a,l){return Mn.batch(()=>this.#e.findAll(r).map(({queryKey:d})=>[d,this.setQueryData(d,a,l)]))}getQueryState(r){const a=this.defaultQueryOptions({queryKey:r});return this.#e.get(a.queryHash)?.state}removeQueries(r){const a=this.#e;Mn.batch(()=>{a.findAll(r).forEach(l=>{a.remove(l)})})}resetQueries(r,a){const l=this.#e,d={type:"active",...r};return Mn.batch(()=>(l.findAll(r).forEach(p=>{p.reset()}),this.refetchQueries(d,a)))}cancelQueries(r={},a={}){const l={revert:!0,...a},d=Mn.batch(()=>this.#e.findAll(r).map(p=>p.cancel(l)));return Promise.all(d).then(os).catch(os)}invalidateQueries(r={},a={}){return Mn.batch(()=>{if(this.#e.findAll(r).forEach(d=>{d.invalidate()}),r.refetchType==="none")return Promise.resolve();const l={...r,type:r.refetchType??r.type??"active"};return this.refetchQueries(l,a)})}refetchQueries(r={},a){const l={...a,cancelRefetch:a?.cancelRefetch??!0},d=Mn.batch(()=>this.#e.findAll(r).filter(p=>!p.isDisabled()).map(p=>{let x=p.fetch(void 0,l);return l.throwOnError||(x=x.catch(os)),p.state.fetchStatus==="paused"?Promise.resolve():x}));return Promise.all(d).then(os)}fetchQuery(r){const a=this.defaultQueryOptions(r);a.retry===void 0&&(a.retry=!1);const l=this.#e.build(this,a);return l.isStaleByTime(la(a.staleTime,l))?l.fetch(a):Promise.resolve(l.state.data)}prefetchQuery(r){return this.fetchQuery(r).then(os).catch(os)}fetchInfiniteQuery(r){return r.behavior=Em(r.pages),this.fetchQuery(r)}prefetchInfiniteQuery(r){return this.fetchInfiniteQuery(r).then(os).catch(os)}ensureInfiniteQueryData(r){return r.behavior=Em(r.pages),this.ensureQueryData(r)}resumePausedMutations(){return du.isOnline()?this.#t.resumePausedMutations():Promise.resolve()}getQueryCache(){return this.#e}getMutationCache(){return this.#t}getDefaultOptions(){return this.#r}setDefaultOptions(r){this.#r=r}setQueryDefaults(r,a){this.#n.set(yo(r),{queryKey:r,defaultOptions:a})}getQueryDefaults(r){const a=[...this.#n.values()];let l={};return a.forEach(d=>{Cl(r,d.queryKey)&&(l={...l,...d.defaultOptions})}),l}setMutationDefaults(r,a){this.#o.set(yo(r),{mutationKey:r,defaultOptions:a})}getMutationDefaults(r){const a=[...this.#o.values()];let l={};return a.forEach(d=>{Cl(r,d.mutationKey)&&(l={...l,...d.defaultOptions})}),l}defaultQueryOptions(r){if(r._defaulted)return r;const a={...this.#r.queries,...this.getQueryDefaults(r.queryKey),...r,_defaulted:!0};return a.queryHash||(a.queryHash=Th(a.queryKey,a)),a.refetchOnReconnect===void 0&&(a.refetchOnReconnect=a.networkMode!=="always"),a.throwOnError===void 0&&(a.throwOnError=!!a.suspense),!a.networkMode&&a.persister&&(a.networkMode="offlineFirst"),a.enabled!==!0&&a.queryFn===jh&&(a.enabled=!1),a}defaultMutationOptions(r){return r?._defaulted?r:{...this.#r.mutations,...r?.mutationKey&&this.getMutationDefaults(r.mutationKey),...r,_defaulted:!0}}clear(){this.#e.clear(),this.#t.clear()}},Dv=class extends ga{constructor(r,a){super(),this.options=a,this.#e=r,this.#a=null,this.#s=Xf(),this.options.experimental_prefetchInRender||this.#s.reject(new Error("experimental_prefetchInRender feature flag is not enabled")),this.bindMethods(),this.setOptions(a)}#e;#t=void 0;#r=void 0;#n=void 0;#o;#i;#s;#a;#p;#f;#h;#c;#u;#l;#m=new Set;bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(this.#t.addObserver(this),Nm(this.#t,this.options)?this.#d():this.updateResult(),this.#w())}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return Kf(this.#t,this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return Kf(this.#t,this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,this.#v(),this.#C(),this.#t.removeObserver(this)}setOptions(r,a){const l=this.options,d=this.#t;if(this.options=this.#e.defaultQueryOptions(r),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof gs(this.options.enabled,this.#t)!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");this.#E(),this.#t.setOptions(this.options),l._defaulted&&!uu(this.options,l)&&this.#e.getQueryCache().notify({type:"observerOptionsUpdated",query:this.#t,observer:this});const p=this.hasListeners();p&&Sm(this.#t,d,this.options,l)&&this.#d(),this.updateResult(a),p&&(this.#t!==d||gs(this.options.enabled,this.#t)!==gs(l.enabled,this.#t)||la(this.options.staleTime,this.#t)!==la(l.staleTime,this.#t))&&this.#x();const x=this.#g();p&&(this.#t!==d||gs(this.options.enabled,this.#t)!==gs(l.enabled,this.#t)||x!==this.#l)&&this.#y(x)}getOptimisticResult(r){const a=this.#e.getQueryCache().build(this.#e,r),l=this.createResult(a,r);return kv(this,l)&&(this.#n=l,this.#i=this.options,this.#o=this.#t.state),l}getCurrentResult(){return this.#n}trackResult(r,a){const l={};return Object.keys(r).forEach(d=>{Object.defineProperty(l,d,{configurable:!1,enumerable:!0,get:()=>(this.trackProp(d),a?.(d),r[d])})}),l}trackProp(r){this.#m.add(r)}getCurrentQuery(){return this.#t}refetch({...r}={}){return this.fetch({...r})}fetchOptimistic(r){const a=this.#e.defaultQueryOptions(r),l=this.#e.getQueryCache().build(this.#e,a);return l.fetch().then(()=>this.createResult(l,a))}fetch(r){return this.#d({...r,cancelRefetch:r.cancelRefetch??!0}).then(()=>(this.updateResult(),this.#n))}#d(r){this.#E();let a=this.#t.fetch(this.options,r);return r?.throwOnError||(a=a.catch(os)),a}#x(){this.#v();const r=la(this.options.staleTime,this.#t);if(go||this.#n.isStale||!zf(r))return;const l=_p(this.#n.dataUpdatedAt,r)+1;this.#c=setTimeout(()=>{this.#n.isStale||this.updateResult()},l)}#g(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(this.#t):this.options.refetchInterval)??!1}#y(r){this.#C(),this.#l=r,!(go||gs(this.options.enabled,this.#t)===!1||!zf(this.#l)||this.#l===0)&&(this.#u=setInterval(()=>{(this.options.refetchIntervalInBackground||Rh.isFocused())&&this.#d()},this.#l))}#w(){this.#x(),this.#y(this.#g())}#v(){this.#c&&(clearTimeout(this.#c),this.#c=void 0)}#C(){this.#u&&(clearInterval(this.#u),this.#u=void 0)}createResult(r,a){const l=this.#t,d=this.options,p=this.#n,x=this.#o,E=this.#i,v=r!==l?r.state:this.#r,{state:w}=r;let b={...w},A=!1,O;if(a._optimisticResults){const Q=this.hasListeners(),fe=!Q&&Nm(r,a),se=Q&&Sm(r,l,a,d);(fe||se)&&(b={...b,...Bp(w.data,r.options)}),a._optimisticResults==="isRestoring"&&(b.fetchStatus="idle")}let{error:P,errorUpdatedAt:F,status:R}=b;if(a.select&&b.data!==void 0)if(p&&b.data===x?.data&&a.select===this.#p)O=this.#f;else try{this.#p=a.select,O=a.select(b.data),O=Gf(p?.data,O,a),this.#f=O,this.#a=null}catch(Q){this.#a=Q}else O=b.data;if(a.placeholderData!==void 0&&O===void 0&&R==="pending"){let Q;if(p?.isPlaceholderData&&a.placeholderData===E?.placeholderData)Q=p.data;else if(Q=typeof a.placeholderData=="function"?a.placeholderData(this.#h?.state.data,this.#h):a.placeholderData,a.select&&Q!==void 0)try{Q=a.select(Q),this.#a=null}catch(fe){this.#a=fe}Q!==void 0&&(R="success",O=Gf(p?.data,Q,a),A=!0)}this.#a&&(P=this.#a,O=this.#f,F=Date.now(),R="error");const L=b.fetchStatus==="fetching",G=R==="pending",H=R==="error",V=G&&L,K=O!==void 0,le={status:R,fetchStatus:b.fetchStatus,isPending:G,isSuccess:R==="success",isError:H,isInitialLoading:V,isLoading:V,data:O,dataUpdatedAt:b.dataUpdatedAt,error:P,errorUpdatedAt:F,failureCount:b.fetchFailureCount,failureReason:b.fetchFailureReason,errorUpdateCount:b.errorUpdateCount,isFetched:b.dataUpdateCount>0||b.errorUpdateCount>0,isFetchedAfterMount:b.dataUpdateCount>v.dataUpdateCount||b.errorUpdateCount>v.errorUpdateCount,isFetching:L,isRefetching:L&&!G,isLoadingError:H&&!K,isPaused:b.fetchStatus==="paused",isPlaceholderData:A,isRefetchError:H&&K,isStale:Oh(r,a),refetch:this.refetch,promise:this.#s};if(this.options.experimental_prefetchInRender){const Q=Le=>{le.status==="error"?Le.reject(le.error):le.data!==void 0&&Le.resolve(le.data)},fe=()=>{const Le=this.#s=le.promise=Xf();Q(Le)},se=this.#s;switch(se.status){case"pending":r.queryHash===l.queryHash&&Q(se);break;case"fulfilled":(le.status==="error"||le.data!==se.value)&&fe();break;case"rejected":(le.status!=="error"||le.error!==se.reason)&&fe();break}}return le}updateResult(r){const a=this.#n,l=this.createResult(this.#t,this.options);if(this.#o=this.#t.state,this.#i=this.options,this.#o.data!==void 0&&(this.#h=this.#t),uu(l,a))return;this.#n=l;const d={},p=()=>{if(!a)return!0;const{notifyOnChangeProps:x}=this.options,E=typeof x=="function"?x():x;if(E==="all"||!E&&!this.#m.size)return!0;const C=new Set(E??this.#m);return this.options.throwOnError&&C.add("error"),Object.keys(this.#n).some(v=>{const w=v;return this.#n[w]!==a[w]&&C.has(w)})};r?.listeners!==!1&&p()&&(d.listeners=!0),this.#b({...d,...r})}#E(){const r=this.#e.getQueryCache().build(this.#e,this.options);if(r===this.#t)return;const a=this.#t;this.#t=r,this.#r=r.state,this.hasListeners()&&(a?.removeObserver(this),r.addObserver(this))}onQueryUpdate(){this.updateResult(),this.hasListeners()&&this.#w()}#b(r){Mn.batch(()=>{r.listeners&&this.listeners.forEach(a=>{a(this.#n)}),this.#e.getQueryCache().notify({query:this.#t,type:"observerResultsUpdated"})})}};function Mv(r,a){return gs(a.enabled,r)!==!1&&r.state.data===void 0&&!(r.state.status==="error"&&a.retryOnMount===!1)}function Nm(r,a){return Mv(r,a)||r.state.data!==void 0&&Kf(r,a,a.refetchOnMount)}function Kf(r,a,l){if(gs(a.enabled,r)!==!1){const d=typeof l=="function"?l(r):l;return d==="always"||d!==!1&&Oh(r,a)}return!1}function Sm(r,a,l,d){return(r!==a||gs(d.enabled,r)===!1)&&(!l.suspense||r.state.status!=="error")&&Oh(r,l)}function Oh(r,a){return gs(a.enabled,r)!==!1&&r.isStaleByTime(la(a.staleTime,r))}function kv(r,a){return!uu(r.getCurrentResult(),a)}var Pv=class extends ga{#e;#t=void 0;#r;#n;constructor(a,l){super(),this.#e=a,this.setOptions(l),this.bindMethods(),this.#o()}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(a){const l=this.options;this.options=this.#e.defaultMutationOptions(a),uu(this.options,l)||this.#e.getMutationCache().notify({type:"observerOptionsUpdated",mutation:this.#r,observer:this}),l?.mutationKey&&this.options.mutationKey&&yo(l.mutationKey)!==yo(this.options.mutationKey)?this.reset():this.#r?.state.status==="pending"&&this.#r.setOptions(this.options)}onUnsubscribe(){this.hasListeners()||this.#r?.removeObserver(this)}onMutationUpdate(a){this.#o(),this.#i(a)}getCurrentResult(){return this.#t}reset(){this.#r?.removeObserver(this),this.#r=void 0,this.#o(),this.#i()}mutate(a,l){return this.#n=l,this.#r?.removeObserver(this),this.#r=this.#e.getMutationCache().build(this.#e,this.options),this.#r.addObserver(this),this.#r.execute(a)}#o(){const a=this.#r?.state??Up();this.#t={...a,isPending:a.status==="pending",isSuccess:a.status==="success",isError:a.status==="error",isIdle:a.status==="idle",mutate:this.mutate,reset:this.reset}}#i(a){Mn.batch(()=>{if(this.#n&&this.hasListeners()){const l=this.#t.variables,d=this.#t.context;a?.type==="success"?(this.#n.onSuccess?.(a.data,l,d),this.#n.onSettled?.(a.data,null,l,d)):a?.type==="error"&&(this.#n.onError?.(a.error,l,d),this.#n.onSettled?.(void 0,a.error,l,d))}this.listeners.forEach(l=>{l(this.#t)})})}},Hp=T.createContext(void 0),Vp=r=>{const a=T.useContext(Hp);if(!a)throw new Error("No QueryClient set, use QueryClientProvider to set one");return a},Lv=({client:r,children:a})=>(T.useEffect(()=>(r.mount(),()=>{r.unmount()}),[r]),s.jsx(Hp.Provider,{value:r,children:a})),zp=T.createContext(!1),Fv=()=>T.useContext(zp);zp.Provider;function Bv(){let r=!1;return{clearReset:()=>{r=!1},reset:()=>{r=!0},isReset:()=>r}}var Uv=T.createContext(Bv()),Hv=()=>T.useContext(Uv);function Wp(r,a){return typeof r=="function"?r(...a):!!r}function Yf(){}var Vv=(r,a)=>{(r.suspense||r.throwOnError||r.experimental_prefetchInRender)&&(a.isReset()||(r.retryOnMount=!1))},zv=r=>{T.useEffect(()=>{r.clearReset()},[r])},Wv=({result:r,errorResetBoundary:a,throwOnError:l,query:d})=>r.isError&&!a.isReset()&&!r.isFetching&&d&&Wp(l,[r.error,d]),Gv=r=>{r.suspense&&(r.staleTime===void 0&&(r.staleTime=1e3),typeof r.gcTime=="number"&&(r.gcTime=Math.max(r.gcTime,1e3)))},Xv=(r,a)=>r.isLoading&&r.isFetching&&!a,Kv=(r,a)=>r?.suspense&&a.isPending,Am=(r,a,l)=>a.fetchOptimistic(r).catch(()=>{l.clearReset()});function Yv(r,a,l){const d=Vp(),p=Fv(),x=Hv(),E=d.defaultQueryOptions(r);d.getDefaultOptions().queries?._experimental_beforeQuery?.(E),E._optimisticResults=p?"isRestoring":"optimistic",Gv(E),Vv(E,x),zv(x);const C=!d.getQueryCache().get(E.queryHash),[v]=T.useState(()=>new a(d,E)),w=v.getOptimisticResult(E);if(T.useSyncExternalStore(T.useCallback(b=>{const A=p?Yf:v.subscribe(Mn.batchCalls(b));return v.updateResult(),A},[v,p]),()=>v.getCurrentResult(),()=>v.getCurrentResult()),T.useEffect(()=>{v.setOptions(E,{listeners:!1})},[E,v]),Kv(E,w))throw Am(E,v,x);if(Wv({result:w,errorResetBoundary:x,throwOnError:E.throwOnError,query:d.getQueryCache().get(E.queryHash)}))throw w.error;return d.getDefaultOptions().queries?._experimental_afterQuery?.(E,w),E.experimental_prefetchInRender&&!go&&Xv(w,p)&&(C?Am(E,v,x):d.getQueryCache().get(E.queryHash)?.promise)?.catch(Yf).finally(()=>{v.updateResult()}),E.notifyOnChangeProps?w:v.trackResult(w)}function st(r,a){return Yv(r,Dv)}function bn(r,a){const l=Vp(),[d]=T.useState(()=>new Pv(l,r));T.useEffect(()=>{d.setOptions(r)},[d,r]);const p=T.useSyncExternalStore(T.useCallback(E=>d.subscribe(Mn.batchCalls(E)),[d]),()=>d.getCurrentResult(),()=>d.getCurrentResult()),x=T.useCallback((E,C)=>{d.mutate(E,C).catch(Yf)},[d]);if(p.error&&Wp(d.options.throwOnError,[p.error]))throw p.error;return{...p,mutate:x,mutateAsync:p.mutate}}async function Gp(r){if(!r.ok){const a=await r.text()||r.statusText;throw new Error(`${r.status}: ${a}`)}}async function Nn(r,a,l){const d=localStorage.getItem("auth_token"),p=l?{"Content-Type":"application/json"}:{};d&&(p.Authorization=`Bearer ${d}`);const x=await fetch(a,{method:r,headers:p,body:l?JSON.stringify(l):void 0,credentials:"include"});return await Gp(x),x}const qv=({on401:r})=>async({queryKey:a})=>{const l=localStorage.getItem("auth_token"),d={};l&&(d.Authorization=`Bearer ${l}`);const p=await fetch(a.join("/"),{credentials:"include",headers:d});return await Gp(p),await p.json()},on=new _v({defaultOptions:{queries:{queryFn:qv({on401:"throw"}),refetchInterval:!1,refetchOnWindowFocus:!1,staleTime:1/0,retry:!1},mutations:{retry:!1}}}),Qv=1,Zv=1e6;let Af=0;function $v(){return Af=(Af+1)%Number.MAX_SAFE_INTEGER,Af.toString()}const If=new Map,Im=r=>{if(If.has(r))return;const a=setTimeout(()=>{If.delete(r),vl({type:"REMOVE_TOAST",toastId:r})},Zv);If.set(r,a)},Jv=(r,a)=>{switch(a.type){case"ADD_TOAST":return{...r,toasts:[a.toast,...r.toasts].slice(0,Qv)};case"UPDATE_TOAST":return{...r,toasts:r.toasts.map(l=>l.id===a.toast.id?{...l,...a.toast}:l)};case"DISMISS_TOAST":{const{toastId:l}=a;return l?Im(l):r.toasts.forEach(d=>{Im(d.id)}),{...r,toasts:r.toasts.map(d=>d.id===l||l===void 0?{...d,open:!1}:d)}}case"REMOVE_TOAST":return a.toastId===void 0?{...r,toasts:[]}:{...r,toasts:r.toasts.filter(l=>l.id!==a.toastId)}}},iu=[];let ou={toasts:[]};function vl(r){ou=Jv(ou,r),iu.forEach(a=>{a(ou)})}function eC({...r}){const a=$v(),l=p=>vl({type:"UPDATE_TOAST",toast:{...p,id:a}}),d=()=>vl({type:"DISMISS_TOAST",toastId:a});return vl({type:"ADD_TOAST",toast:{...r,id:a,open:!0,onOpenChange:p=>{p||d()}}}),{id:a,dismiss:d,update:l}}function Wt(){const[r,a]=T.useState(ou);return T.useEffect(()=>(iu.push(a),()=>{const l=iu.indexOf(a);l>-1&&iu.splice(l,1)}),[r]),{...r,toast:eC,dismiss:l=>vl({type:"DISMISS_TOAST",toastId:l})}}var ya=Ep();const tC=Eh(ya);function rt(r,a,{checkForDefaultPrevented:l=!0}={}){return function(p){if(r?.(p),l===!1||!p.defaultPrevented)return a?.(p)}}function Tm(r,a){if(typeof r=="function")return r(a);r!=null&&(r.current=a)}function Xp(...r){return a=>{let l=!1;const d=r.map(p=>{const x=Tm(p,a);return!l&&typeof x=="function"&&(l=!0),x});if(l)return()=>{for(let p=0;p<d.length;p++){const x=d[p];typeof x=="function"?x():Tm(r[p],null)}}}}function zt(...r){return T.useCallback(Xp(...r),r)}function nC(r,a){const l=T.createContext(a),d=x=>{const{children:E,...C}=x,v=T.useMemo(()=>C,Object.values(C));return s.jsx(l.Provider,{value:v,children:E})};d.displayName=r+"Provider";function p(x){const E=T.useContext(l);if(E)return E;if(a!==void 0)return a;throw new Error(`\`${x}\` must be used within \`${r}\``)}return[d,p]}function Bs(r,a=[]){let l=[];function d(x,E){const C=T.createContext(E),v=l.length;l=[...l,E];const w=A=>{const{scope:O,children:P,...F}=A,R=O?.[r]?.[v]||C,L=T.useMemo(()=>F,Object.values(F));return s.jsx(R.Provider,{value:L,children:P})};w.displayName=x+"Provider";function b(A,O){const P=O?.[r]?.[v]||C,F=T.useContext(P);if(F)return F;if(E!==void 0)return E;throw new Error(`\`${A}\` must be used within \`${x}\``)}return[w,b]}const p=()=>{const x=l.map(E=>T.createContext(E));return function(C){const v=C?.[r]||x;return T.useMemo(()=>({[`__scope${r}`]:{...C,[r]:v}}),[C,v])}};return p.scopeName=r,[d,rC(p,...a)]}function rC(...r){const a=r[0];if(r.length===1)return a;const l=()=>{const d=r.map(p=>({useScope:p(),scopeName:p.scopeName}));return function(x){const E=d.reduce((C,{useScope:v,scopeName:w})=>{const A=v(x)[`__scope${w}`];return{...C,...A}},{});return T.useMemo(()=>({[`__scope${a.scopeName}`]:E}),[E])}};return l.scopeName=a.scopeName,l}function ha(r){const a=sC(r),l=T.forwardRef((d,p)=>{const{children:x,...E}=d,C=T.Children.toArray(x),v=C.find(iC);if(v){const w=v.props.children,b=C.map(A=>A===v?T.Children.count(w)>1?T.Children.only(null):T.isValidElement(w)?w.props.children:null:A);return s.jsx(a,{...E,ref:p,children:T.isValidElement(w)?T.cloneElement(w,void 0,b):null})}return s.jsx(a,{...E,ref:p,children:x})});return l.displayName=`${r}.Slot`,l}var _h=ha("Slot");function sC(r){const a=T.forwardRef((l,d)=>{const{children:p,...x}=l;if(T.isValidElement(p)){const E=aC(p),C=oC(x,p.props);return p.type!==T.Fragment&&(C.ref=d?Xp(d,E):E),T.cloneElement(p,C)}return T.Children.count(p)>1?T.Children.only(null):null});return a.displayName=`${r}.SlotClone`,a}var Kp=Symbol("radix.slottable");function Yp(r){const a=({children:l})=>s.jsx(s.Fragment,{children:l});return a.displayName=`${r}.Slottable`,a.__radixId=Kp,a}function iC(r){return T.isValidElement(r)&&typeof r.type=="function"&&"__radixId"in r.type&&r.type.__radixId===Kp}function oC(r,a){const l={...a};for(const d in a){const p=r[d],x=a[d];/^on[A-Z]/.test(d)?p&&x?l[d]=(...C)=>{x(...C),p(...C)}:p&&(l[d]=p):d==="style"?l[d]={...p,...x}:d==="className"&&(l[d]=[p,x].filter(Boolean).join(" "))}return{...r,...l}}function aC(r){let a=Object.getOwnPropertyDescriptor(r.props,"ref")?.get,l=a&&"isReactWarning"in a&&a.isReactWarning;return l?r.ref:(a=Object.getOwnPropertyDescriptor(r,"ref")?.get,l=a&&"isReactWarning"in a&&a.isReactWarning,l?r.props.ref:r.props.ref||r.ref)}function Dh(r){const a=r+"CollectionProvider",[l,d]=Bs(a),[p,x]=l(a,{collectionRef:{current:null},itemMap:new Map}),E=R=>{const{scope:L,children:G}=R,H=Kt.useRef(null),V=Kt.useRef(new Map).current;return s.jsx(p,{scope:L,itemMap:V,collectionRef:H,children:G})};E.displayName=a;const C=r+"CollectionSlot",v=ha(C),w=Kt.forwardRef((R,L)=>{const{scope:G,children:H}=R,V=x(C,G),K=zt(L,V.collectionRef);return s.jsx(v,{ref:K,children:H})});w.displayName=C;const b=r+"CollectionItemSlot",A="data-radix-collection-item",O=ha(b),P=Kt.forwardRef((R,L)=>{const{scope:G,children:H,...V}=R,K=Kt.useRef(null),re=zt(L,K),le=x(b,G);return Kt.useEffect(()=>(le.itemMap.set(K,{ref:K,...V}),()=>void le.itemMap.delete(K))),s.jsx(O,{[A]:"",ref:re,children:H})});P.displayName=b;function F(R){const L=x(r+"CollectionConsumer",R);return Kt.useCallback(()=>{const H=L.collectionRef.current;if(!H)return[];const V=Array.from(H.querySelectorAll(`[${A}]`));return Array.from(L.itemMap.values()).sort((le,Q)=>V.indexOf(le.ref.current)-V.indexOf(Q.ref.current))},[L.collectionRef,L.itemMap])}return[{Provider:E,Slot:w,ItemSlot:P},F,d]}var lC=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"],xt=lC.reduce((r,a)=>{const l=ha(`Primitive.${a}`),d=T.forwardRef((p,x)=>{const{asChild:E,...C}=p,v=E?l:a;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),s.jsx(v,{...C,ref:x})});return d.displayName=`Primitive.${a}`,{...r,[a]:d}},{});function qp(r,a){r&&ya.flushSync(()=>r.dispatchEvent(a))}function gr(r){const a=T.useRef(r);return T.useEffect(()=>{a.current=r}),T.useMemo(()=>(...l)=>a.current?.(...l),[])}function cC(r,a=globalThis?.document){const l=gr(r);T.useEffect(()=>{const d=p=>{p.key==="Escape"&&l(p)};return a.addEventListener("keydown",d,{capture:!0}),()=>a.removeEventListener("keydown",d,{capture:!0})},[l,a])}var uC="DismissableLayer",qf="dismissableLayer.update",dC="dismissableLayer.pointerDownOutside",fC="dismissableLayer.focusOutside",jm,Qp=T.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),Nl=T.forwardRef((r,a)=>{const{disableOutsidePointerEvents:l=!1,onEscapeKeyDown:d,onPointerDownOutside:p,onFocusOutside:x,onInteractOutside:E,onDismiss:C,...v}=r,w=T.useContext(Qp),[b,A]=T.useState(null),O=b?.ownerDocument??globalThis?.document,[,P]=T.useState({}),F=zt(a,Q=>A(Q)),R=Array.from(w.layers),[L]=[...w.layersWithOutsidePointerEventsDisabled].slice(-1),G=R.indexOf(L),H=b?R.indexOf(b):-1,V=w.layersWithOutsidePointerEventsDisabled.size>0,K=H>=G,re=mC(Q=>{const fe=Q.target,se=[...w.branches].some(Le=>Le.contains(fe));!K||se||(p?.(Q),E?.(Q),Q.defaultPrevented||C?.())},O),le=pC(Q=>{const fe=Q.target;[...w.branches].some(Le=>Le.contains(fe))||(x?.(Q),E?.(Q),Q.defaultPrevented||C?.())},O);return cC(Q=>{H===w.layers.size-1&&(d?.(Q),!Q.defaultPrevented&&C&&(Q.preventDefault(),C()))},O),T.useEffect(()=>{if(b)return l&&(w.layersWithOutsidePointerEventsDisabled.size===0&&(jm=O.body.style.pointerEvents,O.body.style.pointerEvents="none"),w.layersWithOutsidePointerEventsDisabled.add(b)),w.layers.add(b),Rm(),()=>{l&&w.layersWithOutsidePointerEventsDisabled.size===1&&(O.body.style.pointerEvents=jm)}},[b,O,l,w]),T.useEffect(()=>()=>{b&&(w.layers.delete(b),w.layersWithOutsidePointerEventsDisabled.delete(b),Rm())},[b,w]),T.useEffect(()=>{const Q=()=>P({});return document.addEventListener(qf,Q),()=>document.removeEventListener(qf,Q)},[]),s.jsx(xt.div,{...v,ref:F,style:{pointerEvents:V?K?"auto":"none":void 0,...r.style},onFocusCapture:rt(r.onFocusCapture,le.onFocusCapture),onBlurCapture:rt(r.onBlurCapture,le.onBlurCapture),onPointerDownCapture:rt(r.onPointerDownCapture,re.onPointerDownCapture)})});Nl.displayName=uC;var hC="DismissableLayerBranch",Zp=T.forwardRef((r,a)=>{const l=T.useContext(Qp),d=T.useRef(null),p=zt(a,d);return T.useEffect(()=>{const x=d.current;if(x)return l.branches.add(x),()=>{l.branches.delete(x)}},[l.branches]),s.jsx(xt.div,{...r,ref:p})});Zp.displayName=hC;function mC(r,a=globalThis?.document){const l=gr(r),d=T.useRef(!1),p=T.useRef(()=>{});return T.useEffect(()=>{const x=C=>{if(C.target&&!d.current){let v=function(){$p(dC,l,w,{discrete:!0})};const w={originalEvent:C};C.pointerType==="touch"?(a.removeEventListener("click",p.current),p.current=v,a.addEventListener("click",p.current,{once:!0})):v()}else a.removeEventListener("click",p.current);d.current=!1},E=window.setTimeout(()=>{a.addEventListener("pointerdown",x)},0);return()=>{window.clearTimeout(E),a.removeEventListener("pointerdown",x),a.removeEventListener("click",p.current)}},[a,l]),{onPointerDownCapture:()=>d.current=!0}}function pC(r,a=globalThis?.document){const l=gr(r),d=T.useRef(!1);return T.useEffect(()=>{const p=x=>{x.target&&!d.current&&$p(fC,l,{originalEvent:x},{discrete:!1})};return a.addEventListener("focusin",p),()=>a.removeEventListener("focusin",p)},[a,l]),{onFocusCapture:()=>d.current=!0,onBlurCapture:()=>d.current=!1}}function Rm(){const r=new CustomEvent(qf);document.dispatchEvent(r)}function $p(r,a,l,{discrete:d}){const p=l.originalEvent.target,x=new CustomEvent(r,{bubbles:!1,cancelable:!0,detail:l});a&&p.addEventListener(r,a,{once:!0}),d?qp(p,x):p.dispatchEvent(x)}var xC=Nl,gC=Zp,Pn=globalThis?.document?T.useLayoutEffect:()=>{},yC="Portal",Iu=T.forwardRef((r,a)=>{const{container:l,...d}=r,[p,x]=T.useState(!1);Pn(()=>x(!0),[]);const E=l||p&&globalThis?.document?.body;return E?tC.createPortal(s.jsx(xt.div,{...d,ref:a}),E):null});Iu.displayName=yC;function wC(r,a){return T.useReducer((l,d)=>a[l][d]??l,r)}var So=r=>{const{present:a,children:l}=r,d=vC(a),p=typeof l=="function"?l({present:d.isPresent}):T.Children.only(l),x=zt(d.ref,CC(p));return typeof l=="function"||d.isPresent?T.cloneElement(p,{ref:x}):null};So.displayName="Presence";function vC(r){const[a,l]=T.useState(),d=T.useRef({}),p=T.useRef(r),x=T.useRef("none"),E=r?"mounted":"unmounted",[C,v]=wC(E,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return T.useEffect(()=>{const w=Zc(d.current);x.current=C==="mounted"?w:"none"},[C]),Pn(()=>{const w=d.current,b=p.current;if(b!==r){const O=x.current,P=Zc(w);r?v("MOUNT"):P==="none"||w?.display==="none"?v("UNMOUNT"):v(b&&O!==P?"ANIMATION_OUT":"UNMOUNT"),p.current=r}},[r,v]),Pn(()=>{if(a){let w;const b=a.ownerDocument.defaultView??window,A=P=>{const R=Zc(d.current).includes(P.animationName);if(P.target===a&&R&&(v("ANIMATION_END"),!p.current)){const L=a.style.animationFillMode;a.style.animationFillMode="forwards",w=b.setTimeout(()=>{a.style.animationFillMode==="forwards"&&(a.style.animationFillMode=L)})}},O=P=>{P.target===a&&(x.current=Zc(d.current))};return a.addEventListener("animationstart",O),a.addEventListener("animationcancel",A),a.addEventListener("animationend",A),()=>{b.clearTimeout(w),a.removeEventListener("animationstart",O),a.removeEventListener("animationcancel",A),a.removeEventListener("animationend",A)}}else v("ANIMATION_END")},[a,v]),{isPresent:["mounted","unmountSuspended"].includes(C),ref:T.useCallback(w=>{w&&(d.current=getComputedStyle(w)),l(w)},[])}}function Zc(r){return r?.animationName||"none"}function CC(r){let a=Object.getOwnPropertyDescriptor(r.props,"ref")?.get,l=a&&"isReactWarning"in a&&a.isReactWarning;return l?r.ref:(a=Object.getOwnPropertyDescriptor(r,"ref")?.get,l=a&&"isReactWarning"in a&&a.isReactWarning,l?r.props.ref:r.props.ref||r.ref)}function wo({prop:r,defaultProp:a,onChange:l=()=>{}}){const[d,p]=EC({defaultProp:a,onChange:l}),x=r!==void 0,E=x?r:d,C=gr(l),v=T.useCallback(w=>{if(x){const A=typeof w=="function"?w(r):w;A!==r&&C(A)}else p(w)},[x,r,p,C]);return[E,v]}function EC({defaultProp:r,onChange:a}){const l=T.useState(r),[d]=l,p=T.useRef(d),x=gr(a);return T.useEffect(()=>{p.current!==d&&(x(d),p.current=d)},[d,p,x]),l}var bC="VisuallyHidden",Sl=T.forwardRef((r,a)=>s.jsx(xt.span,{...r,ref:a,style:{position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal",...r.style}}));Sl.displayName=bC;var NC=Sl,Mh="ToastProvider",[kh,SC,AC]=Dh("Toast"),[Jp]=Bs("Toast",[AC]),[IC,Tu]=Jp(Mh),ex=r=>{const{__scopeToast:a,label:l="Notification",duration:d=5e3,swipeDirection:p="right",swipeThreshold:x=50,children:E}=r,[C,v]=T.useState(null),[w,b]=T.useState(0),A=T.useRef(!1),O=T.useRef(!1);return l.trim()||console.error(`Invalid prop \`label\` supplied to \`${Mh}\`. Expected non-empty \`string\`.`),s.jsx(kh.Provider,{scope:a,children:s.jsx(IC,{scope:a,label:l,duration:d,swipeDirection:p,swipeThreshold:x,toastCount:w,viewport:C,onViewportChange:v,onToastAdd:T.useCallback(()=>b(P=>P+1),[]),onToastRemove:T.useCallback(()=>b(P=>P-1),[]),isFocusedToastEscapeKeyDownRef:A,isClosePausedRef:O,children:E})})};ex.displayName=Mh;var tx="ToastViewport",TC=["F8"],Qf="toast.viewportPause",Zf="toast.viewportResume",nx=T.forwardRef((r,a)=>{const{__scopeToast:l,hotkey:d=TC,label:p="Notifications ({hotkey})",...x}=r,E=Tu(tx,l),C=SC(l),v=T.useRef(null),w=T.useRef(null),b=T.useRef(null),A=T.useRef(null),O=zt(a,A,E.onViewportChange),P=d.join("+").replace(/Key/g,"").replace(/Digit/g,""),F=E.toastCount>0;T.useEffect(()=>{const L=G=>{d.length!==0&&d.every(V=>G[V]||G.code===V)&&A.current?.focus()};return document.addEventListener("keydown",L),()=>document.removeEventListener("keydown",L)},[d]),T.useEffect(()=>{const L=v.current,G=A.current;if(F&&L&&G){const H=()=>{if(!E.isClosePausedRef.current){const le=new CustomEvent(Qf);G.dispatchEvent(le),E.isClosePausedRef.current=!0}},V=()=>{if(E.isClosePausedRef.current){const le=new CustomEvent(Zf);G.dispatchEvent(le),E.isClosePausedRef.current=!1}},K=le=>{!L.contains(le.relatedTarget)&&V()},re=()=>{L.contains(document.activeElement)||V()};return L.addEventListener("focusin",H),L.addEventListener("focusout",K),L.addEventListener("pointermove",H),L.addEventListener("pointerleave",re),window.addEventListener("blur",H),window.addEventListener("focus",V),()=>{L.removeEventListener("focusin",H),L.removeEventListener("focusout",K),L.removeEventListener("pointermove",H),L.removeEventListener("pointerleave",re),window.removeEventListener("blur",H),window.removeEventListener("focus",V)}}},[F,E.isClosePausedRef]);const R=T.useCallback(({tabbingDirection:L})=>{const H=C().map(V=>{const K=V.ref.current,re=[K,...HC(K)];return L==="forwards"?re:re.reverse()});return(L==="forwards"?H.reverse():H).flat()},[C]);return T.useEffect(()=>{const L=A.current;if(L){const G=H=>{const V=H.altKey||H.ctrlKey||H.metaKey;if(H.key==="Tab"&&!V){const re=document.activeElement,le=H.shiftKey;if(H.target===L&&le){w.current?.focus();return}const se=R({tabbingDirection:le?"backwards":"forwards"}),Le=se.findIndex(je=>je===re);Tf(se.slice(Le+1))?H.preventDefault():le?w.current?.focus():b.current?.focus()}};return L.addEventListener("keydown",G),()=>L.removeEventListener("keydown",G)}},[C,R]),s.jsxs(gC,{ref:v,role:"region","aria-label":p.replace("{hotkey}",P),tabIndex:-1,style:{pointerEvents:F?void 0:"none"},children:[F&&s.jsx($f,{ref:w,onFocusFromOutsideViewport:()=>{const L=R({tabbingDirection:"forwards"});Tf(L)}}),s.jsx(kh.Slot,{scope:l,children:s.jsx(xt.ol,{tabIndex:-1,...x,ref:O})}),F&&s.jsx($f,{ref:b,onFocusFromOutsideViewport:()=>{const L=R({tabbingDirection:"backwards"});Tf(L)}})]})});nx.displayName=tx;var rx="ToastFocusProxy",$f=T.forwardRef((r,a)=>{const{__scopeToast:l,onFocusFromOutsideViewport:d,...p}=r,x=Tu(rx,l);return s.jsx(Sl,{"aria-hidden":!0,tabIndex:0,...p,ref:a,style:{position:"fixed"},onFocus:E=>{const C=E.relatedTarget;!x.viewport?.contains(C)&&d()}})});$f.displayName=rx;var ju="Toast",jC="toast.swipeStart",RC="toast.swipeMove",OC="toast.swipeCancel",_C="toast.swipeEnd",sx=T.forwardRef((r,a)=>{const{forceMount:l,open:d,defaultOpen:p,onOpenChange:x,...E}=r,[C=!0,v]=wo({prop:d,defaultProp:p,onChange:x});return s.jsx(So,{present:l||C,children:s.jsx(kC,{open:C,...E,ref:a,onClose:()=>v(!1),onPause:gr(r.onPause),onResume:gr(r.onResume),onSwipeStart:rt(r.onSwipeStart,w=>{w.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:rt(r.onSwipeMove,w=>{const{x:b,y:A}=w.detail.delta;w.currentTarget.setAttribute("data-swipe","move"),w.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${b}px`),w.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${A}px`)}),onSwipeCancel:rt(r.onSwipeCancel,w=>{w.currentTarget.setAttribute("data-swipe","cancel"),w.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),w.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),w.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),w.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:rt(r.onSwipeEnd,w=>{const{x:b,y:A}=w.detail.delta;w.currentTarget.setAttribute("data-swipe","end"),w.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),w.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),w.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${b}px`),w.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${A}px`),v(!1)})})})});sx.displayName=ju;var[DC,MC]=Jp(ju,{onClose(){}}),kC=T.forwardRef((r,a)=>{const{__scopeToast:l,type:d="foreground",duration:p,open:x,onClose:E,onEscapeKeyDown:C,onPause:v,onResume:w,onSwipeStart:b,onSwipeMove:A,onSwipeCancel:O,onSwipeEnd:P,...F}=r,R=Tu(ju,l),[L,G]=T.useState(null),H=zt(a,he=>G(he)),V=T.useRef(null),K=T.useRef(null),re=p||R.duration,le=T.useRef(0),Q=T.useRef(re),fe=T.useRef(0),{onToastAdd:se,onToastRemove:Le}=R,je=gr(()=>{L?.contains(document.activeElement)&&R.viewport?.focus(),E()}),de=T.useCallback(he=>{!he||he===1/0||(window.clearTimeout(fe.current),le.current=new Date().getTime(),fe.current=window.setTimeout(je,he))},[je]);T.useEffect(()=>{const he=R.viewport;if(he){const W=()=>{de(Q.current),w?.()},xe=()=>{const me=new Date().getTime()-le.current;Q.current=Q.current-me,window.clearTimeout(fe.current),v?.()};return he.addEventListener(Qf,xe),he.addEventListener(Zf,W),()=>{he.removeEventListener(Qf,xe),he.removeEventListener(Zf,W)}}},[R.viewport,re,v,w,de]),T.useEffect(()=>{x&&!R.isClosePausedRef.current&&de(re)},[x,re,R.isClosePausedRef,de]),T.useEffect(()=>(se(),()=>Le()),[se,Le]);const Ie=T.useMemo(()=>L?dx(L):null,[L]);return R.viewport?s.jsxs(s.Fragment,{children:[Ie&&s.jsx(PC,{__scopeToast:l,role:"status","aria-live":d==="foreground"?"assertive":"polite","aria-atomic":!0,children:Ie}),s.jsx(DC,{scope:l,onClose:je,children:ya.createPortal(s.jsx(kh.ItemSlot,{scope:l,children:s.jsx(xC,{asChild:!0,onEscapeKeyDown:rt(C,()=>{R.isFocusedToastEscapeKeyDownRef.current||je(),R.isFocusedToastEscapeKeyDownRef.current=!1}),children:s.jsx(xt.li,{role:"status","aria-live":"off","aria-atomic":!0,tabIndex:0,"data-state":x?"open":"closed","data-swipe-direction":R.swipeDirection,...F,ref:H,style:{userSelect:"none",touchAction:"none",...r.style},onKeyDown:rt(r.onKeyDown,he=>{he.key==="Escape"&&(C?.(he.nativeEvent),he.nativeEvent.defaultPrevented||(R.isFocusedToastEscapeKeyDownRef.current=!0,je()))}),onPointerDown:rt(r.onPointerDown,he=>{he.button===0&&(V.current={x:he.clientX,y:he.clientY})}),onPointerMove:rt(r.onPointerMove,he=>{if(!V.current)return;const W=he.clientX-V.current.x,xe=he.clientY-V.current.y,me=!!K.current,ce=["left","right"].includes(R.swipeDirection),ve=["left","up"].includes(R.swipeDirection)?Math.min:Math.max,Ce=ce?ve(0,W):0,Z=ce?0:ve(0,xe),ue=he.pointerType==="touch"?10:2,Ge={x:Ce,y:Z},Be={originalEvent:he,delta:Ge};me?(K.current=Ge,$c(RC,A,Be,{discrete:!1})):Om(Ge,R.swipeDirection,ue)?(K.current=Ge,$c(jC,b,Be,{discrete:!1}),he.target.setPointerCapture(he.pointerId)):(Math.abs(W)>ue||Math.abs(xe)>ue)&&(V.current=null)}),onPointerUp:rt(r.onPointerUp,he=>{const W=K.current,xe=he.target;if(xe.hasPointerCapture(he.pointerId)&&xe.releasePointerCapture(he.pointerId),K.current=null,V.current=null,W){const me=he.currentTarget,ce={originalEvent:he,delta:W};Om(W,R.swipeDirection,R.swipeThreshold)?$c(_C,P,ce,{discrete:!0}):$c(OC,O,ce,{discrete:!0}),me.addEventListener("click",ve=>ve.preventDefault(),{once:!0})}})})})}),R.viewport)})]}):null}),PC=r=>{const{__scopeToast:a,children:l,...d}=r,p=Tu(ju,a),[x,E]=T.useState(!1),[C,v]=T.useState(!1);return BC(()=>E(!0)),T.useEffect(()=>{const w=window.setTimeout(()=>v(!0),1e3);return()=>window.clearTimeout(w)},[]),C?null:s.jsx(Iu,{asChild:!0,children:s.jsx(Sl,{...d,children:x&&s.jsxs(s.Fragment,{children:[p.label," ",l]})})})},LC="ToastTitle",ix=T.forwardRef((r,a)=>{const{__scopeToast:l,...d}=r;return s.jsx(xt.div,{...d,ref:a})});ix.displayName=LC;var FC="ToastDescription",ox=T.forwardRef((r,a)=>{const{__scopeToast:l,...d}=r;return s.jsx(xt.div,{...d,ref:a})});ox.displayName=FC;var ax="ToastAction",lx=T.forwardRef((r,a)=>{const{altText:l,...d}=r;return l.trim()?s.jsx(ux,{altText:l,asChild:!0,children:s.jsx(Ph,{...d,ref:a})}):(console.error(`Invalid prop \`altText\` supplied to \`${ax}\`. Expected non-empty \`string\`.`),null)});lx.displayName=ax;var cx="ToastClose",Ph=T.forwardRef((r,a)=>{const{__scopeToast:l,...d}=r,p=MC(cx,l);return s.jsx(ux,{asChild:!0,children:s.jsx(xt.button,{type:"button",...d,ref:a,onClick:rt(r.onClick,p.onClose)})})});Ph.displayName=cx;var ux=T.forwardRef((r,a)=>{const{__scopeToast:l,altText:d,...p}=r;return s.jsx(xt.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":d||void 0,...p,ref:a})});function dx(r){const a=[];return Array.from(r.childNodes).forEach(d=>{if(d.nodeType===d.TEXT_NODE&&d.textContent&&a.push(d.textContent),UC(d)){const p=d.ariaHidden||d.hidden||d.style.display==="none",x=d.dataset.radixToastAnnounceExclude==="";if(!p)if(x){const E=d.dataset.radixToastAnnounceAlt;E&&a.push(E)}else a.push(...dx(d))}}),a}function $c(r,a,l,{discrete:d}){const p=l.originalEvent.currentTarget,x=new CustomEvent(r,{bubbles:!0,cancelable:!0,detail:l});a&&p.addEventListener(r,a,{once:!0}),d?qp(p,x):p.dispatchEvent(x)}var Om=(r,a,l=0)=>{const d=Math.abs(r.x),p=Math.abs(r.y),x=d>p;return a==="left"||a==="right"?x&&d>l:!x&&p>l};function BC(r=()=>{}){const a=gr(r);Pn(()=>{let l=0,d=0;return l=window.requestAnimationFrame(()=>d=window.requestAnimationFrame(a)),()=>{window.cancelAnimationFrame(l),window.cancelAnimationFrame(d)}},[a])}function UC(r){return r.nodeType===r.ELEMENT_NODE}function HC(r){const a=[],l=document.createTreeWalker(r,NodeFilter.SHOW_ELEMENT,{acceptNode:d=>{const p=d.tagName==="INPUT"&&d.type==="hidden";return d.disabled||d.hidden||p?NodeFilter.FILTER_SKIP:d.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;l.nextNode();)a.push(l.currentNode);return a}function Tf(r){const a=document.activeElement;return r.some(l=>l===a?!0:(l.focus(),document.activeElement!==a))}var VC=ex,fx=nx,hx=sx,mx=ix,px=ox,xx=lx,gx=Ph;function yx(r){var a,l,d="";if(typeof r=="string"||typeof r=="number")d+=r;else if(typeof r=="object")if(Array.isArray(r)){var p=r.length;for(a=0;a<p;a++)r[a]&&(l=yx(r[a]))&&(d&&(d+=" "),d+=l)}else for(l in r)r[l]&&(d&&(d+=" "),d+=l);return d}function wx(){for(var r,a,l=0,d="",p=arguments.length;l<p;l++)(r=arguments[l])&&(a=yx(r))&&(d&&(d+=" "),d+=a);return d}const _m=r=>typeof r=="boolean"?`${r}`:r===0?"0":r,Dm=wx,Ao=(r,a)=>l=>{var d;if(a?.variants==null)return Dm(r,l?.class,l?.className);const{variants:p,defaultVariants:x}=a,E=Object.keys(p).map(w=>{const b=l?.[w],A=x?.[w];if(b===null)return null;const O=_m(b)||_m(A);return p[w][O]}),C=l&&Object.entries(l).reduce((w,b)=>{let[A,O]=b;return O===void 0||(w[A]=O),w},{}),v=a==null||(d=a.compoundVariants)===null||d===void 0?void 0:d.reduce((w,b)=>{let{class:A,className:O,...P}=b;return Object.entries(P).every(F=>{let[R,L]=F;return Array.isArray(L)?L.includes({...x,...C}[R]):{...x,...C}[R]===L})?[...w,A,O]:w},[]);return Dm(r,E,v,l?.class,l?.className)};const zC=r=>r.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),vx=(...r)=>r.filter((a,l,d)=>!!a&&d.indexOf(a)===l).join(" ");var WC={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const GC=T.forwardRef(({color:r="currentColor",size:a=24,strokeWidth:l=2,absoluteStrokeWidth:d,className:p="",children:x,iconNode:E,...C},v)=>T.createElement("svg",{ref:v,...WC,width:a,height:a,stroke:r,strokeWidth:d?Number(l)*24/Number(a):l,className:vx("lucide",p),...C},[...E.map(([w,b])=>T.createElement(w,b)),...Array.isArray(x)?x:[x]]));const ht=(r,a)=>{const l=T.forwardRef(({className:d,...p},x)=>T.createElement(GC,{ref:x,iconNode:a,className:vx(`lucide-${zC(r)}`,d),...p}));return l.displayName=`${r}`,l};const Ds=ht("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);const XC=ht("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);const Or=ht("BookOpen",[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]]);const KC=ht("Building2",[["path",{d:"M6 22V4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v18Z",key:"1b4qmf"}],["path",{d:"M6 12H4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h2",key:"i71pzd"}],["path",{d:"M18 9h2a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2h-2",key:"10jefs"}],["path",{d:"M10 6h4",key:"1itunk"}],["path",{d:"M10 10h4",key:"tcdvrf"}],["path",{d:"M10 14h4",key:"kelpxr"}],["path",{d:"M10 18h4",key:"1ulq68"}]]);const Ps=ht("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);const jf=ht("Camera",[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]]);const YC=ht("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);const Cx=ht("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);const qC=ht("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);const Jf=ht("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);const Ex=ht("CircleCheck",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);const Li=ht("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);const QC=ht("Crown",[["path",{d:"M11.562 3.266a.5.5 0 0 1 .876 0L15.39 8.87a1 1 0 0 0 1.516.294L21.183 5.5a.5.5 0 0 1 .798.519l-2.834 10.246a1 1 0 0 1-.956.734H5.81a1 1 0 0 1-.957-.734L2.02 6.02a.5.5 0 0 1 .798-.519l4.276 3.664a1 1 0 0 0 1.516-.294z",key:"1vdc57"}],["path",{d:"M5 21h14",key:"11awu3"}]]);const Mm=ht("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]);const ZC=ht("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);const Ru=ht("Eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);const $C=ht("FileDown",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M12 18v-6",key:"17g6i2"}],["path",{d:"m9 15 3 3 3-3",key:"1npd3o"}]]);const fu=ht("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);const JC=ht("FileUp",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M12 12v6",key:"3ahymv"}],["path",{d:"m15 15-3-3-3 3",key:"15xj92"}]]);const Al=ht("GraduationCap",[["path",{d:"M21.42 10.922a1 1 0 0 0-.019-1.838L12.83 5.18a2 2 0 0 0-1.66 0L2.6 9.08a1 1 0 0 0 0 1.832l8.57 3.908a2 2 0 0 0 1.66 0z",key:"j76jl0"}],["path",{d:"M22 10v6",key:"1lu8f3"}],["path",{d:"M6 12.5V16a6 3 0 0 0 12 0v-3.5",key:"1r8lef"}]]);const e3=ht("Grid3x3",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M3 15h18",key:"5xshup"}],["path",{d:"M9 3v18",key:"fh3hqa"}],["path",{d:"M15 3v18",key:"14nvp0"}]]);const Jc=ht("LayoutDashboard",[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]]);const xo=ht("Library",[["path",{d:"m16 6 4 14",key:"ji33uf"}],["path",{d:"M12 6v14",key:"1n7gus"}],["path",{d:"M8 8v12",key:"1gg7y9"}],["path",{d:"M4 4v16",key:"6qkkli"}]]);const Xn=ht("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);const t3=ht("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);const wa=ht("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);const Il=ht("MapPin",[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);const hu=ht("Monitor",[["rect",{width:"20",height:"14",x:"2",y:"3",rx:"2",key:"48i651"}],["line",{x1:"8",x2:"16",y1:"21",y2:"21",key:"1svkeh"}],["line",{x1:"12",x2:"12",y1:"17",y2:"21",key:"vw1qmm"}]]);const n3=ht("Moon",[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]]);const r3=ht("PanelLeft",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M9 3v18",key:"fh3hqa"}]]);const va=ht("Pencil",[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]]);const Tl=ht("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]);const Ls=ht("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);const mu=ht("QrCode",[["rect",{width:"5",height:"5",x:"3",y:"3",rx:"1",key:"1tu5fj"}],["rect",{width:"5",height:"5",x:"16",y:"3",rx:"1",key:"1v8r4q"}],["rect",{width:"5",height:"5",x:"3",y:"16",rx:"1",key:"1x03jg"}],["path",{d:"M21 16h-3a2 2 0 0 0-2 2v3",key:"177gqh"}],["path",{d:"M21 21v.01",key:"ents32"}],["path",{d:"M12 7v3a2 2 0 0 1-2 2H7",key:"8crl2c"}],["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M12 3h.01",key:"n36tog"}],["path",{d:"M12 16v.01",key:"133mhm"}],["path",{d:"M16 12h1",key:"1slzba"}],["path",{d:"M21 12v.01",key:"1lwtk9"}],["path",{d:"M12 21v-1",key:"1880an"}]]);const s3=ht("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);const Hi=ht("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);const i3=ht("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);const o3=ht("ShieldAlert",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"M12 8v4",key:"1got3b"}],["path",{d:"M12 16h.01",key:"1drbdi"}]]);const a3=ht("Sun",[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]]);const Ca=ht("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);const Rf=ht("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);const eh=ht("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);const th=ht("UserCog",[["circle",{cx:"18",cy:"15",r:"3",key:"gjjjvw"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M10 15H6a4 4 0 0 0-4 4v2",key:"1nfge6"}],["path",{d:"m21.7 16.4-.9-.3",key:"12j9ji"}],["path",{d:"m15.2 13.9-.9-.3",key:"1fdjdi"}],["path",{d:"m16.6 18.7.3-.9",key:"heedtr"}],["path",{d:"m19.1 12.2.3-.9",key:"1af3ki"}],["path",{d:"m19.6 18.7-.4-1",key:"1x9vze"}],["path",{d:"m16.8 12.3-.4-1",key:"vqeiwj"}],["path",{d:"m14.3 16.6 1-.4",key:"1qlj63"}],["path",{d:"m20.7 13.8 1-.4",key:"1v5t8k"}]]);const Rr=ht("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);const Ou=ht("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),Lh="-",l3=r=>{const a=u3(r),{conflictingClassGroups:l,conflictingClassGroupModifiers:d}=r;return{getClassGroupId:E=>{const C=E.split(Lh);return C[0]===""&&C.length!==1&&C.shift(),bx(C,a)||c3(E)},getConflictingClassGroupIds:(E,C)=>{const v=l[E]||[];return C&&d[E]?[...v,...d[E]]:v}}},bx=(r,a)=>{if(r.length===0)return a.classGroupId;const l=r[0],d=a.nextPart.get(l),p=d?bx(r.slice(1),d):void 0;if(p)return p;if(a.validators.length===0)return;const x=r.join(Lh);return a.validators.find(({validator:E})=>E(x))?.classGroupId},km=/^\[(.+)\]$/,c3=r=>{if(km.test(r)){const a=km.exec(r)[1],l=a?.substring(0,a.indexOf(":"));if(l)return"arbitrary.."+l}},u3=r=>{const{theme:a,prefix:l}=r,d={nextPart:new Map,validators:[]};return f3(Object.entries(r.classGroups),l).forEach(([x,E])=>{nh(E,d,x,a)}),d},nh=(r,a,l,d)=>{r.forEach(p=>{if(typeof p=="string"){const x=p===""?a:Pm(a,p);x.classGroupId=l;return}if(typeof p=="function"){if(d3(p)){nh(p(d),a,l,d);return}a.validators.push({validator:p,classGroupId:l});return}Object.entries(p).forEach(([x,E])=>{nh(E,Pm(a,x),l,d)})})},Pm=(r,a)=>{let l=r;return a.split(Lh).forEach(d=>{l.nextPart.has(d)||l.nextPart.set(d,{nextPart:new Map,validators:[]}),l=l.nextPart.get(d)}),l},d3=r=>r.isThemeGetter,f3=(r,a)=>a?r.map(([l,d])=>{const p=d.map(x=>typeof x=="string"?a+x:typeof x=="object"?Object.fromEntries(Object.entries(x).map(([E,C])=>[a+E,C])):x);return[l,p]}):r,h3=r=>{if(r<1)return{get:()=>{},set:()=>{}};let a=0,l=new Map,d=new Map;const p=(x,E)=>{l.set(x,E),a++,a>r&&(a=0,d=l,l=new Map)};return{get(x){let E=l.get(x);if(E!==void 0)return E;if((E=d.get(x))!==void 0)return p(x,E),E},set(x,E){l.has(x)?l.set(x,E):p(x,E)}}},Nx="!",m3=r=>{const{separator:a,experimentalParseClassName:l}=r,d=a.length===1,p=a[0],x=a.length,E=C=>{const v=[];let w=0,b=0,A;for(let L=0;L<C.length;L++){let G=C[L];if(w===0){if(G===p&&(d||C.slice(L,L+x)===a)){v.push(C.slice(b,L)),b=L+x;continue}if(G==="/"){A=L;continue}}G==="["?w++:G==="]"&&w--}const O=v.length===0?C:C.substring(b),P=O.startsWith(Nx),F=P?O.substring(1):O,R=A&&A>b?A-b:void 0;return{modifiers:v,hasImportantModifier:P,baseClassName:F,maybePostfixModifierPosition:R}};return l?C=>l({className:C,parseClassName:E}):E},p3=r=>{if(r.length<=1)return r;const a=[];let l=[];return r.forEach(d=>{d[0]==="["?(a.push(...l.sort(),d),l=[]):l.push(d)}),a.push(...l.sort()),a},x3=r=>({cache:h3(r.cacheSize),parseClassName:m3(r),...l3(r)}),g3=/\s+/,y3=(r,a)=>{const{parseClassName:l,getClassGroupId:d,getConflictingClassGroupIds:p}=a,x=[],E=r.trim().split(g3);let C="";for(let v=E.length-1;v>=0;v-=1){const w=E[v],{modifiers:b,hasImportantModifier:A,baseClassName:O,maybePostfixModifierPosition:P}=l(w);let F=!!P,R=d(F?O.substring(0,P):O);if(!R){if(!F){C=w+(C.length>0?" "+C:C);continue}if(R=d(O),!R){C=w+(C.length>0?" "+C:C);continue}F=!1}const L=p3(b).join(":"),G=A?L+Nx:L,H=G+R;if(x.includes(H))continue;x.push(H);const V=p(R,F);for(let K=0;K<V.length;++K){const re=V[K];x.push(G+re)}C=w+(C.length>0?" "+C:C)}return C};function w3(){let r=0,a,l,d="";for(;r<arguments.length;)(a=arguments[r++])&&(l=Sx(a))&&(d&&(d+=" "),d+=l);return d}const Sx=r=>{if(typeof r=="string")return r;let a,l="";for(let d=0;d<r.length;d++)r[d]&&(a=Sx(r[d]))&&(l&&(l+=" "),l+=a);return l};function v3(r,...a){let l,d,p,x=E;function E(v){const w=a.reduce((b,A)=>A(b),r());return l=x3(w),d=l.cache.get,p=l.cache.set,x=C,C(v)}function C(v){const w=d(v);if(w)return w;const b=y3(v,l);return p(v,b),b}return function(){return x(w3.apply(null,arguments))}}const nn=r=>{const a=l=>l[r]||[];return a.isThemeGetter=!0,a},Ax=/^\[(?:([a-z-]+):)?(.+)\]$/i,C3=/^\d+\/\d+$/,E3=new Set(["px","full","screen"]),b3=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,N3=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,S3=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,A3=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,I3=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,ti=r=>ca(r)||E3.has(r)||C3.test(r),Mi=r=>Ea(r,"length",k3),ca=r=>!!r&&!Number.isNaN(Number(r)),Of=r=>Ea(r,"number",ca),pl=r=>!!r&&Number.isInteger(Number(r)),T3=r=>r.endsWith("%")&&ca(r.slice(0,-1)),wt=r=>Ax.test(r),ki=r=>b3.test(r),j3=new Set(["length","size","percentage"]),R3=r=>Ea(r,j3,Ix),O3=r=>Ea(r,"position",Ix),_3=new Set(["image","url"]),D3=r=>Ea(r,_3,L3),M3=r=>Ea(r,"",P3),xl=()=>!0,Ea=(r,a,l)=>{const d=Ax.exec(r);return d?d[1]?typeof a=="string"?d[1]===a:a.has(d[1]):l(d[2]):!1},k3=r=>N3.test(r)&&!S3.test(r),Ix=()=>!1,P3=r=>A3.test(r),L3=r=>I3.test(r),F3=()=>{const r=nn("colors"),a=nn("spacing"),l=nn("blur"),d=nn("brightness"),p=nn("borderColor"),x=nn("borderRadius"),E=nn("borderSpacing"),C=nn("borderWidth"),v=nn("contrast"),w=nn("grayscale"),b=nn("hueRotate"),A=nn("invert"),O=nn("gap"),P=nn("gradientColorStops"),F=nn("gradientColorStopPositions"),R=nn("inset"),L=nn("margin"),G=nn("opacity"),H=nn("padding"),V=nn("saturate"),K=nn("scale"),re=nn("sepia"),le=nn("skew"),Q=nn("space"),fe=nn("translate"),se=()=>["auto","contain","none"],Le=()=>["auto","hidden","clip","visible","scroll"],je=()=>["auto",wt,a],de=()=>[wt,a],Ie=()=>["",ti,Mi],he=()=>["auto",ca,wt],W=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],xe=()=>["solid","dashed","dotted","double","none"],me=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],ce=()=>["start","end","center","between","around","evenly","stretch"],ve=()=>["","0",wt],Ce=()=>["auto","avoid","all","avoid-page","page","left","right","column"],Z=()=>[ca,wt];return{cacheSize:500,separator:":",theme:{colors:[xl],spacing:[ti,Mi],blur:["none","",ki,wt],brightness:Z(),borderColor:[r],borderRadius:["none","","full",ki,wt],borderSpacing:de(),borderWidth:Ie(),contrast:Z(),grayscale:ve(),hueRotate:Z(),invert:ve(),gap:de(),gradientColorStops:[r],gradientColorStopPositions:[T3,Mi],inset:je(),margin:je(),opacity:Z(),padding:de(),saturate:Z(),scale:Z(),sepia:ve(),skew:Z(),space:de(),translate:de()},classGroups:{aspect:[{aspect:["auto","square","video",wt]}],container:["container"],columns:[{columns:[ki]}],"break-after":[{"break-after":Ce()}],"break-before":[{"break-before":Ce()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...W(),wt]}],overflow:[{overflow:Le()}],"overflow-x":[{"overflow-x":Le()}],"overflow-y":[{"overflow-y":Le()}],overscroll:[{overscroll:se()}],"overscroll-x":[{"overscroll-x":se()}],"overscroll-y":[{"overscroll-y":se()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[R]}],"inset-x":[{"inset-x":[R]}],"inset-y":[{"inset-y":[R]}],start:[{start:[R]}],end:[{end:[R]}],top:[{top:[R]}],right:[{right:[R]}],bottom:[{bottom:[R]}],left:[{left:[R]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",pl,wt]}],basis:[{basis:je()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",wt]}],grow:[{grow:ve()}],shrink:[{shrink:ve()}],order:[{order:["first","last","none",pl,wt]}],"grid-cols":[{"grid-cols":[xl]}],"col-start-end":[{col:["auto",{span:["full",pl,wt]},wt]}],"col-start":[{"col-start":he()}],"col-end":[{"col-end":he()}],"grid-rows":[{"grid-rows":[xl]}],"row-start-end":[{row:["auto",{span:[pl,wt]},wt]}],"row-start":[{"row-start":he()}],"row-end":[{"row-end":he()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",wt]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",wt]}],gap:[{gap:[O]}],"gap-x":[{"gap-x":[O]}],"gap-y":[{"gap-y":[O]}],"justify-content":[{justify:["normal",...ce()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...ce(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...ce(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[H]}],px:[{px:[H]}],py:[{py:[H]}],ps:[{ps:[H]}],pe:[{pe:[H]}],pt:[{pt:[H]}],pr:[{pr:[H]}],pb:[{pb:[H]}],pl:[{pl:[H]}],m:[{m:[L]}],mx:[{mx:[L]}],my:[{my:[L]}],ms:[{ms:[L]}],me:[{me:[L]}],mt:[{mt:[L]}],mr:[{mr:[L]}],mb:[{mb:[L]}],ml:[{ml:[L]}],"space-x":[{"space-x":[Q]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[Q]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",wt,a]}],"min-w":[{"min-w":[wt,a,"min","max","fit"]}],"max-w":[{"max-w":[wt,a,"none","full","min","max","fit","prose",{screen:[ki]},ki]}],h:[{h:[wt,a,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[wt,a,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[wt,a,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[wt,a,"auto","min","max","fit"]}],"font-size":[{text:["base",ki,Mi]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",Of]}],"font-family":[{font:[xl]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",wt]}],"line-clamp":[{"line-clamp":["none",ca,Of]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",ti,wt]}],"list-image":[{"list-image":["none",wt]}],"list-style-type":[{list:["none","disc","decimal",wt]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[r]}],"placeholder-opacity":[{"placeholder-opacity":[G]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[r]}],"text-opacity":[{"text-opacity":[G]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...xe(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",ti,Mi]}],"underline-offset":[{"underline-offset":["auto",ti,wt]}],"text-decoration-color":[{decoration:[r]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:de()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",wt]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",wt]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[G]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...W(),O3]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",R3]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},D3]}],"bg-color":[{bg:[r]}],"gradient-from-pos":[{from:[F]}],"gradient-via-pos":[{via:[F]}],"gradient-to-pos":[{to:[F]}],"gradient-from":[{from:[P]}],"gradient-via":[{via:[P]}],"gradient-to":[{to:[P]}],rounded:[{rounded:[x]}],"rounded-s":[{"rounded-s":[x]}],"rounded-e":[{"rounded-e":[x]}],"rounded-t":[{"rounded-t":[x]}],"rounded-r":[{"rounded-r":[x]}],"rounded-b":[{"rounded-b":[x]}],"rounded-l":[{"rounded-l":[x]}],"rounded-ss":[{"rounded-ss":[x]}],"rounded-se":[{"rounded-se":[x]}],"rounded-ee":[{"rounded-ee":[x]}],"rounded-es":[{"rounded-es":[x]}],"rounded-tl":[{"rounded-tl":[x]}],"rounded-tr":[{"rounded-tr":[x]}],"rounded-br":[{"rounded-br":[x]}],"rounded-bl":[{"rounded-bl":[x]}],"border-w":[{border:[C]}],"border-w-x":[{"border-x":[C]}],"border-w-y":[{"border-y":[C]}],"border-w-s":[{"border-s":[C]}],"border-w-e":[{"border-e":[C]}],"border-w-t":[{"border-t":[C]}],"border-w-r":[{"border-r":[C]}],"border-w-b":[{"border-b":[C]}],"border-w-l":[{"border-l":[C]}],"border-opacity":[{"border-opacity":[G]}],"border-style":[{border:[...xe(),"hidden"]}],"divide-x":[{"divide-x":[C]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[C]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[G]}],"divide-style":[{divide:xe()}],"border-color":[{border:[p]}],"border-color-x":[{"border-x":[p]}],"border-color-y":[{"border-y":[p]}],"border-color-s":[{"border-s":[p]}],"border-color-e":[{"border-e":[p]}],"border-color-t":[{"border-t":[p]}],"border-color-r":[{"border-r":[p]}],"border-color-b":[{"border-b":[p]}],"border-color-l":[{"border-l":[p]}],"divide-color":[{divide:[p]}],"outline-style":[{outline:["",...xe()]}],"outline-offset":[{"outline-offset":[ti,wt]}],"outline-w":[{outline:[ti,Mi]}],"outline-color":[{outline:[r]}],"ring-w":[{ring:Ie()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[r]}],"ring-opacity":[{"ring-opacity":[G]}],"ring-offset-w":[{"ring-offset":[ti,Mi]}],"ring-offset-color":[{"ring-offset":[r]}],shadow:[{shadow:["","inner","none",ki,M3]}],"shadow-color":[{shadow:[xl]}],opacity:[{opacity:[G]}],"mix-blend":[{"mix-blend":[...me(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":me()}],filter:[{filter:["","none"]}],blur:[{blur:[l]}],brightness:[{brightness:[d]}],contrast:[{contrast:[v]}],"drop-shadow":[{"drop-shadow":["","none",ki,wt]}],grayscale:[{grayscale:[w]}],"hue-rotate":[{"hue-rotate":[b]}],invert:[{invert:[A]}],saturate:[{saturate:[V]}],sepia:[{sepia:[re]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[l]}],"backdrop-brightness":[{"backdrop-brightness":[d]}],"backdrop-contrast":[{"backdrop-contrast":[v]}],"backdrop-grayscale":[{"backdrop-grayscale":[w]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[b]}],"backdrop-invert":[{"backdrop-invert":[A]}],"backdrop-opacity":[{"backdrop-opacity":[G]}],"backdrop-saturate":[{"backdrop-saturate":[V]}],"backdrop-sepia":[{"backdrop-sepia":[re]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[E]}],"border-spacing-x":[{"border-spacing-x":[E]}],"border-spacing-y":[{"border-spacing-y":[E]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",wt]}],duration:[{duration:Z()}],ease:[{ease:["linear","in","out","in-out",wt]}],delay:[{delay:Z()}],animate:[{animate:["none","spin","ping","pulse","bounce",wt]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[K]}],"scale-x":[{"scale-x":[K]}],"scale-y":[{"scale-y":[K]}],rotate:[{rotate:[pl,wt]}],"translate-x":[{"translate-x":[fe]}],"translate-y":[{"translate-y":[fe]}],"skew-x":[{"skew-x":[le]}],"skew-y":[{"skew-y":[le]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",wt]}],accent:[{accent:["auto",r]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",wt]}],"caret-color":[{caret:[r]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":de()}],"scroll-mx":[{"scroll-mx":de()}],"scroll-my":[{"scroll-my":de()}],"scroll-ms":[{"scroll-ms":de()}],"scroll-me":[{"scroll-me":de()}],"scroll-mt":[{"scroll-mt":de()}],"scroll-mr":[{"scroll-mr":de()}],"scroll-mb":[{"scroll-mb":de()}],"scroll-ml":[{"scroll-ml":de()}],"scroll-p":[{"scroll-p":de()}],"scroll-px":[{"scroll-px":de()}],"scroll-py":[{"scroll-py":de()}],"scroll-ps":[{"scroll-ps":de()}],"scroll-pe":[{"scroll-pe":de()}],"scroll-pt":[{"scroll-pt":de()}],"scroll-pr":[{"scroll-pr":de()}],"scroll-pb":[{"scroll-pb":de()}],"scroll-pl":[{"scroll-pl":de()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",wt]}],fill:[{fill:[r,"none"]}],"stroke-w":[{stroke:[ti,Mi,Of]}],stroke:[{stroke:[r,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},B3=v3(F3);function Oe(...r){return B3(wx(r))}const U3=VC,Tx=T.forwardRef(({className:r,...a},l)=>s.jsx(fx,{ref:l,className:Oe("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",r),...a}));Tx.displayName=fx.displayName;const H3=Ao("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),jx=T.forwardRef(({className:r,variant:a,...l},d)=>s.jsx(hx,{ref:d,className:Oe(H3({variant:a}),r),...l}));jx.displayName=hx.displayName;const V3=T.forwardRef(({className:r,...a},l)=>s.jsx(xx,{ref:l,className:Oe("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors hover:bg-secondary focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-muted/40 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive",r),...a}));V3.displayName=xx.displayName;const Rx=T.forwardRef(({className:r,...a},l)=>s.jsx(gx,{ref:l,className:Oe("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-2 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",r),"toast-close":"",...a,children:s.jsx(Ou,{className:"h-4 w-4"})}));Rx.displayName=gx.displayName;const Ox=T.forwardRef(({className:r,...a},l)=>s.jsx(mx,{ref:l,className:Oe("text-sm font-semibold",r),...a}));Ox.displayName=mx.displayName;const _x=T.forwardRef(({className:r,...a},l)=>s.jsx(px,{ref:l,className:Oe("text-sm opacity-90",r),...a}));_x.displayName=px.displayName;function z3(){const{toasts:r}=Wt();return s.jsxs(U3,{children:[r.map(function({id:a,title:l,description:d,action:p,...x}){return s.jsxs(jx,{...x,children:[s.jsxs("div",{className:"grid gap-1",children:[l&&s.jsx(Ox,{children:l}),d&&s.jsx(_x,{children:d})]}),p,s.jsx(Rx,{})]},a)}),s.jsx(Tx,{})]})}var W3=bp[" useId ".trim().toString()]||(()=>{}),G3=0;function ri(r){const[a,l]=T.useState(W3());return Pn(()=>{l(d=>d??String(G3++))},[r]),a?`radix-${a}`:""}const X3=["top","right","bottom","left"],Fi=Math.min,Gr=Math.max,pu=Math.round,eu=Math.floor,Ms=r=>({x:r,y:r}),K3={left:"right",right:"left",bottom:"top",top:"bottom"},Y3={start:"end",end:"start"};function rh(r,a,l){return Gr(r,Fi(a,l))}function si(r,a){return typeof r=="function"?r(a):r}function ii(r){return r.split("-")[0]}function ba(r){return r.split("-")[1]}function Fh(r){return r==="x"?"y":"x"}function Bh(r){return r==="y"?"height":"width"}function Bi(r){return["top","bottom"].includes(ii(r))?"y":"x"}function Uh(r){return Fh(Bi(r))}function q3(r,a,l){l===void 0&&(l=!1);const d=ba(r),p=Uh(r),x=Bh(p);let E=p==="x"?d===(l?"end":"start")?"right":"left":d==="start"?"bottom":"top";return a.reference[x]>a.floating[x]&&(E=xu(E)),[E,xu(E)]}function Q3(r){const a=xu(r);return[sh(r),a,sh(a)]}function sh(r){return r.replace(/start|end/g,a=>Y3[a])}function Z3(r,a,l){const d=["left","right"],p=["right","left"],x=["top","bottom"],E=["bottom","top"];switch(r){case"top":case"bottom":return l?a?p:d:a?d:p;case"left":case"right":return a?x:E;default:return[]}}function $3(r,a,l,d){const p=ba(r);let x=Z3(ii(r),l==="start",d);return p&&(x=x.map(E=>E+"-"+p),a&&(x=x.concat(x.map(sh)))),x}function xu(r){return r.replace(/left|right|bottom|top/g,a=>K3[a])}function J3(r){return{top:0,right:0,bottom:0,left:0,...r}}function Dx(r){return typeof r!="number"?J3(r):{top:r,right:r,bottom:r,left:r}}function gu(r){const{x:a,y:l,width:d,height:p}=r;return{width:d,height:p,top:l,left:a,right:a+d,bottom:l+p,x:a,y:l}}function Lm(r,a,l){let{reference:d,floating:p}=r;const x=Bi(a),E=Uh(a),C=Bh(E),v=ii(a),w=x==="y",b=d.x+d.width/2-p.width/2,A=d.y+d.height/2-p.height/2,O=d[C]/2-p[C]/2;let P;switch(v){case"top":P={x:b,y:d.y-p.height};break;case"bottom":P={x:b,y:d.y+d.height};break;case"right":P={x:d.x+d.width,y:A};break;case"left":P={x:d.x-p.width,y:A};break;default:P={x:d.x,y:d.y}}switch(ba(a)){case"start":P[E]-=O*(l&&w?-1:1);break;case"end":P[E]+=O*(l&&w?-1:1);break}return P}const eE=async(r,a,l)=>{const{placement:d="bottom",strategy:p="absolute",middleware:x=[],platform:E}=l,C=x.filter(Boolean),v=await(E.isRTL==null?void 0:E.isRTL(a));let w=await E.getElementRects({reference:r,floating:a,strategy:p}),{x:b,y:A}=Lm(w,d,v),O=d,P={},F=0;for(let R=0;R<C.length;R++){const{name:L,fn:G}=C[R],{x:H,y:V,data:K,reset:re}=await G({x:b,y:A,initialPlacement:d,placement:O,strategy:p,middlewareData:P,rects:w,platform:E,elements:{reference:r,floating:a}});b=H??b,A=V??A,P={...P,[L]:{...P[L],...K}},re&&F<=50&&(F++,typeof re=="object"&&(re.placement&&(O=re.placement),re.rects&&(w=re.rects===!0?await E.getElementRects({reference:r,floating:a,strategy:p}):re.rects),{x:b,y:A}=Lm(w,O,v)),R=-1)}return{x:b,y:A,placement:O,strategy:p,middlewareData:P}};async function El(r,a){var l;a===void 0&&(a={});const{x:d,y:p,platform:x,rects:E,elements:C,strategy:v}=r,{boundary:w="clippingAncestors",rootBoundary:b="viewport",elementContext:A="floating",altBoundary:O=!1,padding:P=0}=si(a,r),F=Dx(P),L=C[O?A==="floating"?"reference":"floating":A],G=gu(await x.getClippingRect({element:(l=await(x.isElement==null?void 0:x.isElement(L)))==null||l?L:L.contextElement||await(x.getDocumentElement==null?void 0:x.getDocumentElement(C.floating)),boundary:w,rootBoundary:b,strategy:v})),H=A==="floating"?{x:d,y:p,width:E.floating.width,height:E.floating.height}:E.reference,V=await(x.getOffsetParent==null?void 0:x.getOffsetParent(C.floating)),K=await(x.isElement==null?void 0:x.isElement(V))?await(x.getScale==null?void 0:x.getScale(V))||{x:1,y:1}:{x:1,y:1},re=gu(x.convertOffsetParentRelativeRectToViewportRelativeRect?await x.convertOffsetParentRelativeRectToViewportRelativeRect({elements:C,rect:H,offsetParent:V,strategy:v}):H);return{top:(G.top-re.top+F.top)/K.y,bottom:(re.bottom-G.bottom+F.bottom)/K.y,left:(G.left-re.left+F.left)/K.x,right:(re.right-G.right+F.right)/K.x}}const tE=r=>({name:"arrow",options:r,async fn(a){const{x:l,y:d,placement:p,rects:x,platform:E,elements:C,middlewareData:v}=a,{element:w,padding:b=0}=si(r,a)||{};if(w==null)return{};const A=Dx(b),O={x:l,y:d},P=Uh(p),F=Bh(P),R=await E.getDimensions(w),L=P==="y",G=L?"top":"left",H=L?"bottom":"right",V=L?"clientHeight":"clientWidth",K=x.reference[F]+x.reference[P]-O[P]-x.floating[F],re=O[P]-x.reference[P],le=await(E.getOffsetParent==null?void 0:E.getOffsetParent(w));let Q=le?le[V]:0;(!Q||!await(E.isElement==null?void 0:E.isElement(le)))&&(Q=C.floating[V]||x.floating[F]);const fe=K/2-re/2,se=Q/2-R[F]/2-1,Le=Fi(A[G],se),je=Fi(A[H],se),de=Le,Ie=Q-R[F]-je,he=Q/2-R[F]/2+fe,W=rh(de,he,Ie),xe=!v.arrow&&ba(p)!=null&&he!==W&&x.reference[F]/2-(he<de?Le:je)-R[F]/2<0,me=xe?he<de?he-de:he-Ie:0;return{[P]:O[P]+me,data:{[P]:W,centerOffset:he-W-me,...xe&&{alignmentOffset:me}},reset:xe}}}),nE=function(r){return r===void 0&&(r={}),{name:"flip",options:r,async fn(a){var l,d;const{placement:p,middlewareData:x,rects:E,initialPlacement:C,platform:v,elements:w}=a,{mainAxis:b=!0,crossAxis:A=!0,fallbackPlacements:O,fallbackStrategy:P="bestFit",fallbackAxisSideDirection:F="none",flipAlignment:R=!0,...L}=si(r,a);if((l=x.arrow)!=null&&l.alignmentOffset)return{};const G=ii(p),H=Bi(C),V=ii(C)===C,K=await(v.isRTL==null?void 0:v.isRTL(w.floating)),re=O||(V||!R?[xu(C)]:Q3(C)),le=F!=="none";!O&&le&&re.push(...$3(C,R,F,K));const Q=[C,...re],fe=await El(a,L),se=[];let Le=((d=x.flip)==null?void 0:d.overflows)||[];if(b&&se.push(fe[G]),A){const he=q3(p,E,K);se.push(fe[he[0]],fe[he[1]])}if(Le=[...Le,{placement:p,overflows:se}],!se.every(he=>he<=0)){var je,de;const he=(((je=x.flip)==null?void 0:je.index)||0)+1,W=Q[he];if(W)return{data:{index:he,overflows:Le},reset:{placement:W}};let xe=(de=Le.filter(me=>me.overflows[0]<=0).sort((me,ce)=>me.overflows[1]-ce.overflows[1])[0])==null?void 0:de.placement;if(!xe)switch(P){case"bestFit":{var Ie;const me=(Ie=Le.filter(ce=>{if(le){const ve=Bi(ce.placement);return ve===H||ve==="y"}return!0}).map(ce=>[ce.placement,ce.overflows.filter(ve=>ve>0).reduce((ve,Ce)=>ve+Ce,0)]).sort((ce,ve)=>ce[1]-ve[1])[0])==null?void 0:Ie[0];me&&(xe=me);break}case"initialPlacement":xe=C;break}if(p!==xe)return{reset:{placement:xe}}}return{}}}};function Fm(r,a){return{top:r.top-a.height,right:r.right-a.width,bottom:r.bottom-a.height,left:r.left-a.width}}function Bm(r){return X3.some(a=>r[a]>=0)}const rE=function(r){return r===void 0&&(r={}),{name:"hide",options:r,async fn(a){const{rects:l}=a,{strategy:d="referenceHidden",...p}=si(r,a);switch(d){case"referenceHidden":{const x=await El(a,{...p,elementContext:"reference"}),E=Fm(x,l.reference);return{data:{referenceHiddenOffsets:E,referenceHidden:Bm(E)}}}case"escaped":{const x=await El(a,{...p,altBoundary:!0}),E=Fm(x,l.floating);return{data:{escapedOffsets:E,escaped:Bm(E)}}}default:return{}}}}};async function sE(r,a){const{placement:l,platform:d,elements:p}=r,x=await(d.isRTL==null?void 0:d.isRTL(p.floating)),E=ii(l),C=ba(l),v=Bi(l)==="y",w=["left","top"].includes(E)?-1:1,b=x&&v?-1:1,A=si(a,r);let{mainAxis:O,crossAxis:P,alignmentAxis:F}=typeof A=="number"?{mainAxis:A,crossAxis:0,alignmentAxis:null}:{mainAxis:A.mainAxis||0,crossAxis:A.crossAxis||0,alignmentAxis:A.alignmentAxis};return C&&typeof F=="number"&&(P=C==="end"?F*-1:F),v?{x:P*b,y:O*w}:{x:O*w,y:P*b}}const iE=function(r){return r===void 0&&(r=0),{name:"offset",options:r,async fn(a){var l,d;const{x:p,y:x,placement:E,middlewareData:C}=a,v=await sE(a,r);return E===((l=C.offset)==null?void 0:l.placement)&&(d=C.arrow)!=null&&d.alignmentOffset?{}:{x:p+v.x,y:x+v.y,data:{...v,placement:E}}}}},oE=function(r){return r===void 0&&(r={}),{name:"shift",options:r,async fn(a){const{x:l,y:d,placement:p}=a,{mainAxis:x=!0,crossAxis:E=!1,limiter:C={fn:L=>{let{x:G,y:H}=L;return{x:G,y:H}}},...v}=si(r,a),w={x:l,y:d},b=await El(a,v),A=Bi(ii(p)),O=Fh(A);let P=w[O],F=w[A];if(x){const L=O==="y"?"top":"left",G=O==="y"?"bottom":"right",H=P+b[L],V=P-b[G];P=rh(H,P,V)}if(E){const L=A==="y"?"top":"left",G=A==="y"?"bottom":"right",H=F+b[L],V=F-b[G];F=rh(H,F,V)}const R=C.fn({...a,[O]:P,[A]:F});return{...R,data:{x:R.x-l,y:R.y-d,enabled:{[O]:x,[A]:E}}}}}},aE=function(r){return r===void 0&&(r={}),{options:r,fn(a){const{x:l,y:d,placement:p,rects:x,middlewareData:E}=a,{offset:C=0,mainAxis:v=!0,crossAxis:w=!0}=si(r,a),b={x:l,y:d},A=Bi(p),O=Fh(A);let P=b[O],F=b[A];const R=si(C,a),L=typeof R=="number"?{mainAxis:R,crossAxis:0}:{mainAxis:0,crossAxis:0,...R};if(v){const V=O==="y"?"height":"width",K=x.reference[O]-x.floating[V]+L.mainAxis,re=x.reference[O]+x.reference[V]-L.mainAxis;P<K?P=K:P>re&&(P=re)}if(w){var G,H;const V=O==="y"?"width":"height",K=["top","left"].includes(ii(p)),re=x.reference[A]-x.floating[V]+(K&&((G=E.offset)==null?void 0:G[A])||0)+(K?0:L.crossAxis),le=x.reference[A]+x.reference[V]+(K?0:((H=E.offset)==null?void 0:H[A])||0)-(K?L.crossAxis:0);F<re?F=re:F>le&&(F=le)}return{[O]:P,[A]:F}}}},lE=function(r){return r===void 0&&(r={}),{name:"size",options:r,async fn(a){var l,d;const{placement:p,rects:x,platform:E,elements:C}=a,{apply:v=()=>{},...w}=si(r,a),b=await El(a,w),A=ii(p),O=ba(p),P=Bi(p)==="y",{width:F,height:R}=x.floating;let L,G;A==="top"||A==="bottom"?(L=A,G=O===(await(E.isRTL==null?void 0:E.isRTL(C.floating))?"start":"end")?"left":"right"):(G=A,L=O==="end"?"top":"bottom");const H=R-b.top-b.bottom,V=F-b.left-b.right,K=Fi(R-b[L],H),re=Fi(F-b[G],V),le=!a.middlewareData.shift;let Q=K,fe=re;if((l=a.middlewareData.shift)!=null&&l.enabled.x&&(fe=V),(d=a.middlewareData.shift)!=null&&d.enabled.y&&(Q=H),le&&!O){const Le=Gr(b.left,0),je=Gr(b.right,0),de=Gr(b.top,0),Ie=Gr(b.bottom,0);P?fe=F-2*(Le!==0||je!==0?Le+je:Gr(b.left,b.right)):Q=R-2*(de!==0||Ie!==0?de+Ie:Gr(b.top,b.bottom))}await v({...a,availableWidth:fe,availableHeight:Q});const se=await E.getDimensions(C.floating);return F!==se.width||R!==se.height?{reset:{rects:!0}}:{}}}};function _u(){return typeof window<"u"}function Na(r){return Mx(r)?(r.nodeName||"").toLowerCase():"#document"}function Xr(r){var a;return(r==null||(a=r.ownerDocument)==null?void 0:a.defaultView)||window}function Us(r){var a;return(a=(Mx(r)?r.ownerDocument:r.document)||window.document)==null?void 0:a.documentElement}function Mx(r){return _u()?r instanceof Node||r instanceof Xr(r).Node:!1}function ys(r){return _u()?r instanceof Element||r instanceof Xr(r).Element:!1}function Fs(r){return _u()?r instanceof HTMLElement||r instanceof Xr(r).HTMLElement:!1}function Um(r){return!_u()||typeof ShadowRoot>"u"?!1:r instanceof ShadowRoot||r instanceof Xr(r).ShadowRoot}function jl(r){const{overflow:a,overflowX:l,overflowY:d,display:p}=ws(r);return/auto|scroll|overlay|hidden|clip/.test(a+d+l)&&!["inline","contents"].includes(p)}function cE(r){return["table","td","th"].includes(Na(r))}function Du(r){return[":popover-open",":modal"].some(a=>{try{return r.matches(a)}catch{return!1}})}function Hh(r){const a=Vh(),l=ys(r)?ws(r):r;return["transform","translate","scale","rotate","perspective"].some(d=>l[d]?l[d]!=="none":!1)||(l.containerType?l.containerType!=="normal":!1)||!a&&(l.backdropFilter?l.backdropFilter!=="none":!1)||!a&&(l.filter?l.filter!=="none":!1)||["transform","translate","scale","rotate","perspective","filter"].some(d=>(l.willChange||"").includes(d))||["paint","layout","strict","content"].some(d=>(l.contain||"").includes(d))}function uE(r){let a=Ui(r);for(;Fs(a)&&!ma(a);){if(Hh(a))return a;if(Du(a))return null;a=Ui(a)}return null}function Vh(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function ma(r){return["html","body","#document"].includes(Na(r))}function ws(r){return Xr(r).getComputedStyle(r)}function Mu(r){return ys(r)?{scrollLeft:r.scrollLeft,scrollTop:r.scrollTop}:{scrollLeft:r.scrollX,scrollTop:r.scrollY}}function Ui(r){if(Na(r)==="html")return r;const a=r.assignedSlot||r.parentNode||Um(r)&&r.host||Us(r);return Um(a)?a.host:a}function kx(r){const a=Ui(r);return ma(a)?r.ownerDocument?r.ownerDocument.body:r.body:Fs(a)&&jl(a)?a:kx(a)}function bl(r,a,l){var d;a===void 0&&(a=[]),l===void 0&&(l=!0);const p=kx(r),x=p===((d=r.ownerDocument)==null?void 0:d.body),E=Xr(p);if(x){const C=ih(E);return a.concat(E,E.visualViewport||[],jl(p)?p:[],C&&l?bl(C):[])}return a.concat(p,bl(p,[],l))}function ih(r){return r.parent&&Object.getPrototypeOf(r.parent)?r.frameElement:null}function Px(r){const a=ws(r);let l=parseFloat(a.width)||0,d=parseFloat(a.height)||0;const p=Fs(r),x=p?r.offsetWidth:l,E=p?r.offsetHeight:d,C=pu(l)!==x||pu(d)!==E;return C&&(l=x,d=E),{width:l,height:d,$:C}}function zh(r){return ys(r)?r:r.contextElement}function ua(r){const a=zh(r);if(!Fs(a))return Ms(1);const l=a.getBoundingClientRect(),{width:d,height:p,$:x}=Px(a);let E=(x?pu(l.width):l.width)/d,C=(x?pu(l.height):l.height)/p;return(!E||!Number.isFinite(E))&&(E=1),(!C||!Number.isFinite(C))&&(C=1),{x:E,y:C}}const dE=Ms(0);function Lx(r){const a=Xr(r);return!Vh()||!a.visualViewport?dE:{x:a.visualViewport.offsetLeft,y:a.visualViewport.offsetTop}}function fE(r,a,l){return a===void 0&&(a=!1),!l||a&&l!==Xr(r)?!1:a}function vo(r,a,l,d){a===void 0&&(a=!1),l===void 0&&(l=!1);const p=r.getBoundingClientRect(),x=zh(r);let E=Ms(1);a&&(d?ys(d)&&(E=ua(d)):E=ua(r));const C=fE(x,l,d)?Lx(x):Ms(0);let v=(p.left+C.x)/E.x,w=(p.top+C.y)/E.y,b=p.width/E.x,A=p.height/E.y;if(x){const O=Xr(x),P=d&&ys(d)?Xr(d):d;let F=O,R=ih(F);for(;R&&d&&P!==F;){const L=ua(R),G=R.getBoundingClientRect(),H=ws(R),V=G.left+(R.clientLeft+parseFloat(H.paddingLeft))*L.x,K=G.top+(R.clientTop+parseFloat(H.paddingTop))*L.y;v*=L.x,w*=L.y,b*=L.x,A*=L.y,v+=V,w+=K,F=Xr(R),R=ih(F)}}return gu({width:b,height:A,x:v,y:w})}function Wh(r,a){const l=Mu(r).scrollLeft;return a?a.left+l:vo(Us(r)).left+l}function Fx(r,a,l){l===void 0&&(l=!1);const d=r.getBoundingClientRect(),p=d.left+a.scrollLeft-(l?0:Wh(r,d)),x=d.top+a.scrollTop;return{x:p,y:x}}function hE(r){let{elements:a,rect:l,offsetParent:d,strategy:p}=r;const x=p==="fixed",E=Us(d),C=a?Du(a.floating):!1;if(d===E||C&&x)return l;let v={scrollLeft:0,scrollTop:0},w=Ms(1);const b=Ms(0),A=Fs(d);if((A||!A&&!x)&&((Na(d)!=="body"||jl(E))&&(v=Mu(d)),Fs(d))){const P=vo(d);w=ua(d),b.x=P.x+d.clientLeft,b.y=P.y+d.clientTop}const O=E&&!A&&!x?Fx(E,v,!0):Ms(0);return{width:l.width*w.x,height:l.height*w.y,x:l.x*w.x-v.scrollLeft*w.x+b.x+O.x,y:l.y*w.y-v.scrollTop*w.y+b.y+O.y}}function mE(r){return Array.from(r.getClientRects())}function pE(r){const a=Us(r),l=Mu(r),d=r.ownerDocument.body,p=Gr(a.scrollWidth,a.clientWidth,d.scrollWidth,d.clientWidth),x=Gr(a.scrollHeight,a.clientHeight,d.scrollHeight,d.clientHeight);let E=-l.scrollLeft+Wh(r);const C=-l.scrollTop;return ws(d).direction==="rtl"&&(E+=Gr(a.clientWidth,d.clientWidth)-p),{width:p,height:x,x:E,y:C}}function xE(r,a){const l=Xr(r),d=Us(r),p=l.visualViewport;let x=d.clientWidth,E=d.clientHeight,C=0,v=0;if(p){x=p.width,E=p.height;const w=Vh();(!w||w&&a==="fixed")&&(C=p.offsetLeft,v=p.offsetTop)}return{width:x,height:E,x:C,y:v}}function gE(r,a){const l=vo(r,!0,a==="fixed"),d=l.top+r.clientTop,p=l.left+r.clientLeft,x=Fs(r)?ua(r):Ms(1),E=r.clientWidth*x.x,C=r.clientHeight*x.y,v=p*x.x,w=d*x.y;return{width:E,height:C,x:v,y:w}}function Hm(r,a,l){let d;if(a==="viewport")d=xE(r,l);else if(a==="document")d=pE(Us(r));else if(ys(a))d=gE(a,l);else{const p=Lx(r);d={x:a.x-p.x,y:a.y-p.y,width:a.width,height:a.height}}return gu(d)}function Bx(r,a){const l=Ui(r);return l===a||!ys(l)||ma(l)?!1:ws(l).position==="fixed"||Bx(l,a)}function yE(r,a){const l=a.get(r);if(l)return l;let d=bl(r,[],!1).filter(C=>ys(C)&&Na(C)!=="body"),p=null;const x=ws(r).position==="fixed";let E=x?Ui(r):r;for(;ys(E)&&!ma(E);){const C=ws(E),v=Hh(E);!v&&C.position==="fixed"&&(p=null),(x?!v&&!p:!v&&C.position==="static"&&!!p&&["absolute","fixed"].includes(p.position)||jl(E)&&!v&&Bx(r,E))?d=d.filter(b=>b!==E):p=C,E=Ui(E)}return a.set(r,d),d}function wE(r){let{element:a,boundary:l,rootBoundary:d,strategy:p}=r;const E=[...l==="clippingAncestors"?Du(a)?[]:yE(a,this._c):[].concat(l),d],C=E[0],v=E.reduce((w,b)=>{const A=Hm(a,b,p);return w.top=Gr(A.top,w.top),w.right=Fi(A.right,w.right),w.bottom=Fi(A.bottom,w.bottom),w.left=Gr(A.left,w.left),w},Hm(a,C,p));return{width:v.right-v.left,height:v.bottom-v.top,x:v.left,y:v.top}}function vE(r){const{width:a,height:l}=Px(r);return{width:a,height:l}}function CE(r,a,l){const d=Fs(a),p=Us(a),x=l==="fixed",E=vo(r,!0,x,a);let C={scrollLeft:0,scrollTop:0};const v=Ms(0);if(d||!d&&!x)if((Na(a)!=="body"||jl(p))&&(C=Mu(a)),d){const O=vo(a,!0,x,a);v.x=O.x+a.clientLeft,v.y=O.y+a.clientTop}else p&&(v.x=Wh(p));const w=p&&!d&&!x?Fx(p,C):Ms(0),b=E.left+C.scrollLeft-v.x-w.x,A=E.top+C.scrollTop-v.y-w.y;return{x:b,y:A,width:E.width,height:E.height}}function _f(r){return ws(r).position==="static"}function Vm(r,a){if(!Fs(r)||ws(r).position==="fixed")return null;if(a)return a(r);let l=r.offsetParent;return Us(r)===l&&(l=l.ownerDocument.body),l}function Ux(r,a){const l=Xr(r);if(Du(r))return l;if(!Fs(r)){let p=Ui(r);for(;p&&!ma(p);){if(ys(p)&&!_f(p))return p;p=Ui(p)}return l}let d=Vm(r,a);for(;d&&cE(d)&&_f(d);)d=Vm(d,a);return d&&ma(d)&&_f(d)&&!Hh(d)?l:d||uE(r)||l}const EE=async function(r){const a=this.getOffsetParent||Ux,l=this.getDimensions,d=await l(r.floating);return{reference:CE(r.reference,await a(r.floating),r.strategy),floating:{x:0,y:0,width:d.width,height:d.height}}};function bE(r){return ws(r).direction==="rtl"}const NE={convertOffsetParentRelativeRectToViewportRelativeRect:hE,getDocumentElement:Us,getClippingRect:wE,getOffsetParent:Ux,getElementRects:EE,getClientRects:mE,getDimensions:vE,getScale:ua,isElement:ys,isRTL:bE};function Hx(r,a){return r.x===a.x&&r.y===a.y&&r.width===a.width&&r.height===a.height}function SE(r,a){let l=null,d;const p=Us(r);function x(){var C;clearTimeout(d),(C=l)==null||C.disconnect(),l=null}function E(C,v){C===void 0&&(C=!1),v===void 0&&(v=1),x();const w=r.getBoundingClientRect(),{left:b,top:A,width:O,height:P}=w;if(C||a(),!O||!P)return;const F=eu(A),R=eu(p.clientWidth-(b+O)),L=eu(p.clientHeight-(A+P)),G=eu(b),V={rootMargin:-F+"px "+-R+"px "+-L+"px "+-G+"px",threshold:Gr(0,Fi(1,v))||1};let K=!0;function re(le){const Q=le[0].intersectionRatio;if(Q!==v){if(!K)return E();Q?E(!1,Q):d=setTimeout(()=>{E(!1,1e-7)},1e3)}Q===1&&!Hx(w,r.getBoundingClientRect())&&E(),K=!1}try{l=new IntersectionObserver(re,{...V,root:p.ownerDocument})}catch{l=new IntersectionObserver(re,V)}l.observe(r)}return E(!0),x}function AE(r,a,l,d){d===void 0&&(d={});const{ancestorScroll:p=!0,ancestorResize:x=!0,elementResize:E=typeof ResizeObserver=="function",layoutShift:C=typeof IntersectionObserver=="function",animationFrame:v=!1}=d,w=zh(r),b=p||x?[...w?bl(w):[],...bl(a)]:[];b.forEach(G=>{p&&G.addEventListener("scroll",l,{passive:!0}),x&&G.addEventListener("resize",l)});const A=w&&C?SE(w,l):null;let O=-1,P=null;E&&(P=new ResizeObserver(G=>{let[H]=G;H&&H.target===w&&P&&(P.unobserve(a),cancelAnimationFrame(O),O=requestAnimationFrame(()=>{var V;(V=P)==null||V.observe(a)})),l()}),w&&!v&&P.observe(w),P.observe(a));let F,R=v?vo(r):null;v&&L();function L(){const G=vo(r);R&&!Hx(R,G)&&l(),R=G,F=requestAnimationFrame(L)}return l(),()=>{var G;b.forEach(H=>{p&&H.removeEventListener("scroll",l),x&&H.removeEventListener("resize",l)}),A?.(),(G=P)==null||G.disconnect(),P=null,v&&cancelAnimationFrame(F)}}const IE=iE,TE=oE,jE=nE,RE=lE,OE=rE,zm=tE,_E=aE,DE=(r,a,l)=>{const d=new Map,p={platform:NE,...l},x={...p.platform,_c:d};return eE(r,a,{...p,platform:x})};var au=typeof document<"u"?T.useLayoutEffect:T.useEffect;function yu(r,a){if(r===a)return!0;if(typeof r!=typeof a)return!1;if(typeof r=="function"&&r.toString()===a.toString())return!0;let l,d,p;if(r&&a&&typeof r=="object"){if(Array.isArray(r)){if(l=r.length,l!==a.length)return!1;for(d=l;d--!==0;)if(!yu(r[d],a[d]))return!1;return!0}if(p=Object.keys(r),l=p.length,l!==Object.keys(a).length)return!1;for(d=l;d--!==0;)if(!{}.hasOwnProperty.call(a,p[d]))return!1;for(d=l;d--!==0;){const x=p[d];if(!(x==="_owner"&&r.$$typeof)&&!yu(r[x],a[x]))return!1}return!0}return r!==r&&a!==a}function Vx(r){return typeof window>"u"?1:(r.ownerDocument.defaultView||window).devicePixelRatio||1}function Wm(r,a){const l=Vx(r);return Math.round(a*l)/l}function Df(r){const a=T.useRef(r);return au(()=>{a.current=r}),a}function ME(r){r===void 0&&(r={});const{placement:a="bottom",strategy:l="absolute",middleware:d=[],platform:p,elements:{reference:x,floating:E}={},transform:C=!0,whileElementsMounted:v,open:w}=r,[b,A]=T.useState({x:0,y:0,strategy:l,placement:a,middlewareData:{},isPositioned:!1}),[O,P]=T.useState(d);yu(O,d)||P(d);const[F,R]=T.useState(null),[L,G]=T.useState(null),H=T.useCallback(ce=>{ce!==le.current&&(le.current=ce,R(ce))},[]),V=T.useCallback(ce=>{ce!==Q.current&&(Q.current=ce,G(ce))},[]),K=x||F,re=E||L,le=T.useRef(null),Q=T.useRef(null),fe=T.useRef(b),se=v!=null,Le=Df(v),je=Df(p),de=Df(w),Ie=T.useCallback(()=>{if(!le.current||!Q.current)return;const ce={placement:a,strategy:l,middleware:O};je.current&&(ce.platform=je.current),DE(le.current,Q.current,ce).then(ve=>{const Ce={...ve,isPositioned:de.current!==!1};he.current&&!yu(fe.current,Ce)&&(fe.current=Ce,ya.flushSync(()=>{A(Ce)}))})},[O,a,l,je,de]);au(()=>{w===!1&&fe.current.isPositioned&&(fe.current.isPositioned=!1,A(ce=>({...ce,isPositioned:!1})))},[w]);const he=T.useRef(!1);au(()=>(he.current=!0,()=>{he.current=!1}),[]),au(()=>{if(K&&(le.current=K),re&&(Q.current=re),K&&re){if(Le.current)return Le.current(K,re,Ie);Ie()}},[K,re,Ie,Le,se]);const W=T.useMemo(()=>({reference:le,floating:Q,setReference:H,setFloating:V}),[H,V]),xe=T.useMemo(()=>({reference:K,floating:re}),[K,re]),me=T.useMemo(()=>{const ce={position:l,left:0,top:0};if(!xe.floating)return ce;const ve=Wm(xe.floating,b.x),Ce=Wm(xe.floating,b.y);return C?{...ce,transform:"translate("+ve+"px, "+Ce+"px)",...Vx(xe.floating)>=1.5&&{willChange:"transform"}}:{position:l,left:ve,top:Ce}},[l,C,xe.floating,b.x,b.y]);return T.useMemo(()=>({...b,update:Ie,refs:W,elements:xe,floatingStyles:me}),[b,Ie,W,xe,me])}const kE=r=>{function a(l){return{}.hasOwnProperty.call(l,"current")}return{name:"arrow",options:r,fn(l){const{element:d,padding:p}=typeof r=="function"?r(l):r;return d&&a(d)?d.current!=null?zm({element:d.current,padding:p}).fn(l):{}:d?zm({element:d,padding:p}).fn(l):{}}}},PE=(r,a)=>({...IE(r),options:[r,a]}),LE=(r,a)=>({...TE(r),options:[r,a]}),FE=(r,a)=>({..._E(r),options:[r,a]}),BE=(r,a)=>({...jE(r),options:[r,a]}),UE=(r,a)=>({...RE(r),options:[r,a]}),HE=(r,a)=>({...OE(r),options:[r,a]}),VE=(r,a)=>({...kE(r),options:[r,a]});var zE="Arrow",zx=T.forwardRef((r,a)=>{const{children:l,width:d=10,height:p=5,...x}=r;return s.jsx(xt.svg,{...x,ref:a,width:d,height:p,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:r.asChild?l:s.jsx("polygon",{points:"0,0 30,0 15,10"})})});zx.displayName=zE;var WE=zx;function GE(r){const[a,l]=T.useState(void 0);return Pn(()=>{if(r){l({width:r.offsetWidth,height:r.offsetHeight});const d=new ResizeObserver(p=>{if(!Array.isArray(p)||!p.length)return;const x=p[0];let E,C;if("borderBoxSize"in x){const v=x.borderBoxSize,w=Array.isArray(v)?v[0]:v;E=w.inlineSize,C=w.blockSize}else E=r.offsetWidth,C=r.offsetHeight;l({width:E,height:C})});return d.observe(r,{box:"border-box"}),()=>d.unobserve(r)}else l(void 0)},[r]),a}var Gh="Popper",[Wx,ku]=Bs(Gh),[XE,Gx]=Wx(Gh),Xx=r=>{const{__scopePopper:a,children:l}=r,[d,p]=T.useState(null);return s.jsx(XE,{scope:a,anchor:d,onAnchorChange:p,children:l})};Xx.displayName=Gh;var Kx="PopperAnchor",Yx=T.forwardRef((r,a)=>{const{__scopePopper:l,virtualRef:d,...p}=r,x=Gx(Kx,l),E=T.useRef(null),C=zt(a,E);return T.useEffect(()=>{x.onAnchorChange(d?.current||E.current)}),d?null:s.jsx(xt.div,{...p,ref:C})});Yx.displayName=Kx;var Xh="PopperContent",[KE,YE]=Wx(Xh),qx=T.forwardRef((r,a)=>{const{__scopePopper:l,side:d="bottom",sideOffset:p=0,align:x="center",alignOffset:E=0,arrowPadding:C=0,avoidCollisions:v=!0,collisionBoundary:w=[],collisionPadding:b=0,sticky:A="partial",hideWhenDetached:O=!1,updatePositionStrategy:P="optimized",onPlaced:F,...R}=r,L=Gx(Xh,l),[G,H]=T.useState(null),V=zt(a,Re=>H(Re)),[K,re]=T.useState(null),le=GE(K),Q=le?.width??0,fe=le?.height??0,se=d+(x!=="center"?"-"+x:""),Le=typeof b=="number"?b:{top:0,right:0,bottom:0,left:0,...b},je=Array.isArray(w)?w:[w],de=je.length>0,Ie={padding:Le,boundary:je.filter(QE),altBoundary:de},{refs:he,floatingStyles:W,placement:xe,isPositioned:me,middlewareData:ce}=ME({strategy:"fixed",placement:se,whileElementsMounted:(...Re)=>AE(...Re,{animationFrame:P==="always"}),elements:{reference:L.anchor},middleware:[PE({mainAxis:p+fe,alignmentAxis:E}),v&&LE({mainAxis:!0,crossAxis:!1,limiter:A==="partial"?FE():void 0,...Ie}),v&&BE({...Ie}),UE({...Ie,apply:({elements:Re,rects:Me,availableWidth:lt,availableHeight:dt})=>{const{width:mt,height:Bt}=Me.reference,it=Re.floating.style;it.setProperty("--radix-popper-available-width",`${lt}px`),it.setProperty("--radix-popper-available-height",`${dt}px`),it.setProperty("--radix-popper-anchor-width",`${mt}px`),it.setProperty("--radix-popper-anchor-height",`${Bt}px`)}}),K&&VE({element:K,padding:C}),ZE({arrowWidth:Q,arrowHeight:fe}),O&&HE({strategy:"referenceHidden",...Ie})]}),[ve,Ce]=$x(xe),Z=gr(F);Pn(()=>{me&&Z?.()},[me,Z]);const ue=ce.arrow?.x,Ge=ce.arrow?.y,Be=ce.arrow?.centerOffset!==0,[pt,Se]=T.useState();return Pn(()=>{G&&Se(window.getComputedStyle(G).zIndex)},[G]),s.jsx("div",{ref:he.setFloating,"data-radix-popper-content-wrapper":"",style:{...W,transform:me?W.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:pt,"--radix-popper-transform-origin":[ce.transformOrigin?.x,ce.transformOrigin?.y].join(" "),...ce.hide?.referenceHidden&&{visibility:"hidden",pointerEvents:"none"}},dir:r.dir,children:s.jsx(KE,{scope:l,placedSide:ve,onArrowChange:re,arrowX:ue,arrowY:Ge,shouldHideArrow:Be,children:s.jsx(xt.div,{"data-side":ve,"data-align":Ce,...R,ref:V,style:{...R.style,animation:me?void 0:"none"}})})})});qx.displayName=Xh;var Qx="PopperArrow",qE={top:"bottom",right:"left",bottom:"top",left:"right"},Zx=T.forwardRef(function(a,l){const{__scopePopper:d,...p}=a,x=YE(Qx,d),E=qE[x.placedSide];return s.jsx("span",{ref:x.onArrowChange,style:{position:"absolute",left:x.arrowX,top:x.arrowY,[E]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[x.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[x.placedSide],visibility:x.shouldHideArrow?"hidden":void 0},children:s.jsx(WE,{...p,ref:l,style:{...p.style,display:"block"}})})});Zx.displayName=Qx;function QE(r){return r!==null}var ZE=r=>({name:"transformOrigin",options:r,fn(a){const{placement:l,rects:d,middlewareData:p}=a,E=p.arrow?.centerOffset!==0,C=E?0:r.arrowWidth,v=E?0:r.arrowHeight,[w,b]=$x(l),A={start:"0%",center:"50%",end:"100%"}[b],O=(p.arrow?.x??0)+C/2,P=(p.arrow?.y??0)+v/2;let F="",R="";return w==="bottom"?(F=E?A:`${O}px`,R=`${-v}px`):w==="top"?(F=E?A:`${O}px`,R=`${d.floating.height+v}px`):w==="right"?(F=`${-v}px`,R=E?A:`${P}px`):w==="left"&&(F=`${d.floating.width+v}px`,R=E?A:`${P}px`),{data:{x:F,y:R}}}});function $x(r){const[a,l="center"]=r.split("-");return[a,l]}var Jx=Xx,eg=Yx,tg=qx,ng=Zx,[Pu]=Bs("Tooltip",[ku]),Lu=ku(),rg="TooltipProvider",$E=700,oh="tooltip.open",[JE,Kh]=Pu(rg),sg=r=>{const{__scopeTooltip:a,delayDuration:l=$E,skipDelayDuration:d=300,disableHoverableContent:p=!1,children:x}=r,E=T.useRef(!0),C=T.useRef(!1),v=T.useRef(0);return T.useEffect(()=>{const w=v.current;return()=>window.clearTimeout(w)},[]),s.jsx(JE,{scope:a,isOpenDelayedRef:E,delayDuration:l,onOpen:T.useCallback(()=>{window.clearTimeout(v.current),E.current=!1},[]),onClose:T.useCallback(()=>{window.clearTimeout(v.current),v.current=window.setTimeout(()=>E.current=!0,d)},[d]),isPointerInTransitRef:C,onPointerInTransitChange:T.useCallback(w=>{C.current=w},[]),disableHoverableContent:p,children:x})};sg.displayName=rg;var Fu="Tooltip",[eb,Bu]=Pu(Fu),ig=r=>{const{__scopeTooltip:a,children:l,open:d,defaultOpen:p=!1,onOpenChange:x,disableHoverableContent:E,delayDuration:C}=r,v=Kh(Fu,r.__scopeTooltip),w=Lu(a),[b,A]=T.useState(null),O=ri(),P=T.useRef(0),F=E??v.disableHoverableContent,R=C??v.delayDuration,L=T.useRef(!1),[G=!1,H]=wo({prop:d,defaultProp:p,onChange:Q=>{Q?(v.onOpen(),document.dispatchEvent(new CustomEvent(oh))):v.onClose(),x?.(Q)}}),V=T.useMemo(()=>G?L.current?"delayed-open":"instant-open":"closed",[G]),K=T.useCallback(()=>{window.clearTimeout(P.current),P.current=0,L.current=!1,H(!0)},[H]),re=T.useCallback(()=>{window.clearTimeout(P.current),P.current=0,H(!1)},[H]),le=T.useCallback(()=>{window.clearTimeout(P.current),P.current=window.setTimeout(()=>{L.current=!0,H(!0),P.current=0},R)},[R,H]);return T.useEffect(()=>()=>{P.current&&(window.clearTimeout(P.current),P.current=0)},[]),s.jsx(Jx,{...w,children:s.jsx(eb,{scope:a,contentId:O,open:G,stateAttribute:V,trigger:b,onTriggerChange:A,onTriggerEnter:T.useCallback(()=>{v.isOpenDelayedRef.current?le():K()},[v.isOpenDelayedRef,le,K]),onTriggerLeave:T.useCallback(()=>{F?re():(window.clearTimeout(P.current),P.current=0)},[re,F]),onOpen:K,onClose:re,disableHoverableContent:F,children:l})})};ig.displayName=Fu;var ah="TooltipTrigger",og=T.forwardRef((r,a)=>{const{__scopeTooltip:l,...d}=r,p=Bu(ah,l),x=Kh(ah,l),E=Lu(l),C=T.useRef(null),v=zt(a,C,p.onTriggerChange),w=T.useRef(!1),b=T.useRef(!1),A=T.useCallback(()=>w.current=!1,[]);return T.useEffect(()=>()=>document.removeEventListener("pointerup",A),[A]),s.jsx(eg,{asChild:!0,...E,children:s.jsx(xt.button,{"aria-describedby":p.open?p.contentId:void 0,"data-state":p.stateAttribute,...d,ref:v,onPointerMove:rt(r.onPointerMove,O=>{O.pointerType!=="touch"&&!b.current&&!x.isPointerInTransitRef.current&&(p.onTriggerEnter(),b.current=!0)}),onPointerLeave:rt(r.onPointerLeave,()=>{p.onTriggerLeave(),b.current=!1}),onPointerDown:rt(r.onPointerDown,()=>{p.open&&p.onClose(),w.current=!0,document.addEventListener("pointerup",A,{once:!0})}),onFocus:rt(r.onFocus,()=>{w.current||p.onOpen()}),onBlur:rt(r.onBlur,p.onClose),onClick:rt(r.onClick,p.onClose)})})});og.displayName=ah;var tb="TooltipPortal",[l8,nb]=Pu(tb,{forceMount:void 0}),pa="TooltipContent",ag=T.forwardRef((r,a)=>{const l=nb(pa,r.__scopeTooltip),{forceMount:d=l.forceMount,side:p="top",...x}=r,E=Bu(pa,r.__scopeTooltip);return s.jsx(So,{present:d||E.open,children:E.disableHoverableContent?s.jsx(lg,{side:p,...x,ref:a}):s.jsx(rb,{side:p,...x,ref:a})})}),rb=T.forwardRef((r,a)=>{const l=Bu(pa,r.__scopeTooltip),d=Kh(pa,r.__scopeTooltip),p=T.useRef(null),x=zt(a,p),[E,C]=T.useState(null),{trigger:v,onClose:w}=l,b=p.current,{onPointerInTransitChange:A}=d,O=T.useCallback(()=>{C(null),A(!1)},[A]),P=T.useCallback((F,R)=>{const L=F.currentTarget,G={x:F.clientX,y:F.clientY},H=lb(G,L.getBoundingClientRect()),V=cb(G,H),K=ub(R.getBoundingClientRect()),re=fb([...V,...K]);C(re),A(!0)},[A]);return T.useEffect(()=>()=>O(),[O]),T.useEffect(()=>{if(v&&b){const F=L=>P(L,b),R=L=>P(L,v);return v.addEventListener("pointerleave",F),b.addEventListener("pointerleave",R),()=>{v.removeEventListener("pointerleave",F),b.removeEventListener("pointerleave",R)}}},[v,b,P,O]),T.useEffect(()=>{if(E){const F=R=>{const L=R.target,G={x:R.clientX,y:R.clientY},H=v?.contains(L)||b?.contains(L),V=!db(G,E);H?O():V&&(O(),w())};return document.addEventListener("pointermove",F),()=>document.removeEventListener("pointermove",F)}},[v,b,E,w,O]),s.jsx(lg,{...r,ref:x})}),[sb,ib]=Pu(Fu,{isInside:!1}),ob=Yp("TooltipContent"),lg=T.forwardRef((r,a)=>{const{__scopeTooltip:l,children:d,"aria-label":p,onEscapeKeyDown:x,onPointerDownOutside:E,...C}=r,v=Bu(pa,l),w=Lu(l),{onClose:b}=v;return T.useEffect(()=>(document.addEventListener(oh,b),()=>document.removeEventListener(oh,b)),[b]),T.useEffect(()=>{if(v.trigger){const A=O=>{O.target?.contains(v.trigger)&&b()};return window.addEventListener("scroll",A,{capture:!0}),()=>window.removeEventListener("scroll",A,{capture:!0})}},[v.trigger,b]),s.jsx(Nl,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:x,onPointerDownOutside:E,onFocusOutside:A=>A.preventDefault(),onDismiss:b,children:s.jsxs(tg,{"data-state":v.stateAttribute,...w,...C,ref:a,style:{...C.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[s.jsx(ob,{children:d}),s.jsx(sb,{scope:l,isInside:!0,children:s.jsx(NC,{id:v.contentId,role:"tooltip",children:p||d})})]})})});ag.displayName=pa;var cg="TooltipArrow",ab=T.forwardRef((r,a)=>{const{__scopeTooltip:l,...d}=r,p=Lu(l);return ib(cg,l).isInside?null:s.jsx(ng,{...p,...d,ref:a})});ab.displayName=cg;function lb(r,a){const l=Math.abs(a.top-r.y),d=Math.abs(a.bottom-r.y),p=Math.abs(a.right-r.x),x=Math.abs(a.left-r.x);switch(Math.min(l,d,p,x)){case x:return"left";case p:return"right";case l:return"top";case d:return"bottom";default:throw new Error("unreachable")}}function cb(r,a,l=5){const d=[];switch(a){case"top":d.push({x:r.x-l,y:r.y+l},{x:r.x+l,y:r.y+l});break;case"bottom":d.push({x:r.x-l,y:r.y-l},{x:r.x+l,y:r.y-l});break;case"left":d.push({x:r.x+l,y:r.y-l},{x:r.x+l,y:r.y+l});break;case"right":d.push({x:r.x-l,y:r.y-l},{x:r.x-l,y:r.y+l});break}return d}function ub(r){const{top:a,right:l,bottom:d,left:p}=r;return[{x:p,y:a},{x:l,y:a},{x:l,y:d},{x:p,y:d}]}function db(r,a){const{x:l,y:d}=r;let p=!1;for(let x=0,E=a.length-1;x<a.length;E=x++){const C=a[x].x,v=a[x].y,w=a[E].x,b=a[E].y;v>d!=b>d&&l<(w-C)*(d-v)/(b-v)+C&&(p=!p)}return p}function fb(r){const a=r.slice();return a.sort((l,d)=>l.x<d.x?-1:l.x>d.x?1:l.y<d.y?-1:l.y>d.y?1:0),hb(a)}function hb(r){if(r.length<=1)return r.slice();const a=[];for(let d=0;d<r.length;d++){const p=r[d];for(;a.length>=2;){const x=a[a.length-1],E=a[a.length-2];if((x.x-E.x)*(p.y-E.y)>=(x.y-E.y)*(p.x-E.x))a.pop();else break}a.push(p)}a.pop();const l=[];for(let d=r.length-1;d>=0;d--){const p=r[d];for(;l.length>=2;){const x=l[l.length-1],E=l[l.length-2];if((x.x-E.x)*(p.y-E.y)>=(x.y-E.y)*(p.x-E.x))l.pop();else break}l.push(p)}return l.pop(),a.length===1&&l.length===1&&a[0].x===l[0].x&&a[0].y===l[0].y?a:a.concat(l)}var mb=sg,pb=ig,xb=og,ug=ag;const dg=mb,gb=pb,yb=xb,fg=T.forwardRef(({className:r,sideOffset:a=4,...l},d)=>s.jsx(ug,{ref:d,sideOffset:a,className:Oe("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-tooltip-content-transform-origin]",r),...l}));fg.displayName=ug.displayName;const wb={theme:"system",setTheme:()=>null},hg=T.createContext(wb);function vb({children:r,defaultTheme:a="system",storageKey:l="vite-ui-theme",...d}){const[p,x]=T.useState(()=>localStorage.getItem(l)||a);T.useEffect(()=>{const C=window.document.documentElement;if(C.classList.remove("light","dark"),p==="system"){const v=window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light";C.classList.add(v);return}C.classList.add(p)},[p]);const E={theme:p,setTheme:C=>{localStorage.setItem(l,C),x(C)}};return s.jsx(hg.Provider,{...d,value:E,children:r})}const Cb=()=>{const r=T.useContext(hg);if(r===void 0)throw new Error("useTheme must be used within a ThemeProvider");return r},mg=T.createContext(null);function Eb({children:r}){const[a,l]=T.useState(null),[d,p]=T.useState(!0),[,x]=No(),E=async()=>{try{const w=await fetch("/api/auth/me",{credentials:"include"});if(w.ok){const b=await w.json();l(b.user)}else l(null)}catch{l(null)}finally{p(!1)}};T.useEffect(()=>{E()},[]);const C=async(w,b)=>{const A=await fetch("/api/auth/login",{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({email:w,password:b})});if(!A.ok){const P=await A.json();throw new Error(P.message||"Login failed")}const O=await A.json();l(O.user),O.token&&localStorage.setItem("auth_token",O.token)},v=async()=>{try{await fetch("/api/auth/logout",{method:"POST",credentials:"include"})}catch{}l(null),x("/login")};return s.jsx(mg.Provider,{value:{user:a,isLoading:d,login:C,logout:v,checkAuth:E},children:r})}function Sa(){const r=T.useContext(mg);if(!r)throw new Error("useAuth must be used within AuthProvider");return r}function bb({children:r,allowedRoles:a}){const{user:l,isLoading:d}=Sa(),[,p]=No();return T.useEffect(()=>{!d&&!l?p("/login"):!d&&l&&a&&!a.includes(l.role)&&p("/unauthorized")},[l,d,a,p]),d?s.jsx("div",{className:"flex items-center justify-center min-h-screen",children:s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary"})}):!l||a&&!a.includes(l.role)?null:s.jsx(s.Fragment,{children:r})}const Mf=768;function Nb(){const[r,a]=T.useState(void 0);return T.useEffect(()=>{const l=window.matchMedia(`(max-width: ${Mf-1}px)`),d=()=>{a(window.innerWidth<Mf)};return l.addEventListener("change",d),a(window.innerWidth<Mf),()=>l.removeEventListener("change",d)},[]),!!r}const Yh=Ao("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0 hover-elevate active-elevate-2",{variants:{variant:{default:"bg-primary text-primary-foreground border border-primary-border",destructive:"bg-destructive text-destructive-foreground border border-destructive-border",outline:" border [border-color:var(--button-outline)]  shadow-xs active:shadow-none ",secondary:"border bg-secondary text-secondary-foreground border border-secondary-border ",ghost:"border border-transparent"},size:{default:"min-h-9 px-4 py-2",sm:"min-h-8 rounded-md px-3 text-xs",lg:"min-h-10 rounded-md px-8",icon:"h-9 w-9"}},defaultVariants:{variant:"default",size:"default"}}),Ve=T.forwardRef(({className:r,variant:a,size:l,asChild:d=!1,...p},x)=>{const E=d?_h:"button";return s.jsx(E,{className:Oe(Yh({variant:a,size:l,className:r})),ref:x,...p})});Ve.displayName="Button";const tt=T.forwardRef(({className:r,type:a,...l},d)=>s.jsx("input",{type:a,className:Oe("flex h-9 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",r),ref:d,...l}));tt.displayName="Input";var Sb="Separator",Gm="horizontal",Ab=["horizontal","vertical"],pg=T.forwardRef((r,a)=>{const{decorative:l,orientation:d=Gm,...p}=r,x=Ib(d)?d:Gm,C=l?{role:"none"}:{"aria-orientation":x==="vertical"?x:void 0,role:"separator"};return s.jsx(xt.div,{"data-orientation":x,...C,...p,ref:a})});pg.displayName=Sb;function Ib(r){return Ab.includes(r)}var xg=pg;const Tb=T.forwardRef(({className:r,orientation:a="horizontal",decorative:l=!0,...d},p)=>s.jsx(xg,{ref:p,decorative:l,orientation:a,className:Oe("shrink-0 bg-border",a==="horizontal"?"h-[1px] w-full":"h-full w-[1px]",r),...d}));Tb.displayName=xg.displayName;var kf="focusScope.autoFocusOnMount",Pf="focusScope.autoFocusOnUnmount",Xm={bubbles:!1,cancelable:!0},jb="FocusScope",qh=T.forwardRef((r,a)=>{const{loop:l=!1,trapped:d=!1,onMountAutoFocus:p,onUnmountAutoFocus:x,...E}=r,[C,v]=T.useState(null),w=gr(p),b=gr(x),A=T.useRef(null),O=zt(a,R=>v(R)),P=T.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;T.useEffect(()=>{if(d){let R=function(V){if(P.paused||!C)return;const K=V.target;C.contains(K)?A.current=K:Pi(A.current,{select:!0})},L=function(V){if(P.paused||!C)return;const K=V.relatedTarget;K!==null&&(C.contains(K)||Pi(A.current,{select:!0}))},G=function(V){if(document.activeElement===document.body)for(const re of V)re.removedNodes.length>0&&Pi(C)};document.addEventListener("focusin",R),document.addEventListener("focusout",L);const H=new MutationObserver(G);return C&&H.observe(C,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",R),document.removeEventListener("focusout",L),H.disconnect()}}},[d,C,P.paused]),T.useEffect(()=>{if(C){Ym.add(P);const R=document.activeElement;if(!C.contains(R)){const G=new CustomEvent(kf,Xm);C.addEventListener(kf,w),C.dispatchEvent(G),G.defaultPrevented||(Rb(kb(gg(C)),{select:!0}),document.activeElement===R&&Pi(C))}return()=>{C.removeEventListener(kf,w),setTimeout(()=>{const G=new CustomEvent(Pf,Xm);C.addEventListener(Pf,b),C.dispatchEvent(G),G.defaultPrevented||Pi(R??document.body,{select:!0}),C.removeEventListener(Pf,b),Ym.remove(P)},0)}}},[C,w,b,P]);const F=T.useCallback(R=>{if(!l&&!d||P.paused)return;const L=R.key==="Tab"&&!R.altKey&&!R.ctrlKey&&!R.metaKey,G=document.activeElement;if(L&&G){const H=R.currentTarget,[V,K]=Ob(H);V&&K?!R.shiftKey&&G===K?(R.preventDefault(),l&&Pi(V,{select:!0})):R.shiftKey&&G===V&&(R.preventDefault(),l&&Pi(K,{select:!0})):G===H&&R.preventDefault()}},[l,d,P.paused]);return s.jsx(xt.div,{tabIndex:-1,...E,ref:O,onKeyDown:F})});qh.displayName=jb;function Rb(r,{select:a=!1}={}){const l=document.activeElement;for(const d of r)if(Pi(d,{select:a}),document.activeElement!==l)return}function Ob(r){const a=gg(r),l=Km(a,r),d=Km(a.reverse(),r);return[l,d]}function gg(r){const a=[],l=document.createTreeWalker(r,NodeFilter.SHOW_ELEMENT,{acceptNode:d=>{const p=d.tagName==="INPUT"&&d.type==="hidden";return d.disabled||d.hidden||p?NodeFilter.FILTER_SKIP:d.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;l.nextNode();)a.push(l.currentNode);return a}function Km(r,a){for(const l of r)if(!_b(l,{upTo:a}))return l}function _b(r,{upTo:a}){if(getComputedStyle(r).visibility==="hidden")return!0;for(;r;){if(a!==void 0&&r===a)return!1;if(getComputedStyle(r).display==="none")return!0;r=r.parentElement}return!1}function Db(r){return r instanceof HTMLInputElement&&"select"in r}function Pi(r,{select:a=!1}={}){if(r&&r.focus){const l=document.activeElement;r.focus({preventScroll:!0}),r!==l&&Db(r)&&a&&r.select()}}var Ym=Mb();function Mb(){let r=[];return{add(a){const l=r[0];a!==l&&l?.pause(),r=qm(r,a),r.unshift(a)},remove(a){r=qm(r,a),r[0]?.resume()}}}function qm(r,a){const l=[...r],d=l.indexOf(a);return d!==-1&&l.splice(d,1),l}function kb(r){return r.filter(a=>a.tagName!=="A")}var Lf=0;function yg(){T.useEffect(()=>{const r=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",r[0]??Qm()),document.body.insertAdjacentElement("beforeend",r[1]??Qm()),Lf++,()=>{Lf===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(a=>a.remove()),Lf--}},[])}function Qm(){const r=document.createElement("span");return r.setAttribute("data-radix-focus-guard",""),r.tabIndex=0,r.style.outline="none",r.style.opacity="0",r.style.position="fixed",r.style.pointerEvents="none",r}var _s=function(){return _s=Object.assign||function(a){for(var l,d=1,p=arguments.length;d<p;d++){l=arguments[d];for(var x in l)Object.prototype.hasOwnProperty.call(l,x)&&(a[x]=l[x])}return a},_s.apply(this,arguments)};function wg(r,a){var l={};for(var d in r)Object.prototype.hasOwnProperty.call(r,d)&&a.indexOf(d)<0&&(l[d]=r[d]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var p=0,d=Object.getOwnPropertySymbols(r);p<d.length;p++)a.indexOf(d[p])<0&&Object.prototype.propertyIsEnumerable.call(r,d[p])&&(l[d[p]]=r[d[p]]);return l}function Pb(r,a,l){if(l||arguments.length===2)for(var d=0,p=a.length,x;d<p;d++)(x||!(d in a))&&(x||(x=Array.prototype.slice.call(a,0,d)),x[d]=a[d]);return r.concat(x||Array.prototype.slice.call(a))}var lu="right-scroll-bar-position",cu="width-before-scroll-bar",Lb="with-scroll-bars-hidden",Fb="--removed-body-scroll-bar-size";function Ff(r,a){return typeof r=="function"?r(a):r&&(r.current=a),r}function Bb(r,a){var l=T.useState(function(){return{value:r,callback:a,facade:{get current(){return l.value},set current(d){var p=l.value;p!==d&&(l.value=d,l.callback(d,p))}}}})[0];return l.callback=a,l.facade}var Ub=typeof window<"u"?T.useLayoutEffect:T.useEffect,Zm=new WeakMap;function Hb(r,a){var l=Bb(null,function(d){return r.forEach(function(p){return Ff(p,d)})});return Ub(function(){var d=Zm.get(l);if(d){var p=new Set(d),x=new Set(r),E=l.current;p.forEach(function(C){x.has(C)||Ff(C,null)}),x.forEach(function(C){p.has(C)||Ff(C,E)})}Zm.set(l,r)},[r]),l}function Vb(r){return r}function zb(r,a){a===void 0&&(a=Vb);var l=[],d=!1,p={read:function(){if(d)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return l.length?l[l.length-1]:r},useMedium:function(x){var E=a(x,d);return l.push(E),function(){l=l.filter(function(C){return C!==E})}},assignSyncMedium:function(x){for(d=!0;l.length;){var E=l;l=[],E.forEach(x)}l={push:function(C){return x(C)},filter:function(){return l}}},assignMedium:function(x){d=!0;var E=[];if(l.length){var C=l;l=[],C.forEach(x),E=l}var v=function(){var b=E;E=[],b.forEach(x)},w=function(){return Promise.resolve().then(v)};w(),l={push:function(b){E.push(b),w()},filter:function(b){return E=E.filter(b),l}}}};return p}function Wb(r){r===void 0&&(r={});var a=zb(null);return a.options=_s({async:!0,ssr:!1},r),a}var vg=function(r){var a=r.sideCar,l=wg(r,["sideCar"]);if(!a)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var d=a.read();if(!d)throw new Error("Sidecar medium not found");return T.createElement(d,_s({},l))};vg.isSideCarExport=!0;function Gb(r,a){return r.useMedium(a),vg}var Cg=Wb(),Bf=function(){},Uu=T.forwardRef(function(r,a){var l=T.useRef(null),d=T.useState({onScrollCapture:Bf,onWheelCapture:Bf,onTouchMoveCapture:Bf}),p=d[0],x=d[1],E=r.forwardProps,C=r.children,v=r.className,w=r.removeScrollBar,b=r.enabled,A=r.shards,O=r.sideCar,P=r.noIsolation,F=r.inert,R=r.allowPinchZoom,L=r.as,G=L===void 0?"div":L,H=r.gapMode,V=wg(r,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noIsolation","inert","allowPinchZoom","as","gapMode"]),K=O,re=Hb([l,a]),le=_s(_s({},V),p);return T.createElement(T.Fragment,null,b&&T.createElement(K,{sideCar:Cg,removeScrollBar:w,shards:A,noIsolation:P,inert:F,setCallbacks:x,allowPinchZoom:!!R,lockRef:l,gapMode:H}),E?T.cloneElement(T.Children.only(C),_s(_s({},le),{ref:re})):T.createElement(G,_s({},le,{className:v,ref:re}),C))});Uu.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};Uu.classNames={fullWidth:cu,zeroRight:lu};var Xb=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function Kb(){if(!document)return null;var r=document.createElement("style");r.type="text/css";var a=Xb();return a&&r.setAttribute("nonce",a),r}function Yb(r,a){r.styleSheet?r.styleSheet.cssText=a:r.appendChild(document.createTextNode(a))}function qb(r){var a=document.head||document.getElementsByTagName("head")[0];a.appendChild(r)}var Qb=function(){var r=0,a=null;return{add:function(l){r==0&&(a=Kb())&&(Yb(a,l),qb(a)),r++},remove:function(){r--,!r&&a&&(a.parentNode&&a.parentNode.removeChild(a),a=null)}}},Zb=function(){var r=Qb();return function(a,l){T.useEffect(function(){return r.add(a),function(){r.remove()}},[a&&l])}},Eg=function(){var r=Zb(),a=function(l){var d=l.styles,p=l.dynamic;return r(d,p),null};return a},$b={left:0,top:0,right:0,gap:0},Uf=function(r){return parseInt(r||"",10)||0},Jb=function(r){var a=window.getComputedStyle(document.body),l=a[r==="padding"?"paddingLeft":"marginLeft"],d=a[r==="padding"?"paddingTop":"marginTop"],p=a[r==="padding"?"paddingRight":"marginRight"];return[Uf(l),Uf(d),Uf(p)]},eN=function(r){if(r===void 0&&(r="margin"),typeof window>"u")return $b;var a=Jb(r),l=document.documentElement.clientWidth,d=window.innerWidth;return{left:a[0],top:a[1],right:a[2],gap:Math.max(0,d-l+a[2]-a[0])}},tN=Eg(),da="data-scroll-locked",nN=function(r,a,l,d){var p=r.left,x=r.top,E=r.right,C=r.gap;return l===void 0&&(l="margin"),`
  .`.concat(Lb,` {
   overflow: hidden `).concat(d,`;
   padding-right: `).concat(C,"px ").concat(d,`;
  }
  body[`).concat(da,`] {
    overflow: hidden `).concat(d,`;
    overscroll-behavior: contain;
    `).concat([a&&"position: relative ".concat(d,";"),l==="margin"&&`
    padding-left: `.concat(p,`px;
    padding-top: `).concat(x,`px;
    padding-right: `).concat(E,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(C,"px ").concat(d,`;
    `),l==="padding"&&"padding-right: ".concat(C,"px ").concat(d,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(lu,` {
    right: `).concat(C,"px ").concat(d,`;
  }
  
  .`).concat(cu,` {
    margin-right: `).concat(C,"px ").concat(d,`;
  }
  
  .`).concat(lu," .").concat(lu,` {
    right: 0 `).concat(d,`;
  }
  
  .`).concat(cu," .").concat(cu,` {
    margin-right: 0 `).concat(d,`;
  }
  
  body[`).concat(da,`] {
    `).concat(Fb,": ").concat(C,`px;
  }
`)},$m=function(){var r=parseInt(document.body.getAttribute(da)||"0",10);return isFinite(r)?r:0},rN=function(){T.useEffect(function(){return document.body.setAttribute(da,($m()+1).toString()),function(){var r=$m()-1;r<=0?document.body.removeAttribute(da):document.body.setAttribute(da,r.toString())}},[])},sN=function(r){var a=r.noRelative,l=r.noImportant,d=r.gapMode,p=d===void 0?"margin":d;rN();var x=T.useMemo(function(){return eN(p)},[p]);return T.createElement(tN,{styles:nN(x,!a,p,l?"":"!important")})},lh=!1;if(typeof window<"u")try{var tu=Object.defineProperty({},"passive",{get:function(){return lh=!0,!0}});window.addEventListener("test",tu,tu),window.removeEventListener("test",tu,tu)}catch{lh=!1}var na=lh?{passive:!1}:!1,iN=function(r){return r.tagName==="TEXTAREA"},bg=function(r,a){if(!(r instanceof Element))return!1;var l=window.getComputedStyle(r);return l[a]!=="hidden"&&!(l.overflowY===l.overflowX&&!iN(r)&&l[a]==="visible")},oN=function(r){return bg(r,"overflowY")},aN=function(r){return bg(r,"overflowX")},Jm=function(r,a){var l=a.ownerDocument,d=a;do{typeof ShadowRoot<"u"&&d instanceof ShadowRoot&&(d=d.host);var p=Ng(r,d);if(p){var x=Sg(r,d),E=x[1],C=x[2];if(E>C)return!0}d=d.parentNode}while(d&&d!==l.body);return!1},lN=function(r){var a=r.scrollTop,l=r.scrollHeight,d=r.clientHeight;return[a,l,d]},cN=function(r){var a=r.scrollLeft,l=r.scrollWidth,d=r.clientWidth;return[a,l,d]},Ng=function(r,a){return r==="v"?oN(a):aN(a)},Sg=function(r,a){return r==="v"?lN(a):cN(a)},uN=function(r,a){return r==="h"&&a==="rtl"?-1:1},dN=function(r,a,l,d,p){var x=uN(r,window.getComputedStyle(a).direction),E=x*d,C=l.target,v=a.contains(C),w=!1,b=E>0,A=0,O=0;do{var P=Sg(r,C),F=P[0],R=P[1],L=P[2],G=R-L-x*F;(F||G)&&Ng(r,C)&&(A+=G,O+=F),C instanceof ShadowRoot?C=C.host:C=C.parentNode}while(!v&&C!==document.body||v&&(a.contains(C)||a===C));return(b&&Math.abs(A)<1||!b&&Math.abs(O)<1)&&(w=!0),w},nu=function(r){return"changedTouches"in r?[r.changedTouches[0].clientX,r.changedTouches[0].clientY]:[0,0]},ep=function(r){return[r.deltaX,r.deltaY]},tp=function(r){return r&&"current"in r?r.current:r},fN=function(r,a){return r[0]===a[0]&&r[1]===a[1]},hN=function(r){return`
  .block-interactivity-`.concat(r,` {pointer-events: none;}
  .allow-interactivity-`).concat(r,` {pointer-events: all;}
`)},mN=0,ra=[];function pN(r){var a=T.useRef([]),l=T.useRef([0,0]),d=T.useRef(),p=T.useState(mN++)[0],x=T.useState(Eg)[0],E=T.useRef(r);T.useEffect(function(){E.current=r},[r]),T.useEffect(function(){if(r.inert){document.body.classList.add("block-interactivity-".concat(p));var R=Pb([r.lockRef.current],(r.shards||[]).map(tp),!0).filter(Boolean);return R.forEach(function(L){return L.classList.add("allow-interactivity-".concat(p))}),function(){document.body.classList.remove("block-interactivity-".concat(p)),R.forEach(function(L){return L.classList.remove("allow-interactivity-".concat(p))})}}},[r.inert,r.lockRef.current,r.shards]);var C=T.useCallback(function(R,L){if("touches"in R&&R.touches.length===2||R.type==="wheel"&&R.ctrlKey)return!E.current.allowPinchZoom;var G=nu(R),H=l.current,V="deltaX"in R?R.deltaX:H[0]-G[0],K="deltaY"in R?R.deltaY:H[1]-G[1],re,le=R.target,Q=Math.abs(V)>Math.abs(K)?"h":"v";if("touches"in R&&Q==="h"&&le.type==="range")return!1;var fe=Jm(Q,le);if(!fe)return!0;if(fe?re=Q:(re=Q==="v"?"h":"v",fe=Jm(Q,le)),!fe)return!1;if(!d.current&&"changedTouches"in R&&(V||K)&&(d.current=re),!re)return!0;var se=d.current||re;return dN(se,L,R,se==="h"?V:K)},[]),v=T.useCallback(function(R){var L=R;if(!(!ra.length||ra[ra.length-1]!==x)){var G="deltaY"in L?ep(L):nu(L),H=a.current.filter(function(re){return re.name===L.type&&(re.target===L.target||L.target===re.shadowParent)&&fN(re.delta,G)})[0];if(H&&H.should){L.cancelable&&L.preventDefault();return}if(!H){var V=(E.current.shards||[]).map(tp).filter(Boolean).filter(function(re){return re.contains(L.target)}),K=V.length>0?C(L,V[0]):!E.current.noIsolation;K&&L.cancelable&&L.preventDefault()}}},[]),w=T.useCallback(function(R,L,G,H){var V={name:R,delta:L,target:G,should:H,shadowParent:xN(G)};a.current.push(V),setTimeout(function(){a.current=a.current.filter(function(K){return K!==V})},1)},[]),b=T.useCallback(function(R){l.current=nu(R),d.current=void 0},[]),A=T.useCallback(function(R){w(R.type,ep(R),R.target,C(R,r.lockRef.current))},[]),O=T.useCallback(function(R){w(R.type,nu(R),R.target,C(R,r.lockRef.current))},[]);T.useEffect(function(){return ra.push(x),r.setCallbacks({onScrollCapture:A,onWheelCapture:A,onTouchMoveCapture:O}),document.addEventListener("wheel",v,na),document.addEventListener("touchmove",v,na),document.addEventListener("touchstart",b,na),function(){ra=ra.filter(function(R){return R!==x}),document.removeEventListener("wheel",v,na),document.removeEventListener("touchmove",v,na),document.removeEventListener("touchstart",b,na)}},[]);var P=r.removeScrollBar,F=r.inert;return T.createElement(T.Fragment,null,F?T.createElement(x,{styles:hN(p)}):null,P?T.createElement(sN,{gapMode:r.gapMode}):null)}function xN(r){for(var a=null;r!==null;)r instanceof ShadowRoot&&(a=r.host,r=r.host),r=r.parentNode;return a}const gN=Gb(Cg,pN);var Qh=T.forwardRef(function(r,a){return T.createElement(Uu,_s({},r,{ref:a,sideCar:gN}))});Qh.classNames=Uu.classNames;var yN=function(r){if(typeof document>"u")return null;var a=Array.isArray(r)?r[0]:r;return a.ownerDocument.body},sa=new WeakMap,ru=new WeakMap,su={},Hf=0,Ag=function(r){return r&&(r.host||Ag(r.parentNode))},wN=function(r,a){return a.map(function(l){if(r.contains(l))return l;var d=Ag(l);return d&&r.contains(d)?d:(console.error("aria-hidden",l,"in not contained inside",r,". Doing nothing"),null)}).filter(function(l){return!!l})},vN=function(r,a,l,d){var p=wN(a,Array.isArray(r)?r:[r]);su[l]||(su[l]=new WeakMap);var x=su[l],E=[],C=new Set,v=new Set(p),w=function(A){!A||C.has(A)||(C.add(A),w(A.parentNode))};p.forEach(w);var b=function(A){!A||v.has(A)||Array.prototype.forEach.call(A.children,function(O){if(C.has(O))b(O);else try{var P=O.getAttribute(d),F=P!==null&&P!=="false",R=(sa.get(O)||0)+1,L=(x.get(O)||0)+1;sa.set(O,R),x.set(O,L),E.push(O),R===1&&F&&ru.set(O,!0),L===1&&O.setAttribute(l,"true"),F||O.setAttribute(d,"true")}catch(G){console.error("aria-hidden: cannot operate on ",O,G)}})};return b(a),C.clear(),Hf++,function(){E.forEach(function(A){var O=sa.get(A)-1,P=x.get(A)-1;sa.set(A,O),x.set(A,P),O||(ru.has(A)||A.removeAttribute(d),ru.delete(A)),P||A.removeAttribute(l)}),Hf--,Hf||(sa=new WeakMap,sa=new WeakMap,ru=new WeakMap,su={})}},Ig=function(r,a,l){l===void 0&&(l="data-aria-hidden");var d=Array.from(Array.isArray(r)?r:[r]),p=yN(r);return p?(d.push.apply(d,Array.from(p.querySelectorAll("[aria-live]"))),vN(d,p,l,"aria-hidden")):function(){return null}},Zh="Dialog",[Tg,jg]=Bs(Zh),[CN,vs]=Tg(Zh),Rg=r=>{const{__scopeDialog:a,children:l,open:d,defaultOpen:p,onOpenChange:x,modal:E=!0}=r,C=T.useRef(null),v=T.useRef(null),[w=!1,b]=wo({prop:d,defaultProp:p,onChange:x});return s.jsx(CN,{scope:a,triggerRef:C,contentRef:v,contentId:ri(),titleId:ri(),descriptionId:ri(),open:w,onOpenChange:b,onOpenToggle:T.useCallback(()=>b(A=>!A),[b]),modal:E,children:l})};Rg.displayName=Zh;var Og="DialogTrigger",_g=T.forwardRef((r,a)=>{const{__scopeDialog:l,...d}=r,p=vs(Og,l),x=zt(a,p.triggerRef);return s.jsx(xt.button,{type:"button","aria-haspopup":"dialog","aria-expanded":p.open,"aria-controls":p.contentId,"data-state":e1(p.open),...d,ref:x,onClick:rt(r.onClick,p.onOpenToggle)})});_g.displayName=Og;var $h="DialogPortal",[EN,Dg]=Tg($h,{forceMount:void 0}),Mg=r=>{const{__scopeDialog:a,forceMount:l,children:d,container:p}=r,x=vs($h,a);return s.jsx(EN,{scope:a,forceMount:l,children:T.Children.map(d,E=>s.jsx(So,{present:l||x.open,children:s.jsx(Iu,{asChild:!0,container:p,children:E})}))})};Mg.displayName=$h;var wu="DialogOverlay",kg=T.forwardRef((r,a)=>{const l=Dg(wu,r.__scopeDialog),{forceMount:d=l.forceMount,...p}=r,x=vs(wu,r.__scopeDialog);return x.modal?s.jsx(So,{present:d||x.open,children:s.jsx(NN,{...p,ref:a})}):null});kg.displayName=wu;var bN=ha("DialogOverlay.RemoveScroll"),NN=T.forwardRef((r,a)=>{const{__scopeDialog:l,...d}=r,p=vs(wu,l);return s.jsx(Qh,{as:bN,allowPinchZoom:!0,shards:[p.contentRef],children:s.jsx(xt.div,{"data-state":e1(p.open),...d,ref:a,style:{pointerEvents:"auto",...d.style}})})}),Co="DialogContent",Pg=T.forwardRef((r,a)=>{const l=Dg(Co,r.__scopeDialog),{forceMount:d=l.forceMount,...p}=r,x=vs(Co,r.__scopeDialog);return s.jsx(So,{present:d||x.open,children:x.modal?s.jsx(SN,{...p,ref:a}):s.jsx(AN,{...p,ref:a})})});Pg.displayName=Co;var SN=T.forwardRef((r,a)=>{const l=vs(Co,r.__scopeDialog),d=T.useRef(null),p=zt(a,l.contentRef,d);return T.useEffect(()=>{const x=d.current;if(x)return Ig(x)},[]),s.jsx(Lg,{...r,ref:p,trapFocus:l.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:rt(r.onCloseAutoFocus,x=>{x.preventDefault(),l.triggerRef.current?.focus()}),onPointerDownOutside:rt(r.onPointerDownOutside,x=>{const E=x.detail.originalEvent,C=E.button===0&&E.ctrlKey===!0;(E.button===2||C)&&x.preventDefault()}),onFocusOutside:rt(r.onFocusOutside,x=>x.preventDefault())})}),AN=T.forwardRef((r,a)=>{const l=vs(Co,r.__scopeDialog),d=T.useRef(!1),p=T.useRef(!1);return s.jsx(Lg,{...r,ref:a,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:x=>{r.onCloseAutoFocus?.(x),x.defaultPrevented||(d.current||l.triggerRef.current?.focus(),x.preventDefault()),d.current=!1,p.current=!1},onInteractOutside:x=>{r.onInteractOutside?.(x),x.defaultPrevented||(d.current=!0,x.detail.originalEvent.type==="pointerdown"&&(p.current=!0));const E=x.target;l.triggerRef.current?.contains(E)&&x.preventDefault(),x.detail.originalEvent.type==="focusin"&&p.current&&x.preventDefault()}})}),Lg=T.forwardRef((r,a)=>{const{__scopeDialog:l,trapFocus:d,onOpenAutoFocus:p,onCloseAutoFocus:x,...E}=r,C=vs(Co,l),v=T.useRef(null),w=zt(a,v);return yg(),s.jsxs(s.Fragment,{children:[s.jsx(qh,{asChild:!0,loop:!0,trapped:d,onMountAutoFocus:p,onUnmountAutoFocus:x,children:s.jsx(Nl,{role:"dialog",id:C.contentId,"aria-describedby":C.descriptionId,"aria-labelledby":C.titleId,"data-state":e1(C.open),...E,ref:w,onDismiss:()=>C.onOpenChange(!1)})}),s.jsxs(s.Fragment,{children:[s.jsx(TN,{titleId:C.titleId}),s.jsx(RN,{contentRef:v,descriptionId:C.descriptionId})]})]})}),Jh="DialogTitle",Fg=T.forwardRef((r,a)=>{const{__scopeDialog:l,...d}=r,p=vs(Jh,l);return s.jsx(xt.h2,{id:p.titleId,...d,ref:a})});Fg.displayName=Jh;var Bg="DialogDescription",Ug=T.forwardRef((r,a)=>{const{__scopeDialog:l,...d}=r,p=vs(Bg,l);return s.jsx(xt.p,{id:p.descriptionId,...d,ref:a})});Ug.displayName=Bg;var Hg="DialogClose",Vg=T.forwardRef((r,a)=>{const{__scopeDialog:l,...d}=r,p=vs(Hg,l);return s.jsx(xt.button,{type:"button",...d,ref:a,onClick:rt(r.onClick,()=>p.onOpenChange(!1))})});Vg.displayName=Hg;function e1(r){return r?"open":"closed"}var zg="DialogTitleWarning",[IN,Wg]=nC(zg,{contentName:Co,titleName:Jh,docsSlug:"dialog"}),TN=({titleId:r})=>{const a=Wg(zg),l=`\`${a.contentName}\` requires a \`${a.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${a.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${a.docsSlug}`;return T.useEffect(()=>{r&&(document.getElementById(r)||console.error(l))},[l,r]),null},jN="DialogDescriptionWarning",RN=({contentRef:r,descriptionId:a})=>{const d=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${Wg(jN).contentName}}.`;return T.useEffect(()=>{const p=r.current?.getAttribute("aria-describedby");a&&p&&(document.getElementById(a)||console.warn(d))},[d,r,a]),null},t1=Rg,Gg=_g,n1=Mg,Rl=kg,Ol=Pg,_l=Fg,Dl=Ug,Hu=Vg;const ON=t1,_N=n1,Xg=T.forwardRef(({className:r,...a},l)=>s.jsx(Rl,{className:Oe("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",r),...a,ref:l}));Xg.displayName=Rl.displayName;const DN=Ao("fixed z-50 gap-4 bg-background p-6 shadow-lg transition ease-in-out data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:duration-300 data-[state=open]:duration-500",{variants:{side:{top:"inset-x-0 top-0 border-b data-[state=closed]:slide-out-to-top data-[state=open]:slide-in-from-top",bottom:"inset-x-0 bottom-0 border-t data-[state=closed]:slide-out-to-bottom data-[state=open]:slide-in-from-bottom",left:"inset-y-0 left-0 h-full w-3/4 border-r data-[state=closed]:slide-out-to-left data-[state=open]:slide-in-from-left sm:max-w-sm",right:"inset-y-0 right-0 h-full w-3/4  border-l data-[state=closed]:slide-out-to-right data-[state=open]:slide-in-from-right sm:max-w-sm"}},defaultVariants:{side:"right"}}),Kg=T.forwardRef(({side:r="right",className:a,children:l,...d},p)=>s.jsxs(_N,{children:[s.jsx(Xg,{}),s.jsxs(Ol,{ref:p,className:Oe(DN({side:r}),a),...d,children:[l,s.jsxs(Hu,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-secondary",children:[s.jsx(Ou,{className:"h-4 w-4"}),s.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));Kg.displayName=Ol.displayName;const Yg=({className:r,...a})=>s.jsx("div",{className:Oe("flex flex-col space-y-2 text-center sm:text-left",r),...a});Yg.displayName="SheetHeader";const qg=T.forwardRef(({className:r,...a},l)=>s.jsx(_l,{ref:l,className:Oe("text-lg font-semibold text-foreground",r),...a}));qg.displayName=_l.displayName;const Qg=T.forwardRef(({className:r,...a},l)=>s.jsx(Dl,{ref:l,className:Oe("text-sm text-muted-foreground",r),...a}));Qg.displayName=Dl.displayName;function Vt({className:r,...a}){return s.jsx("div",{className:Oe("animate-pulse rounded-md bg-muted",r),...a})}const MN="sidebar_state",kN=3600*24*7,PN="16rem",LN="18rem",FN="3rem",BN="b",Zg=T.createContext(null);function r1(){const r=T.useContext(Zg);if(!r)throw new Error("useSidebar must be used within a SidebarProvider.");return r}function UN({defaultOpen:r=!0,open:a,onOpenChange:l,className:d,style:p,children:x,...E}){const C=Nb(),[v,w]=T.useState(!1),[b,A]=T.useState(r),O=a??b,P=T.useCallback(G=>{const H=typeof G=="function"?G(O):G;l?l(H):A(H),document.cookie=`${MN}=${H}; path=/; max-age=${kN}`},[l,O]),F=T.useCallback(()=>C?w(G=>!G):P(G=>!G),[C,P,w]);T.useEffect(()=>{const G=H=>{H.key===BN&&(H.metaKey||H.ctrlKey)&&(H.preventDefault(),F())};return window.addEventListener("keydown",G),()=>window.removeEventListener("keydown",G)},[F]);const R=O?"expanded":"collapsed",L=T.useMemo(()=>({state:R,open:O,setOpen:P,isMobile:C,openMobile:v,setOpenMobile:w,toggleSidebar:F}),[R,O,P,C,v,w,F]);return s.jsx(Zg.Provider,{value:L,children:s.jsx(dg,{delayDuration:0,children:s.jsx("div",{"data-slot":"sidebar-wrapper",style:{"--sidebar-width":PN,"--sidebar-width-icon":FN,...p},className:Oe("group/sidebar-wrapper has-data-[variant=inset]:bg-sidebar flex min-h-svh w-full",d),...E,children:x})})})}function HN({side:r="left",variant:a="sidebar",collapsible:l="offcanvas",className:d,children:p,...x}){const{isMobile:E,state:C,openMobile:v,setOpenMobile:w}=r1();return l==="none"?s.jsx("div",{"data-slot":"sidebar",className:Oe("bg-sidebar text-sidebar-foreground flex h-full w-[var(--sidebar-width)] flex-col",d),...x,children:p}):E?s.jsx(ON,{open:v,onOpenChange:w,...x,children:s.jsxs(Kg,{"data-sidebar":"sidebar","data-slot":"sidebar","data-mobile":"true",className:"bg-sidebar text-sidebar-foreground w-[var(--sidebar-width)] p-0 [&>button]:hidden",style:{"--sidebar-width":LN},side:r,children:[s.jsxs(Yg,{className:"sr-only",children:[s.jsx(qg,{children:"Sidebar"}),s.jsx(Qg,{children:"Displays the mobile sidebar."})]}),s.jsx("div",{className:"flex h-full w-full flex-col",children:p})]})}):s.jsxs("div",{className:"group peer text-sidebar-foreground hidden md:block","data-state":C,"data-collapsible":C==="collapsed"?l:"","data-variant":a,"data-side":r,"data-slot":"sidebar",children:[s.jsx("div",{"data-slot":"sidebar-gap",className:Oe("relative w-[var(--sidebar-width)] bg-transparent transition-[width] duration-200 ease-linear","group-data-[collapsible=offcanvas]:w-0","group-data-[side=right]:rotate-180",a==="floating"||a==="inset"?"group-data-[collapsible=icon]:w-[calc(var(--sidebar-width-icon)+var(--spacing-4))]":"group-data-[collapsible=icon]:w-[var(--sidebar-width-icon)]")}),s.jsx("div",{"data-slot":"sidebar-container",className:Oe("fixed inset-y-0 z-10 hidden h-svh w-[var(--sidebar-width)] transition-[left,right,width] duration-200 ease-linear md:flex",r==="left"?"left-0 group-data-[collapsible=offcanvas]:left-[calc(var(--sidebar-width)*-1)]":"right-0 group-data-[collapsible=offcanvas]:right-[calc(var(--sidebar-width)*-1)]",a==="floating"||a==="inset"?"p-2 group-data-[collapsible=icon]:w-[calc(var(--sidebar-width-icon)+var(--spacing-4)+2px)]":"group-data-[collapsible=icon]:w-[var(--sidebar-width-icon)] group-data-[side=left]:border-r group-data-[side=right]:border-l",d),...x,children:s.jsx("div",{"data-sidebar":"sidebar","data-slot":"sidebar-inner",className:"bg-sidebar group-data-[variant=floating]:border-sidebar-border flex h-full w-full flex-col group-data-[variant=floating]:rounded-lg group-data-[variant=floating]:border group-data-[variant=floating]:shadow-sm",children:p})})]})}function VN({className:r,onClick:a,...l}){const{toggleSidebar:d}=r1();return s.jsxs(Ve,{"data-sidebar":"trigger","data-slot":"sidebar-trigger",variant:"ghost",size:"icon",className:Oe("h-7 w-7",r),onClick:p=>{a?.(p),d()},...l,children:[s.jsx(r3,{}),s.jsx("span",{className:"sr-only",children:"Toggle Sidebar"})]})}function zN({className:r,...a}){return s.jsx("div",{"data-slot":"sidebar-header","data-sidebar":"header",className:Oe("flex flex-col gap-2 p-2",r),...a})}function WN({className:r,...a}){return s.jsx("div",{"data-slot":"sidebar-footer","data-sidebar":"footer",className:Oe("flex flex-col gap-2 p-2",r),...a})}function GN({className:r,...a}){return s.jsx("div",{"data-slot":"sidebar-content","data-sidebar":"content",className:Oe("flex min-h-0 flex-1 flex-col gap-2 overflow-auto group-data-[collapsible=icon]:overflow-hidden",r),...a})}function XN({className:r,...a}){return s.jsx("div",{"data-slot":"sidebar-group","data-sidebar":"group",className:Oe("relative flex w-full min-w-0 flex-col p-2",r),...a})}function KN({className:r,asChild:a=!1,...l}){const d=a?_h:"div";return s.jsx(d,{"data-slot":"sidebar-group-label","data-sidebar":"group-label",className:Oe("text-sidebar-foreground/70 ring-sidebar-ring flex h-8 shrink-0 items-center rounded-md px-2 text-xs font-medium outline-hidden transition-[margin,opacity] duration-200 ease-linear focus-visible:ring-2 [&>svg]:h-4 [&>svg]:w-4 [&>svg]:shrink-0","group-data-[collapsible=icon]:-mt-8 group-data-[collapsible=icon]:opacity-0",r),...l})}function YN({className:r,...a}){return s.jsx("div",{"data-slot":"sidebar-group-content","data-sidebar":"group-content",className:Oe("w-full text-sm",r),...a})}function qN({className:r,...a}){return s.jsx("ul",{"data-slot":"sidebar-menu","data-sidebar":"menu",className:Oe("flex w-full min-w-0 flex-col gap-1",r),...a})}function QN({className:r,...a}){return s.jsx("li",{"data-slot":"sidebar-menu-item","data-sidebar":"menu-item",className:Oe("group/menu-item relative",r),...a})}const ZN=Ao("peer/menu-button flex w-full items-center gap-2 overflow-hidden rounded-md p-2 text-left text-sm outline-hidden ring-sidebar-ring transition-[width,height,padding] hover:bg-sidebar-accent hover:text-sidebar-accent-foreground focus-visible:ring-2 active:bg-sidebar-accent active:text-sidebar-accent-foreground disabled:pointer-events-none disabled:opacity-50 group-has-data-[sidebar=menu-action]/menu-item:pr-8 aria-disabled:pointer-events-none aria-disabled:opacity-50 data-[active=true]:bg-sidebar-accent data-[active=true]:font-medium data-[active=true]:text-sidebar-accent-foreground data-[state=open]:hover:bg-sidebar-accent data-[state=open]:hover:text-sidebar-accent-foreground group-data-[collapsible=icon]:w-8! group-data-[collapsible=icon]:h-8! group-data-[collapsible=icon]:p-2! [&>span:last-child]:truncate [&>svg]:size-4 [&>svg]:shrink-0",{variants:{variant:{default:"hover:bg-sidebar-accent hover:text-sidebar-accent-foreground",outline:"bg-background shadow-[0_0_0_1px_hsl(var(--sidebar-border))] hover:bg-sidebar-accent hover:text-sidebar-accent-foreground hover:shadow-[0_0_0_1px_hsl(var(--sidebar-accent))]"},size:{default:"h-8 text-sm",sm:"h-7 text-xs",lg:"h-12 text-sm group-data-[collapsible=icon]:p-0!"}},defaultVariants:{variant:"default",size:"default"}});function $N({asChild:r=!1,isActive:a=!1,variant:l="default",size:d="default",tooltip:p,className:x,...E}){const C=r?_h:"button",{isMobile:v,state:w}=r1(),b=s.jsx(C,{"data-slot":"sidebar-menu-button","data-sidebar":"menu-button","data-size":d,"data-active":a,className:Oe(ZN({variant:l,size:d}),x),...E});return p?(typeof p=="string"&&(p={children:p}),s.jsxs(gb,{children:[s.jsx(yb,{asChild:!0,children:b}),s.jsx(fg,{side:"right",align:"center",hidden:w!=="collapsed"||v,...p})]})):b}var s1="Avatar",[JN]=Bs(s1),[eS,$g]=JN(s1),Jg=T.forwardRef((r,a)=>{const{__scopeAvatar:l,...d}=r,[p,x]=T.useState("idle");return s.jsx(eS,{scope:l,imageLoadingStatus:p,onImageLoadingStatusChange:x,children:s.jsx(xt.span,{...d,ref:a})})});Jg.displayName=s1;var e2="AvatarImage",t2=T.forwardRef((r,a)=>{const{__scopeAvatar:l,src:d,onLoadingStatusChange:p=()=>{},...x}=r,E=$g(e2,l),C=tS(d,x),v=gr(w=>{p(w),E.onImageLoadingStatusChange(w)});return Pn(()=>{C!=="idle"&&v(C)},[C,v]),C==="loaded"?s.jsx(xt.img,{...x,ref:a,src:d}):null});t2.displayName=e2;var n2="AvatarFallback",r2=T.forwardRef((r,a)=>{const{__scopeAvatar:l,delayMs:d,...p}=r,x=$g(n2,l),[E,C]=T.useState(d===void 0);return T.useEffect(()=>{if(d!==void 0){const v=window.setTimeout(()=>C(!0),d);return()=>window.clearTimeout(v)}},[d]),E&&x.imageLoadingStatus!=="loaded"?s.jsx(xt.span,{...p,ref:a}):null});r2.displayName=n2;function np(r,a){return r?a?(r.src!==a&&(r.src=a),r.complete&&r.naturalWidth>0?"loaded":"loading"):"error":"idle"}function tS(r,{referrerPolicy:a,crossOrigin:l}){const d=rS(),p=T.useRef(null),x=d?(p.current||(p.current=new window.Image),p.current):null,[E,C]=T.useState(()=>np(x,r));return Pn(()=>{C(np(x,r))},[x,r]),Pn(()=>{const v=A=>()=>{C(A)};if(!x)return;const w=v("loaded"),b=v("error");return x.addEventListener("load",w),x.addEventListener("error",b),a&&(x.referrerPolicy=a),typeof l=="string"&&(x.crossOrigin=l),()=>{x.removeEventListener("load",w),x.removeEventListener("error",b)}},[x,l,a]),E}function nS(){return()=>{}}function rS(){return T.useSyncExternalStore(nS,()=>!0,()=>!1)}var s2=Jg,i2=t2,o2=r2;const a2=T.forwardRef(({className:r,...a},l)=>s.jsx(s2,{ref:l,className:Oe(`
      after:content-[''] after:block after:absolute after:inset-0 after:rounded-full after:pointer-events-none after:border after:border-black/10 dark:after:border-white/10
      relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full`,r),...a}));a2.displayName=s2.displayName;const sS=T.forwardRef(({className:r,...a},l)=>s.jsx(i2,{ref:l,className:Oe("aspect-square h-full w-full",r),...a}));sS.displayName=i2.displayName;const l2=T.forwardRef(({className:r,...a},l)=>s.jsx(o2,{ref:l,className:Oe("flex h-full w-full items-center justify-center rounded-full bg-muted",r),...a}));l2.displayName=o2.displayName;const iS=Ao("whitespace-nowrap inline-flex items-center rounded-md border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 hover-elevate ",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground shadow-xs",secondary:"border-transparent bg-secondary text-secondary-foreground",destructive:"border-transparent bg-destructive text-destructive-foreground shadow-xs",outline:" border [border-color:var(--badge-outline)] shadow-xs"}},defaultVariants:{variant:"default"}});function Dt({className:r,variant:a,...l}){return s.jsx("div",{className:Oe(iS({variant:a}),r),...l})}function oS(){const{user:r,logout:a}=Sa(),[l]=No(),d=A=>{const O={admin:"bg-purple-500/10 text-purple-700 dark:text-purple-300 border-purple-500/20",lecturer:"bg-blue-500/10 text-blue-700 dark:text-blue-300 border-blue-500/20",hod:"bg-blue-600/10 text-blue-800 dark:text-blue-200 border-blue-600/20",student:"bg-green-500/10 text-green-700 dark:text-green-300 border-green-500/20",staff:"bg-gray-500/10 text-gray-700 dark:text-gray-300 border-gray-500/20"};return O[A]||O.staff},p=A=>A.split(" ").map(O=>O[0]).join("").toUpperCase().slice(0,2),x=[{title:"Dashboard",url:"/",icon:Jc},{title:"Departments",url:"/admin/departments",icon:KC},{title:"Students",url:"/admin/students",icon:Rr},{title:"Lecturers",url:"/admin/lecturers",icon:th},{title:"HODs",url:"/admin/hod",icon:Rr},{title:"Visiting Lecturers",url:"/admin/visiting-lecturers",icon:Rr},{title:"Staff",url:"/admin/staff",icon:Rr},{title:"Courses",url:"/admin/courses",icon:Or},{title:"Timetable",url:"/admin/timetable",icon:Li},{title:"Attendance",url:"/admin/attendance",icon:Ps},{title:"Labs & PCs",url:"/admin/labs",icon:hu},{title:"Library",url:"/admin/library",icon:xo},{title:"Exam Applications",url:"/admin/exams",icon:fu},{title:"Payments",url:"/admin/payments",icon:Mm},{title:"Import Data",url:"/admin/import",icon:eh},{title:"Export Data",url:"/admin/export",icon:ZC},{title:"Settings",url:"/admin/settings",icon:i3}],E=[{title:"Dashboard",url:"/",icon:Jc},{title:"My Courses",url:"/lecturer/courses",icon:Or},{title:"Attendance",url:"/lecturer/attendance",icon:mu},{title:"Students",url:"/lecturer/students",icon:Rr}],C=[{title:"Dashboard",url:"/",icon:Jc},{title:"My Attendance",url:"/student/attendance",icon:Ps},{title:"Scan QR",url:"/student/scan",icon:mu},{title:"Exam Applications",url:"/student/exams",icon:fu},{title:"Library",url:"/student/library",icon:xo}],v=[{title:"Dashboard",url:"/",icon:Jc},{title:"Library",url:"/staff/library",icon:xo},{title:"Labs",url:"/staff/labs",icon:hu},{title:"Payments",url:"/staff/payments",icon:Mm}],b=(()=>{if(!r)return[];switch(r.role){case"admin":return x;case"lecturer":case"hod":return E;case"student":return C;case"staff":return v;default:return[]}})();return s.jsxs(HN,{children:[s.jsx(zN,{className:"p-4",children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"h-10 w-10 rounded-md bg-primary/10 flex items-center justify-center",children:s.jsx(Al,{className:"h-6 w-6 text-primary"})}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsx("h2",{className:"font-semibold text-sm",children:"SLIATE Nawalapitiya"}),s.jsx("p",{className:"text-xs text-muted-foreground truncate",children:"Campus Management"})]})]})}),s.jsx(GN,{children:s.jsxs(XN,{children:[s.jsx(KN,{className:"text-xs uppercase tracking-wide font-semibold",children:"Menu"}),s.jsx(YN,{children:s.jsx(qN,{children:b.map(A=>{const O=A.icon,P=l===A.url;return s.jsx(QN,{children:s.jsx($N,{asChild:!0,className:P?"bg-sidebar-accent":"",children:s.jsxs(Ft,{href:A.url,"data-testid":`link-${A.title.toLowerCase().replace(/\s+/g,"-")}`,children:[s.jsx(O,{className:"h-4 w-4"}),s.jsx("span",{children:A.title})]})})},A.title)})})})]})}),s.jsx(WN,{className:"p-4 border-t",children:r&&s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(a2,{className:"h-8 w-8",children:s.jsx(l2,{className:"text-xs bg-primary/10 text-primary",children:p(r.name)})}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsx("p",{className:"text-sm font-medium truncate",children:r.name}),s.jsx(Dt,{className:`text-xs ${d(r.role)}`,variant:"outline",children:r.role.toUpperCase()})]})]}),s.jsxs(Ve,{variant:"outline",size:"sm",className:"w-full",onClick:a,"data-testid":"button-logout",children:[s.jsx(t3,{className:"h-4 w-4 mr-2"}),"Logout"]})]})})]})}function aS(){const{theme:r,setTheme:a}=Cb();return s.jsxs(Ve,{variant:"ghost",size:"icon",onClick:()=>a(r==="light"?"dark":"light"),"data-testid":"button-theme-toggle",children:[s.jsx(a3,{className:"h-5 w-5 rotate-0 scale-100 transition-all dark:-rotate-90 dark:scale-0"}),s.jsx(n3,{className:"absolute h-5 w-5 rotate-90 scale-0 transition-all dark:rotate-0 dark:scale-100"}),s.jsx("span",{className:"sr-only",children:"Toggle theme"})]})}const _e=T.forwardRef(({className:r,...a},l)=>s.jsx("div",{ref:l,className:Oe("shadcn-card rounded-xl border bg-card border-card-border text-card-foreground shadow-sm",r),...a}));_e.displayName="Card";const qe=T.forwardRef(({className:r,...a},l)=>s.jsx("div",{ref:l,className:Oe("flex flex-col space-y-1.5 p-6",r),...a}));qe.displayName="CardHeader";const Ze=T.forwardRef(({className:r,...a},l)=>s.jsx("div",{ref:l,className:Oe("text-2xl font-semibold leading-none tracking-tight",r),...a}));Ze.displayName="CardTitle";const ur=T.forwardRef(({className:r,...a},l)=>s.jsx("div",{ref:l,className:Oe("text-sm text-muted-foreground",r),...a}));ur.displayName="CardDescription";const De=T.forwardRef(({className:r,...a},l)=>s.jsx("div",{ref:l,className:Oe("p-6 pt-0",r),...a}));De.displayName="CardContent";const lS=T.forwardRef(({className:r,...a},l)=>s.jsx("div",{ref:l,className:Oe("flex items-center p-6 pt-0",r),...a}));lS.displayName="CardFooter";function gl(){return s.jsx("div",{className:"min-h-screen w-full flex items-center justify-center bg-gray-50",children:s.jsx(_e,{className:"w-full max-w-md mx-4",children:s.jsxs(De,{className:"pt-6",children:[s.jsxs("div",{className:"flex mb-4 gap-2",children:[s.jsx(Jf,{className:"h-8 w-8 text-red-500"}),s.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"404 Page Not Found"})]}),s.jsx("p",{className:"mt-4 text-sm text-gray-600",children:"Did you forget to add the page to the router?"})]})})})}var cS="Label",c2=T.forwardRef((r,a)=>s.jsx(xt.label,{...r,ref:a,onMouseDown:l=>{l.target.closest("button, input, select, textarea")||(r.onMouseDown?.(l),!l.defaultPrevented&&l.detail>1&&l.preventDefault())}}));c2.displayName=cS;var u2=c2;const uS=Ao("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),Ke=T.forwardRef(({className:r,...a},l)=>s.jsx(u2,{ref:l,className:Oe(uS(),r),...a}));Ke.displayName=u2.displayName;function dS(){const[r,a]=T.useState(""),[l,d]=T.useState(""),[p,x]=T.useState(!1),{login:E}=Sa(),[,C]=No(),{toast:v}=Wt(),w=async b=>{b.preventDefault(),x(!0);try{await E(r,l),v({title:"Success",description:"Logged in successfully"}),C("/")}catch(A){v({title:"Error",description:A.message||"Invalid email or password",variant:"destructive"})}finally{x(!1)}};return s.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-primary/10 via-background to-accent/10 p-4",children:s.jsxs("div",{className:"w-full max-w-md",children:[s.jsxs("div",{className:"flex flex-col items-center mb-8",children:[s.jsx("div",{className:"h-16 w-16 rounded-full bg-primary/10 flex items-center justify-center mb-4",children:s.jsx(Al,{className:"h-8 w-8 text-primary"})}),s.jsx("h1",{className:"text-3xl font-bold tracking-tight text-center",children:"SLIATE Nawalapitiya"}),s.jsx("p",{className:"text-muted-foreground text-center mt-2",children:"Campus Management System"})]}),s.jsxs(_e,{children:[s.jsxs(qe,{children:[s.jsx(Ze,{children:"Sign In"}),s.jsx(ur,{children:"Enter your credentials to access your account"})]}),s.jsx(De,{children:s.jsxs("form",{onSubmit:w,className:"space-y-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(Ke,{htmlFor:"email","data-testid":"label-email",children:"Email"}),s.jsx(tt,{id:"email",type:"email",placeholder:"your.email@sliate.ac.lk",value:r,onChange:b=>a(b.target.value),required:!0,disabled:p,"data-testid":"input-email"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(Ke,{htmlFor:"password","data-testid":"label-password",children:"Password"}),s.jsx(tt,{id:"password",type:"password",placeholder:"Enter your password",value:l,onChange:b=>d(b.target.value),required:!0,disabled:p,"data-testid":"input-password"})]}),s.jsx(Ve,{type:"submit",className:"w-full",disabled:p,"data-testid":"button-login",children:p?s.jsxs(s.Fragment,{children:[s.jsx(Xn,{className:"mr-2 h-4 w-4 animate-spin"}),"Signing in..."]}):"Sign In"})]})})]}),s.jsx("p",{className:"text-xs text-center text-muted-foreground mt-6",children:"Contact your administrator if you need assistance accessing your account"})]})})}function fS(){return s.jsx("div",{className:"min-h-screen flex items-center justify-center bg-background p-4",children:s.jsxs(_e,{className:"max-w-md",children:[s.jsxs(qe,{className:"text-center",children:[s.jsx("div",{className:"h-16 w-16 rounded-full bg-destructive/10 flex items-center justify-center mx-auto mb-4",children:s.jsx(o3,{className:"h-8 w-8 text-destructive"})}),s.jsx(Ze,{className:"text-2xl",children:"Access Denied"}),s.jsx(ur,{children:"You don't have permission to access this page"})]}),s.jsxs(De,{className:"text-center",children:[s.jsx("p",{className:"text-sm text-muted-foreground mb-6",children:"Please contact your administrator if you believe this is an error."}),s.jsx(Ft,{href:"/",children:s.jsx(Ve,{variant:"outline",className:"w-full",children:"Go to Dashboard"})})]})]})})}function hS(){const{data:r,isLoading:a}=st({queryKey:["/api/admin/stats"]}),l=[{title:"Total Students",value:r?.totalStudents||0,icon:Rr,description:"Enrolled students",trend:"+12% from last month"},{title:"Lecturers",value:r?.totalLecturers||0,icon:Al,description:"Teaching staff",trend:"5 departments"},{title:"Active Courses",value:r?.totalCourses||0,icon:Or,description:"Current semester",trend:`${r?.totalDepartments||0} departments`},{title:"Attendance Sessions",value:r?.attendanceSessionsToday||0,icon:Ps,description:"Today",trend:`${r?.totalAttendanceMarks||0} total marks`}],d=[{title:"Lab PCs",value:`${r?.availablePCs||0}/${r?.totalPCs||0}`,icon:hu,description:"Available PCs"},{title:"Library Books",value:`${r?.availableBooks||0}/${r?.totalBooks||0}`,icon:xo,description:"Available books"},{title:"Active Loans",value:r?.activeLoans||0,icon:Rf,description:"Book loans"}];return a?s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{children:[s.jsx(Vt,{className:"h-9 w-64 mb-2"}),s.jsx(Vt,{className:"h-5 w-96"})]}),s.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-6",children:[1,2,3,4].map(p=>s.jsxs(_e,{children:[s.jsxs(qe,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(Vt,{className:"h-4 w-24"}),s.jsx(Vt,{className:"h-4 w-4 rounded"})]}),s.jsxs(De,{children:[s.jsx(Vt,{className:"h-8 w-16 mb-2"}),s.jsx(Vt,{className:"h-3 w-32"})]})]},p))})]}):s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:"Admin Dashboard"}),s.jsx("p",{className:"text-muted-foreground mt-2",children:"Overview of campus activities and statistics"})]}),s.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-6",children:l.map(p=>{const x=p.icon;return s.jsxs(_e,{"data-testid":`card-${p.title.toLowerCase().replace(/\s+/g,"-")}`,children:[s.jsxs(qe,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(Ze,{className:"text-sm font-medium",children:p.title}),s.jsx(x,{className:"h-4 w-4 text-muted-foreground"})]}),s.jsxs(De,{children:[s.jsx("div",{className:"text-3xl font-bold","data-testid":`stat-${p.title.toLowerCase().replace(/\s+/g,"-")}`,children:p.value}),s.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:p.description}),s.jsxs("p",{className:"text-xs text-green-600 dark:text-green-400 mt-2 flex items-center gap-1",children:[s.jsx(Rf,{className:"h-3 w-3"}),p.trend]})]})]},p.title)})}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:d.map(p=>{const x=p.icon;return s.jsxs(_e,{children:[s.jsxs(qe,{className:"flex flex-row items-center justify-between space-y-0 pb-2 gap-2",children:[s.jsxs("div",{children:[s.jsx(Ze,{className:"text-base",children:p.title}),s.jsx(ur,{className:"text-xs mt-1",children:p.description})]}),s.jsx(x,{className:"h-5 w-5 text-muted-foreground"})]}),s.jsx(De,{children:s.jsx("div",{className:"text-2xl font-bold",children:p.value})})]},p.title)})}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[s.jsxs(_e,{children:[s.jsxs(qe,{children:[s.jsx(Ze,{children:"Recent Activity"}),s.jsx(ur,{children:"Latest system activities"})]}),s.jsx(De,{children:s.jsx("div",{className:"space-y-4",children:r?.recentActivities?.slice(0,5).map((p,x)=>s.jsxs("div",{className:"flex items-start gap-3 border-b last:border-0 pb-3 last:pb-0",children:[s.jsx("div",{className:"h-2 w-2 bg-primary rounded-full mt-2"}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsx("p",{className:"text-sm font-medium",children:p.action}),s.jsx("p",{className:"text-xs text-muted-foreground",children:p.timestamp})]})]},x))||s.jsx("p",{className:"text-sm text-muted-foreground",children:"No recent activities"})})})]}),s.jsxs(_e,{children:[s.jsxs(qe,{children:[s.jsx(Ze,{children:"Quick Actions"}),s.jsx(ur,{children:"Common administrative tasks"})]}),s.jsx(De,{children:s.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[s.jsxs(Ft,{href:"/admin/students/new",className:"flex flex-col items-center gap-2 p-4 rounded-md bg-accent/50 hover-elevate active-elevate-2 transition-colors","data-testid":"link-add-student",children:[s.jsx(Rr,{className:"h-6 w-6 text-primary"}),s.jsx("span",{className:"text-xs font-medium text-center",children:"Add Student"})]}),s.jsxs(Ft,{href:"/lecturer/attendance/new",className:"flex flex-col items-center gap-2 p-4 rounded-md bg-accent/50 hover-elevate active-elevate-2 transition-colors","data-testid":"link-create-session",children:[s.jsx(Ps,{className:"h-6 w-6 text-primary"}),s.jsx("span",{className:"text-xs font-medium text-center",children:"Create Session"})]}),s.jsxs(Ft,{href:"/admin/import",className:"flex flex-col items-center gap-2 p-4 rounded-md bg-accent/50 hover-elevate active-elevate-2 transition-colors","data-testid":"link-import-data",children:[s.jsx(Rf,{className:"h-6 w-6 text-primary"}),s.jsx("span",{className:"text-xs font-medium text-center",children:"Import Data"})]}),s.jsxs(Ft,{href:"/admin/library",className:"flex flex-col items-center gap-2 p-4 rounded-md bg-accent/50 hover-elevate active-elevate-2 transition-colors","data-testid":"link-manage-library",children:[s.jsx(xo,{className:"h-6 w-6 text-primary"}),s.jsx("span",{className:"text-xs font-medium text-center",children:"Manage Library"})]})]})})]})]})]})}const Vu=T.forwardRef(({className:r,...a},l)=>s.jsx("div",{className:"relative w-full overflow-auto",children:s.jsx("table",{ref:l,className:Oe("w-full caption-bottom text-sm",r),...a})}));Vu.displayName="Table";const zu=T.forwardRef(({className:r,...a},l)=>s.jsx("thead",{ref:l,className:Oe("[&_tr]:border-b",r),...a}));zu.displayName="TableHeader";const Wu=T.forwardRef(({className:r,...a},l)=>s.jsx("tbody",{ref:l,className:Oe("[&_tr:last-child]:border-0",r),...a}));Wu.displayName="TableBody";const mS=T.forwardRef(({className:r,...a},l)=>s.jsx("tfoot",{ref:l,className:Oe("border-t bg-muted/50 font-medium [&>tr]:last:border-b-0",r),...a}));mS.displayName="TableFooter";const ks=T.forwardRef(({className:r,...a},l)=>s.jsx("tr",{ref:l,className:Oe("border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted",r),...a}));ks.displayName="TableRow";const sn=T.forwardRef(({className:r,...a},l)=>s.jsx("th",{ref:l,className:Oe("h-12 px-4 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0",r),...a}));sn.displayName="TableHead";const Ht=T.forwardRef(({className:r,...a},l)=>s.jsx("td",{ref:l,className:Oe("p-4 align-middle [&:has([role=checkbox])]:pr-0",r),...a}));Ht.displayName="TableCell";const pS=T.forwardRef(({className:r,...a},l)=>s.jsx("caption",{ref:l,className:Oe("mt-4 text-sm text-muted-foreground",r),...a}));pS.displayName="TableCaption";const yr=t1,_r=Gg,xS=n1,d2=T.forwardRef(({className:r,...a},l)=>s.jsx(Rl,{ref:l,className:Oe("fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",r),...a}));d2.displayName=Rl.displayName;const dr=T.forwardRef(({className:r,children:a,...l},d)=>s.jsxs(xS,{children:[s.jsx(d2,{}),s.jsxs(Ol,{ref:d,className:Oe("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",r),...l,children:[a,s.jsxs(Hu,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[s.jsx(Ou,{className:"h-4 w-4"}),s.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));dr.displayName=Ol.displayName;const fr=({className:r,...a})=>s.jsx("div",{className:Oe("flex flex-col space-y-1.5 text-center sm:text-left",r),...a});fr.displayName="DialogHeader";const Cs=({className:r,...a})=>s.jsx("div",{className:Oe("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",r),...a});Cs.displayName="DialogFooter";const hr=T.forwardRef(({className:r,...a},l)=>s.jsx(_l,{ref:l,className:Oe("text-lg font-semibold leading-none tracking-tight",r),...a}));hr.displayName=_l.displayName;const wr=T.forwardRef(({className:r,...a},l)=>s.jsx(Dl,{ref:l,className:Oe("text-sm text-muted-foreground",r),...a}));wr.displayName=Dl.displayName;function rp(r,[a,l]){return Math.min(l,Math.max(a,r))}var gS=T.createContext(void 0);function i1(r){const a=T.useContext(gS);return r||a||"ltr"}function yS(r){const a=T.useRef({value:r,previous:r});return T.useMemo(()=>(a.current.value!==r&&(a.current.previous=a.current.value,a.current.value=r),a.current.previous),[r])}var wS=[" ","Enter","ArrowUp","ArrowDown"],vS=[" ","Enter"],Ml="Select",[Gu,Xu,CS]=Dh(Ml),[Aa]=Bs(Ml,[CS,ku]),Ku=ku(),[ES,Vi]=Aa(Ml),[bS,NS]=Aa(Ml),f2=r=>{const{__scopeSelect:a,children:l,open:d,defaultOpen:p,onOpenChange:x,value:E,defaultValue:C,onValueChange:v,dir:w,name:b,autoComplete:A,disabled:O,required:P,form:F}=r,R=Ku(a),[L,G]=T.useState(null),[H,V]=T.useState(null),[K,re]=T.useState(!1),le=i1(w),[Q=!1,fe]=wo({prop:d,defaultProp:p,onChange:x}),[se,Le]=wo({prop:E,defaultProp:C,onChange:v}),je=T.useRef(null),de=L?F||!!L.closest("form"):!0,[Ie,he]=T.useState(new Set),W=Array.from(Ie).map(xe=>xe.props.value).join(";");return s.jsx(Jx,{...R,children:s.jsxs(ES,{required:P,scope:a,trigger:L,onTriggerChange:G,valueNode:H,onValueNodeChange:V,valueNodeHasChildren:K,onValueNodeHasChildrenChange:re,contentId:ri(),value:se,onValueChange:Le,open:Q,onOpenChange:fe,dir:le,triggerPointerDownPosRef:je,disabled:O,children:[s.jsx(Gu.Provider,{scope:a,children:s.jsx(bS,{scope:r.__scopeSelect,onNativeOptionAdd:T.useCallback(xe=>{he(me=>new Set(me).add(xe))},[]),onNativeOptionRemove:T.useCallback(xe=>{he(me=>{const ce=new Set(me);return ce.delete(xe),ce})},[]),children:l})}),de?s.jsxs(L2,{"aria-hidden":!0,required:P,tabIndex:-1,name:b,autoComplete:A,value:se,onChange:xe=>Le(xe.target.value),disabled:O,form:F,children:[se===void 0?s.jsx("option",{value:""}):null,Array.from(Ie)]},W):null]})})};f2.displayName=Ml;var h2="SelectTrigger",m2=T.forwardRef((r,a)=>{const{__scopeSelect:l,disabled:d=!1,...p}=r,x=Ku(l),E=Vi(h2,l),C=E.disabled||d,v=zt(a,E.onTriggerChange),w=Xu(l),b=T.useRef("touch"),[A,O,P]=F2(R=>{const L=w().filter(V=>!V.disabled),G=L.find(V=>V.value===E.value),H=B2(L,R,G);H!==void 0&&E.onValueChange(H.value)}),F=R=>{C||(E.onOpenChange(!0),P()),R&&(E.triggerPointerDownPosRef.current={x:Math.round(R.pageX),y:Math.round(R.pageY)})};return s.jsx(eg,{asChild:!0,...x,children:s.jsx(xt.button,{type:"button",role:"combobox","aria-controls":E.contentId,"aria-expanded":E.open,"aria-required":E.required,"aria-autocomplete":"none",dir:E.dir,"data-state":E.open?"open":"closed",disabled:C,"data-disabled":C?"":void 0,"data-placeholder":P2(E.value)?"":void 0,...p,ref:v,onClick:rt(p.onClick,R=>{R.currentTarget.focus(),b.current!=="mouse"&&F(R)}),onPointerDown:rt(p.onPointerDown,R=>{b.current=R.pointerType;const L=R.target;L.hasPointerCapture(R.pointerId)&&L.releasePointerCapture(R.pointerId),R.button===0&&R.ctrlKey===!1&&R.pointerType==="mouse"&&(F(R),R.preventDefault())}),onKeyDown:rt(p.onKeyDown,R=>{const L=A.current!=="";!(R.ctrlKey||R.altKey||R.metaKey)&&R.key.length===1&&O(R.key),!(L&&R.key===" ")&&wS.includes(R.key)&&(F(),R.preventDefault())})})})});m2.displayName=h2;var p2="SelectValue",x2=T.forwardRef((r,a)=>{const{__scopeSelect:l,className:d,style:p,children:x,placeholder:E="",...C}=r,v=Vi(p2,l),{onValueNodeHasChildrenChange:w}=v,b=x!==void 0,A=zt(a,v.onValueNodeChange);return Pn(()=>{w(b)},[w,b]),s.jsx(xt.span,{...C,ref:A,style:{pointerEvents:"none"},children:P2(v.value)?s.jsx(s.Fragment,{children:E}):x})});x2.displayName=p2;var SS="SelectIcon",g2=T.forwardRef((r,a)=>{const{__scopeSelect:l,children:d,...p}=r;return s.jsx(xt.span,{"aria-hidden":!0,...p,ref:a,children:d||""})});g2.displayName=SS;var AS="SelectPortal",y2=r=>s.jsx(Iu,{asChild:!0,...r});y2.displayName=AS;var Eo="SelectContent",w2=T.forwardRef((r,a)=>{const l=Vi(Eo,r.__scopeSelect),[d,p]=T.useState();if(Pn(()=>{p(new DocumentFragment)},[]),!l.open){const x=d;return x?ya.createPortal(s.jsx(v2,{scope:r.__scopeSelect,children:s.jsx(Gu.Slot,{scope:r.__scopeSelect,children:s.jsx("div",{children:r.children})})}),x):null}return s.jsx(C2,{...r,ref:a})});w2.displayName=Eo;var xs=10,[v2,zi]=Aa(Eo),IS="SelectContentImpl",TS=ha("SelectContent.RemoveScroll"),C2=T.forwardRef((r,a)=>{const{__scopeSelect:l,position:d="item-aligned",onCloseAutoFocus:p,onEscapeKeyDown:x,onPointerDownOutside:E,side:C,sideOffset:v,align:w,alignOffset:b,arrowPadding:A,collisionBoundary:O,collisionPadding:P,sticky:F,hideWhenDetached:R,avoidCollisions:L,...G}=r,H=Vi(Eo,l),[V,K]=T.useState(null),[re,le]=T.useState(null),Q=zt(a,Re=>K(Re)),[fe,se]=T.useState(null),[Le,je]=T.useState(null),de=Xu(l),[Ie,he]=T.useState(!1),W=T.useRef(!1);T.useEffect(()=>{if(V)return Ig(V)},[V]),yg();const xe=T.useCallback(Re=>{const[Me,...lt]=de().map(Bt=>Bt.ref.current),[dt]=lt.slice(-1),mt=document.activeElement;for(const Bt of Re)if(Bt===mt||(Bt?.scrollIntoView({block:"nearest"}),Bt===Me&&re&&(re.scrollTop=0),Bt===dt&&re&&(re.scrollTop=re.scrollHeight),Bt?.focus(),document.activeElement!==mt))return},[de,re]),me=T.useCallback(()=>xe([fe,V]),[xe,fe,V]);T.useEffect(()=>{Ie&&me()},[Ie,me]);const{onOpenChange:ce,triggerPointerDownPosRef:ve}=H;T.useEffect(()=>{if(V){let Re={x:0,y:0};const Me=dt=>{Re={x:Math.abs(Math.round(dt.pageX)-(ve.current?.x??0)),y:Math.abs(Math.round(dt.pageY)-(ve.current?.y??0))}},lt=dt=>{Re.x<=10&&Re.y<=10?dt.preventDefault():V.contains(dt.target)||ce(!1),document.removeEventListener("pointermove",Me),ve.current=null};return ve.current!==null&&(document.addEventListener("pointermove",Me),document.addEventListener("pointerup",lt,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",Me),document.removeEventListener("pointerup",lt,{capture:!0})}}},[V,ce,ve]),T.useEffect(()=>{const Re=()=>ce(!1);return window.addEventListener("blur",Re),window.addEventListener("resize",Re),()=>{window.removeEventListener("blur",Re),window.removeEventListener("resize",Re)}},[ce]);const[Ce,Z]=F2(Re=>{const Me=de().filter(mt=>!mt.disabled),lt=Me.find(mt=>mt.ref.current===document.activeElement),dt=B2(Me,Re,lt);dt&&setTimeout(()=>dt.ref.current.focus())}),ue=T.useCallback((Re,Me,lt)=>{const dt=!W.current&&!lt;(H.value!==void 0&&H.value===Me||dt)&&(se(Re),dt&&(W.current=!0))},[H.value]),Ge=T.useCallback(()=>V?.focus(),[V]),Be=T.useCallback((Re,Me,lt)=>{const dt=!W.current&&!lt;(H.value!==void 0&&H.value===Me||dt)&&je(Re)},[H.value]),pt=d==="popper"?ch:E2,Se=pt===ch?{side:C,sideOffset:v,align:w,alignOffset:b,arrowPadding:A,collisionBoundary:O,collisionPadding:P,sticky:F,hideWhenDetached:R,avoidCollisions:L}:{};return s.jsx(v2,{scope:l,content:V,viewport:re,onViewportChange:le,itemRefCallback:ue,selectedItem:fe,onItemLeave:Ge,itemTextRefCallback:Be,focusSelectedItem:me,selectedItemText:Le,position:d,isPositioned:Ie,searchRef:Ce,children:s.jsx(Qh,{as:TS,allowPinchZoom:!0,children:s.jsx(qh,{asChild:!0,trapped:H.open,onMountAutoFocus:Re=>{Re.preventDefault()},onUnmountAutoFocus:rt(p,Re=>{H.trigger?.focus({preventScroll:!0}),Re.preventDefault()}),children:s.jsx(Nl,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:x,onPointerDownOutside:E,onFocusOutside:Re=>Re.preventDefault(),onDismiss:()=>H.onOpenChange(!1),children:s.jsx(pt,{role:"listbox",id:H.contentId,"data-state":H.open?"open":"closed",dir:H.dir,onContextMenu:Re=>Re.preventDefault(),...G,...Se,onPlaced:()=>he(!0),ref:Q,style:{display:"flex",flexDirection:"column",outline:"none",...G.style},onKeyDown:rt(G.onKeyDown,Re=>{const Me=Re.ctrlKey||Re.altKey||Re.metaKey;if(Re.key==="Tab"&&Re.preventDefault(),!Me&&Re.key.length===1&&Z(Re.key),["ArrowUp","ArrowDown","Home","End"].includes(Re.key)){let dt=de().filter(mt=>!mt.disabled).map(mt=>mt.ref.current);if(["ArrowUp","End"].includes(Re.key)&&(dt=dt.slice().reverse()),["ArrowUp","ArrowDown"].includes(Re.key)){const mt=Re.target,Bt=dt.indexOf(mt);dt=dt.slice(Bt+1)}setTimeout(()=>xe(dt)),Re.preventDefault()}})})})})})})});C2.displayName=IS;var jS="SelectItemAlignedPosition",E2=T.forwardRef((r,a)=>{const{__scopeSelect:l,onPlaced:d,...p}=r,x=Vi(Eo,l),E=zi(Eo,l),[C,v]=T.useState(null),[w,b]=T.useState(null),A=zt(a,Q=>b(Q)),O=Xu(l),P=T.useRef(!1),F=T.useRef(!0),{viewport:R,selectedItem:L,selectedItemText:G,focusSelectedItem:H}=E,V=T.useCallback(()=>{if(x.trigger&&x.valueNode&&C&&w&&R&&L&&G){const Q=x.trigger.getBoundingClientRect(),fe=w.getBoundingClientRect(),se=x.valueNode.getBoundingClientRect(),Le=G.getBoundingClientRect();if(x.dir!=="rtl"){const mt=Le.left-fe.left,Bt=se.left-mt,it=Q.left-Bt,Ln=Q.width+it,Kn=Math.max(Ln,fe.width),Kr=window.innerWidth-xs,Jt=rp(Bt,[xs,Math.max(xs,Kr-Kn)]);C.style.minWidth=Ln+"px",C.style.left=Jt+"px"}else{const mt=fe.right-Le.right,Bt=window.innerWidth-se.right-mt,it=window.innerWidth-Q.right-Bt,Ln=Q.width+it,Kn=Math.max(Ln,fe.width),Kr=window.innerWidth-xs,Jt=rp(Bt,[xs,Math.max(xs,Kr-Kn)]);C.style.minWidth=Ln+"px",C.style.right=Jt+"px"}const je=O(),de=window.innerHeight-xs*2,Ie=R.scrollHeight,he=window.getComputedStyle(w),W=parseInt(he.borderTopWidth,10),xe=parseInt(he.paddingTop,10),me=parseInt(he.borderBottomWidth,10),ce=parseInt(he.paddingBottom,10),ve=W+xe+Ie+ce+me,Ce=Math.min(L.offsetHeight*5,ve),Z=window.getComputedStyle(R),ue=parseInt(Z.paddingTop,10),Ge=parseInt(Z.paddingBottom,10),Be=Q.top+Q.height/2-xs,pt=de-Be,Se=L.offsetHeight/2,Re=L.offsetTop+Se,Me=W+xe+Re,lt=ve-Me;if(Me<=Be){const mt=je.length>0&&L===je[je.length-1].ref.current;C.style.bottom="0px";const Bt=w.clientHeight-R.offsetTop-R.offsetHeight,it=Math.max(pt,Se+(mt?Ge:0)+Bt+me),Ln=Me+it;C.style.height=Ln+"px"}else{const mt=je.length>0&&L===je[0].ref.current;C.style.top="0px";const it=Math.max(Be,W+R.offsetTop+(mt?ue:0)+Se)+lt;C.style.height=it+"px",R.scrollTop=Me-Be+R.offsetTop}C.style.margin=`${xs}px 0`,C.style.minHeight=Ce+"px",C.style.maxHeight=de+"px",d?.(),requestAnimationFrame(()=>P.current=!0)}},[O,x.trigger,x.valueNode,C,w,R,L,G,x.dir,d]);Pn(()=>V(),[V]);const[K,re]=T.useState();Pn(()=>{w&&re(window.getComputedStyle(w).zIndex)},[w]);const le=T.useCallback(Q=>{Q&&F.current===!0&&(V(),H?.(),F.current=!1)},[V,H]);return s.jsx(OS,{scope:l,contentWrapper:C,shouldExpandOnScrollRef:P,onScrollButtonChange:le,children:s.jsx("div",{ref:v,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:K},children:s.jsx(xt.div,{...p,ref:A,style:{boxSizing:"border-box",maxHeight:"100%",...p.style}})})})});E2.displayName=jS;var RS="SelectPopperPosition",ch=T.forwardRef((r,a)=>{const{__scopeSelect:l,align:d="start",collisionPadding:p=xs,...x}=r,E=Ku(l);return s.jsx(tg,{...E,...x,ref:a,align:d,collisionPadding:p,style:{boxSizing:"border-box",...x.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});ch.displayName=RS;var[OS,o1]=Aa(Eo,{}),uh="SelectViewport",b2=T.forwardRef((r,a)=>{const{__scopeSelect:l,nonce:d,...p}=r,x=zi(uh,l),E=o1(uh,l),C=zt(a,x.onViewportChange),v=T.useRef(0);return s.jsxs(s.Fragment,{children:[s.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:d}),s.jsx(Gu.Slot,{scope:l,children:s.jsx(xt.div,{"data-radix-select-viewport":"",role:"presentation",...p,ref:C,style:{position:"relative",flex:1,overflow:"hidden auto",...p.style},onScroll:rt(p.onScroll,w=>{const b=w.currentTarget,{contentWrapper:A,shouldExpandOnScrollRef:O}=E;if(O?.current&&A){const P=Math.abs(v.current-b.scrollTop);if(P>0){const F=window.innerHeight-xs*2,R=parseFloat(A.style.minHeight),L=parseFloat(A.style.height),G=Math.max(R,L);if(G<F){const H=G+P,V=Math.min(F,H),K=H-V;A.style.height=V+"px",A.style.bottom==="0px"&&(b.scrollTop=K>0?K:0,A.style.justifyContent="flex-end")}}}v.current=b.scrollTop})})})]})});b2.displayName=uh;var N2="SelectGroup",[_S,DS]=Aa(N2),MS=T.forwardRef((r,a)=>{const{__scopeSelect:l,...d}=r,p=ri();return s.jsx(_S,{scope:l,id:p,children:s.jsx(xt.div,{role:"group","aria-labelledby":p,...d,ref:a})})});MS.displayName=N2;var S2="SelectLabel",A2=T.forwardRef((r,a)=>{const{__scopeSelect:l,...d}=r,p=DS(S2,l);return s.jsx(xt.div,{id:p.id,...d,ref:a})});A2.displayName=S2;var vu="SelectItem",[kS,I2]=Aa(vu),T2=T.forwardRef((r,a)=>{const{__scopeSelect:l,value:d,disabled:p=!1,textValue:x,...E}=r,C=Vi(vu,l),v=zi(vu,l),w=C.value===d,[b,A]=T.useState(x??""),[O,P]=T.useState(!1),F=zt(a,H=>v.itemRefCallback?.(H,d,p)),R=ri(),L=T.useRef("touch"),G=()=>{p||(C.onValueChange(d),C.onOpenChange(!1))};if(d==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return s.jsx(kS,{scope:l,value:d,disabled:p,textId:R,isSelected:w,onItemTextChange:T.useCallback(H=>{A(V=>V||(H?.textContent??"").trim())},[]),children:s.jsx(Gu.ItemSlot,{scope:l,value:d,disabled:p,textValue:b,children:s.jsx(xt.div,{role:"option","aria-labelledby":R,"data-highlighted":O?"":void 0,"aria-selected":w&&O,"data-state":w?"checked":"unchecked","aria-disabled":p||void 0,"data-disabled":p?"":void 0,tabIndex:p?void 0:-1,...E,ref:F,onFocus:rt(E.onFocus,()=>P(!0)),onBlur:rt(E.onBlur,()=>P(!1)),onClick:rt(E.onClick,()=>{L.current!=="mouse"&&G()}),onPointerUp:rt(E.onPointerUp,()=>{L.current==="mouse"&&G()}),onPointerDown:rt(E.onPointerDown,H=>{L.current=H.pointerType}),onPointerMove:rt(E.onPointerMove,H=>{L.current=H.pointerType,p?v.onItemLeave?.():L.current==="mouse"&&H.currentTarget.focus({preventScroll:!0})}),onPointerLeave:rt(E.onPointerLeave,H=>{H.currentTarget===document.activeElement&&v.onItemLeave?.()}),onKeyDown:rt(E.onKeyDown,H=>{v.searchRef?.current!==""&&H.key===" "||(vS.includes(H.key)&&G(),H.key===" "&&H.preventDefault())})})})})});T2.displayName=vu;var yl="SelectItemText",j2=T.forwardRef((r,a)=>{const{__scopeSelect:l,className:d,style:p,...x}=r,E=Vi(yl,l),C=zi(yl,l),v=I2(yl,l),w=NS(yl,l),[b,A]=T.useState(null),O=zt(a,G=>A(G),v.onItemTextChange,G=>C.itemTextRefCallback?.(G,v.value,v.disabled)),P=b?.textContent,F=T.useMemo(()=>s.jsx("option",{value:v.value,disabled:v.disabled,children:P},v.value),[v.disabled,v.value,P]),{onNativeOptionAdd:R,onNativeOptionRemove:L}=w;return Pn(()=>(R(F),()=>L(F)),[R,L,F]),s.jsxs(s.Fragment,{children:[s.jsx(xt.span,{id:v.textId,...x,ref:O}),v.isSelected&&E.valueNode&&!E.valueNodeHasChildren?ya.createPortal(x.children,E.valueNode):null]})});j2.displayName=yl;var R2="SelectItemIndicator",O2=T.forwardRef((r,a)=>{const{__scopeSelect:l,...d}=r;return I2(R2,l).isSelected?s.jsx(xt.span,{"aria-hidden":!0,...d,ref:a}):null});O2.displayName=R2;var dh="SelectScrollUpButton",_2=T.forwardRef((r,a)=>{const l=zi(dh,r.__scopeSelect),d=o1(dh,r.__scopeSelect),[p,x]=T.useState(!1),E=zt(a,d.onScrollButtonChange);return Pn(()=>{if(l.viewport&&l.isPositioned){let C=function(){const w=v.scrollTop>0;x(w)};const v=l.viewport;return C(),v.addEventListener("scroll",C),()=>v.removeEventListener("scroll",C)}},[l.viewport,l.isPositioned]),p?s.jsx(M2,{...r,ref:E,onAutoScroll:()=>{const{viewport:C,selectedItem:v}=l;C&&v&&(C.scrollTop=C.scrollTop-v.offsetHeight)}}):null});_2.displayName=dh;var fh="SelectScrollDownButton",D2=T.forwardRef((r,a)=>{const l=zi(fh,r.__scopeSelect),d=o1(fh,r.__scopeSelect),[p,x]=T.useState(!1),E=zt(a,d.onScrollButtonChange);return Pn(()=>{if(l.viewport&&l.isPositioned){let C=function(){const w=v.scrollHeight-v.clientHeight,b=Math.ceil(v.scrollTop)<w;x(b)};const v=l.viewport;return C(),v.addEventListener("scroll",C),()=>v.removeEventListener("scroll",C)}},[l.viewport,l.isPositioned]),p?s.jsx(M2,{...r,ref:E,onAutoScroll:()=>{const{viewport:C,selectedItem:v}=l;C&&v&&(C.scrollTop=C.scrollTop+v.offsetHeight)}}):null});D2.displayName=fh;var M2=T.forwardRef((r,a)=>{const{__scopeSelect:l,onAutoScroll:d,...p}=r,x=zi("SelectScrollButton",l),E=T.useRef(null),C=Xu(l),v=T.useCallback(()=>{E.current!==null&&(window.clearInterval(E.current),E.current=null)},[]);return T.useEffect(()=>()=>v(),[v]),Pn(()=>{C().find(b=>b.ref.current===document.activeElement)?.ref.current?.scrollIntoView({block:"nearest"})},[C]),s.jsx(xt.div,{"aria-hidden":!0,...p,ref:a,style:{flexShrink:0,...p.style},onPointerDown:rt(p.onPointerDown,()=>{E.current===null&&(E.current=window.setInterval(d,50))}),onPointerMove:rt(p.onPointerMove,()=>{x.onItemLeave?.(),E.current===null&&(E.current=window.setInterval(d,50))}),onPointerLeave:rt(p.onPointerLeave,()=>{v()})})}),PS="SelectSeparator",k2=T.forwardRef((r,a)=>{const{__scopeSelect:l,...d}=r;return s.jsx(xt.div,{"aria-hidden":!0,...d,ref:a})});k2.displayName=PS;var hh="SelectArrow",LS=T.forwardRef((r,a)=>{const{__scopeSelect:l,...d}=r,p=Ku(l),x=Vi(hh,l),E=zi(hh,l);return x.open&&E.position==="popper"?s.jsx(ng,{...p,...d,ref:a}):null});LS.displayName=hh;function P2(r){return r===""||r===void 0}var L2=T.forwardRef((r,a)=>{const{value:l,...d}=r,p=T.useRef(null),x=zt(a,p),E=yS(l);return T.useEffect(()=>{const C=p.current,v=window.HTMLSelectElement.prototype,b=Object.getOwnPropertyDescriptor(v,"value").set;if(E!==l&&b){const A=new Event("change",{bubbles:!0});b.call(C,l),C.dispatchEvent(A)}},[E,l]),s.jsx(Sl,{asChild:!0,children:s.jsx("select",{...d,ref:x,defaultValue:l})})});L2.displayName="BubbleSelect";function F2(r){const a=gr(r),l=T.useRef(""),d=T.useRef(0),p=T.useCallback(E=>{const C=l.current+E;a(C),(function v(w){l.current=w,window.clearTimeout(d.current),w!==""&&(d.current=window.setTimeout(()=>v(""),1e3))})(C)},[a]),x=T.useCallback(()=>{l.current="",window.clearTimeout(d.current)},[]);return T.useEffect(()=>()=>window.clearTimeout(d.current),[]),[l,p,x]}function B2(r,a,l){const p=a.length>1&&Array.from(a).every(w=>w===a[0])?a[0]:a,x=l?r.indexOf(l):-1;let E=FS(r,Math.max(x,0));p.length===1&&(E=E.filter(w=>w!==l));const v=E.find(w=>w.textValue.toLowerCase().startsWith(p.toLowerCase()));return v!==l?v:void 0}function FS(r,a){return r.map((l,d)=>r[(a+d)%r.length])}var BS=f2,U2=m2,US=x2,HS=g2,VS=y2,H2=w2,zS=b2,V2=A2,z2=T2,WS=j2,GS=O2,W2=_2,G2=D2,X2=k2;const er=BS,tr=US,Wn=T.forwardRef(({className:r,children:a,...l},d)=>s.jsxs(U2,{ref:d,className:Oe("flex h-9 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background data-[placeholder]:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",r),...l,children:[a,s.jsx(HS,{asChild:!0,children:s.jsx(Cx,{className:"h-4 w-4 opacity-50"})})]}));Wn.displayName=U2.displayName;const K2=T.forwardRef(({className:r,...a},l)=>s.jsx(W2,{ref:l,className:Oe("flex cursor-default items-center justify-center py-1",r),...a,children:s.jsx(qC,{className:"h-4 w-4"})}));K2.displayName=W2.displayName;const Y2=T.forwardRef(({className:r,...a},l)=>s.jsx(G2,{ref:l,className:Oe("flex cursor-default items-center justify-center py-1",r),...a,children:s.jsx(Cx,{className:"h-4 w-4"})}));Y2.displayName=G2.displayName;const Gn=T.forwardRef(({className:r,children:a,position:l="popper",...d},p)=>s.jsx(VS,{children:s.jsxs(H2,{ref:p,className:Oe("relative z-50 max-h-[--radix-select-content-available-height] min-w-[8rem] overflow-y-auto overflow-x-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-select-content-transform-origin]",l==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",r),position:l,...d,children:[s.jsx(K2,{}),s.jsx(zS,{className:Oe("p-1",l==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:a}),s.jsx(Y2,{})]})}));Gn.displayName=H2.displayName;const XS=T.forwardRef(({className:r,...a},l)=>s.jsx(V2,{ref:l,className:Oe("py-1.5 pl-8 pr-2 text-sm font-semibold",r),...a}));XS.displayName=V2.displayName;const kn=T.forwardRef(({className:r,children:a,...l},d)=>s.jsxs(z2,{ref:d,className:Oe("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",r),...l,children:[s.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:s.jsx(GS,{children:s.jsx(YC,{className:"h-4 w-4"})})}),s.jsx(WS,{children:a})]}));kn.displayName=z2.displayName;const KS=T.forwardRef(({className:r,...a},l)=>s.jsx(X2,{ref:l,className:Oe("-mx-1 my-1 h-px bg-muted",r),...a}));KS.displayName=X2.displayName;function YS(){const[r,a]=T.useState(""),[l,d]=T.useState(!1),[p,x]=T.useState(null),{toast:E}=Wt(),{data:C,isLoading:v}=st({queryKey:["/api/students"]}),{data:w}=st({queryKey:["/api/departments"]}),b=C?.filter(O=>O.studentId?.toLowerCase().includes(r.toLowerCase())||O.user?.name?.toLowerCase().includes(r.toLowerCase())||O.user?.email?.toLowerCase().includes(r.toLowerCase())),A=O=>O==="FT"?"bg-green-500/10 text-green-700 dark:text-green-300 border-green-500/20":"bg-orange-500/10 text-orange-700 dark:text-orange-300 border-orange-500/20";return s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex items-center justify-between gap-4",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:"Students"}),s.jsx("p",{className:"text-muted-foreground mt-2",children:"Manage student records and information"})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsxs(Ve,{variant:"outline",size:"sm","data-testid":"button-import",children:[s.jsx(JC,{className:"h-4 w-4 mr-2"}),"Import"]}),s.jsxs(Ve,{variant:"outline",size:"sm","data-testid":"button-export",children:[s.jsx($C,{className:"h-4 w-4 mr-2"}),"Export"]}),s.jsxs(yr,{open:l,onOpenChange:d,children:[s.jsx(_r,{asChild:!0,children:s.jsxs(Ve,{"data-testid":"button-add-student",children:[s.jsx(Ls,{className:"h-4 w-4 mr-2"}),"Add Student"]})}),s.jsxs(dr,{className:"max-w-2xl max-h-screen overflow-y-auto",children:[s.jsxs(fr,{children:[s.jsx(hr,{children:"Add New Student"}),s.jsx(wr,{children:"Enter all student details to create a new account"})]}),s.jsx(qS,{departments:w||[],onSuccess:()=>{d(!1),on.invalidateQueries({queryKey:["/api/students"]}),E({title:"Success",description:"Student added successfully"})}})]})]})]})]}),s.jsxs(_e,{children:[s.jsx(qe,{children:s.jsxs("div",{className:"flex items-center justify-between gap-4",children:[s.jsxs("div",{children:[s.jsx(Ze,{children:"All Students"}),s.jsx(ur,{children:"A complete list of all registered students with full details"})]}),s.jsxs("div",{className:"relative w-64",children:[s.jsx(Hi,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-muted-foreground"}),s.jsx(tt,{placeholder:"Search students...",value:r,onChange:O=>a(O.target.value),className:"pl-9","data-testid":"input-search-students"})]})]})}),s.jsx(De,{children:v?s.jsx("div",{className:"space-y-3",children:[1,2,3,4,5].map(O=>s.jsx(Vt,{className:"h-16 w-full"},O))}):s.jsx("div",{className:"overflow-x-auto",children:s.jsxs(Vu,{children:[s.jsx(zu,{children:s.jsxs(ks,{children:[s.jsx(sn,{children:"Student ID"}),s.jsx(sn,{children:"Name"}),s.jsx(sn,{children:"Email"}),s.jsx(sn,{children:"Phone"}),s.jsx(sn,{children:"Student #"}),s.jsx(sn,{children:"Department"}),s.jsx(sn,{children:"Program"}),s.jsx(sn,{children:"Year"}),s.jsx(sn,{className:"text-right",children:"Actions"})]})}),s.jsx(Wu,{children:b&&b.length>0?b.map(O=>s.jsxs(ks,{"data-testid":`row-student-${O.id}`,children:[s.jsx(Ht,{className:"font-mono text-sm font-semibold","data-testid":`text-id-${O.id}`,children:O.studentId}),s.jsx(Ht,{className:"font-medium","data-testid":`text-name-${O.id}`,children:O.user?.name||"-"}),s.jsx(Ht,{className:"text-sm text-muted-foreground","data-testid":`text-email-${O.id}`,children:O.user?.email||"-"}),s.jsx(Ht,{className:"text-sm","data-testid":`text-phone-${O.id}`,children:O.user?.phone||"-"}),s.jsx(Ht,{className:"font-mono text-sm","data-testid":`text-number-${O.id}`,children:O.studentNumber}),s.jsx(Ht,{"data-testid":`text-dept-${O.id}`,children:s.jsx(Dt,{variant:"outline",children:O.department?.code||"-"})}),s.jsx(Ht,{"data-testid":`text-program-${O.id}`,children:s.jsx(Dt,{variant:"outline",className:A(O.programType),children:O.programType})}),s.jsx(Ht,{"data-testid":`text-year-${O.id}`,children:O.intakeYear}),s.jsx(Ht,{className:"text-right",children:s.jsxs("div",{className:"flex items-center justify-end gap-2",children:[s.jsx(Ft,{href:`/admin/students/${O.id}`,children:s.jsx(Ve,{variant:"ghost",size:"icon","data-testid":`button-view-${O.id}`,children:s.jsx(Ru,{className:"h-4 w-4"})})}),s.jsx(Ve,{variant:"ghost",size:"icon","data-testid":`button-edit-${O.id}`,children:s.jsx(va,{className:"h-4 w-4"})}),s.jsx(Ve,{variant:"ghost",size:"icon","data-testid":`button-delete-${O.id}`,children:s.jsx(Ca,{className:"h-4 w-4"})})]})})]},O.id)):s.jsx(ks,{children:s.jsx(Ht,{colSpan:9,className:"text-center py-12 text-muted-foreground",children:"No students found"})})})]})})})]})]})}function qS({departments:r,onSuccess:a}){const[l,d]=T.useState({name:"",email:"",phone:"",password:"",departmentId:"",programType:"FT",intakeYear:new Date().getFullYear(),studentNumber:""}),{toast:p}=Wt(),x=bn({mutationFn:C=>Nn("POST","/api/students",C),onSuccess:()=>{on.invalidateQueries({queryKey:["/api/students"]}),a()},onError:C=>{p({title:"Error",description:C.message||"Failed to create student",variant:"destructive"})}}),E=C=>{if(C.preventDefault(),!l.name||!l.email||!l.password||!l.departmentId||!l.studentNumber){p({title:"Validation Error",description:"Please fill in all required fields",variant:"destructive"});return}x.mutate(l)};return s.jsxs("form",{onSubmit:E,className:"space-y-4",children:[s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(Ke,{htmlFor:"name",children:"Full Name *"}),s.jsx(tt,{id:"name",value:l.name,onChange:C=>d({...l,name:C.target.value}),required:!0,"data-testid":"input-student-name",placeholder:"John Doe"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(Ke,{htmlFor:"email",children:"Email *"}),s.jsx(tt,{id:"email",type:"email",value:l.email,onChange:C=>d({...l,email:C.target.value}),required:!0,"data-testid":"input-student-email",placeholder:"john@example.com"})]})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(Ke,{htmlFor:"phone",children:"Phone Number"}),s.jsx(tt,{id:"phone",value:l.phone,onChange:C=>d({...l,phone:C.target.value}),"data-testid":"input-student-phone",placeholder:"+94 71 234 5678"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(Ke,{htmlFor:"password",children:"Password *"}),s.jsx(tt,{id:"password",type:"password",value:l.password,onChange:C=>d({...l,password:C.target.value}),required:!0,"data-testid":"input-student-password",placeholder:""})]})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(Ke,{htmlFor:"studentNumber",children:"Student Number *"}),s.jsx(tt,{id:"studentNumber",value:l.studentNumber,onChange:C=>d({...l,studentNumber:C.target.value}),required:!0,"data-testid":"input-student-number",placeholder:"0001"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(Ke,{htmlFor:"intakeYear",children:"Intake Year *"}),s.jsx(tt,{id:"intakeYear",type:"number",value:l.intakeYear,onChange:C=>d({...l,intakeYear:parseInt(C.target.value)}),required:!0,"data-testid":"input-intake-year",min:"2020",max:new Date().getFullYear()})]})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(Ke,{htmlFor:"department",children:"Department *"}),s.jsxs(er,{value:l.departmentId,onValueChange:C=>d({...l,departmentId:C}),required:!0,children:[s.jsx(Wn,{"data-testid":"select-department",children:s.jsx(tr,{placeholder:"Select department"})}),s.jsx(Gn,{children:r.map(C=>s.jsxs(kn,{value:C.id.toString(),children:[C.code," - ",C.name]},C.id))})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(Ke,{htmlFor:"programType",children:"Program Type *"}),s.jsxs(er,{value:l.programType,onValueChange:C=>d({...l,programType:C}),children:[s.jsx(Wn,{"data-testid":"select-program-type",children:s.jsx(tr,{})}),s.jsxs(Gn,{children:[s.jsx(kn,{value:"FT",children:"Full-Time (FT)"}),s.jsx(kn,{value:"PT",children:"Part-Time (PT)"})]})]})]})]}),s.jsx(Cs,{children:s.jsx(Ve,{type:"submit",disabled:x.isPending,"data-testid":"button-submit-student",children:x.isPending?s.jsxs(s.Fragment,{children:[s.jsx(Xn,{className:"mr-2 h-4 w-4 animate-spin"}),"Creating..."]}):"Add Student"})})]})}function QS(){const[r,a]=T.useState(""),[l,d]=T.useState(!1),{toast:p}=Wt(),{data:x,isLoading:E}=st({queryKey:["/api/library/books"]}),C=x?.filter(w=>w.title.toLowerCase().includes(r.toLowerCase())||w.author?.toLowerCase().includes(r.toLowerCase())||w.isbn?.toLowerCase().includes(r.toLowerCase())),v=(w,b)=>w===0?s.jsx(Dt,{variant:"outline",className:"bg-red-500/10 text-red-700 dark:text-red-300 border-red-500/20",children:"Unavailable"}):w<b/2?s.jsx(Dt,{variant:"outline",className:"bg-yellow-500/10 text-yellow-700 dark:text-yellow-300 border-yellow-500/20",children:"Low Stock"}):s.jsx(Dt,{variant:"outline",className:"bg-green-500/10 text-green-700 dark:text-green-300 border-green-500/20",children:"Available"});return s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex items-center justify-between gap-4",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:"Library Management"}),s.jsx("p",{className:"text-muted-foreground mt-2",children:"Manage book inventory and loans"})]}),s.jsxs(yr,{open:l,onOpenChange:d,children:[s.jsx(_r,{asChild:!0,children:s.jsxs(Ve,{"data-testid":"button-add-book",children:[s.jsx(Ls,{className:"h-4 w-4 mr-2"}),"Add Book"]})}),s.jsxs(dr,{className:"max-w-2xl",children:[s.jsxs(fr,{children:[s.jsx(hr,{children:"Add New Book"}),s.jsx(wr,{children:"Enter book details to add to library"})]}),s.jsx(ZS,{onSuccess:()=>{d(!1),on.invalidateQueries({queryKey:["/api/library/books"]}),p({title:"Success",description:"Book added successfully"})}})]})]})]}),s.jsxs(_e,{children:[s.jsx(qe,{children:s.jsxs("div",{className:"flex items-center justify-between gap-4",children:[s.jsxs("div",{children:[s.jsx(Ze,{children:"Book Inventory"}),s.jsx(ur,{children:"All library books"})]}),s.jsxs("div",{className:"relative w-64",children:[s.jsx(Hi,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-muted-foreground"}),s.jsx(tt,{placeholder:"Search books...",value:r,onChange:w=>a(w.target.value),className:"pl-9","data-testid":"input-search-books"})]})]})}),s.jsx(De,{children:E?s.jsx("div",{className:"space-y-3",children:[1,2,3,4,5].map(w=>s.jsx(Vt,{className:"h-16 w-full"},w))}):s.jsx("div",{className:"overflow-x-auto",children:s.jsxs(Vu,{children:[s.jsx(zu,{children:s.jsxs(ks,{children:[s.jsx(sn,{children:"ISBN"}),s.jsx(sn,{children:"Title"}),s.jsx(sn,{children:"Author"}),s.jsx(sn,{children:"Publisher"}),s.jsx(sn,{children:"Available"}),s.jsx(sn,{children:"Status"})]})}),s.jsx(Wu,{children:C&&C.length>0?C.map(w=>s.jsxs(ks,{"data-testid":`row-book-${w.id}`,children:[s.jsx(Ht,{className:"font-mono text-sm",children:w.isbn||"N/A"}),s.jsx(Ht,{className:"font-medium",children:w.title}),s.jsx(Ht,{className:"text-sm text-muted-foreground",children:w.author||"Unknown"}),s.jsx(Ht,{className:"text-sm text-muted-foreground",children:w.publisher||"N/A"}),s.jsx(Ht,{children:s.jsxs("span",{className:"font-mono text-sm",children:[w.availableQuantity,"/",w.quantity]})}),s.jsx(Ht,{children:v(w.availableQuantity,w.quantity)})]},w.id)):s.jsx(ks,{children:s.jsx(Ht,{colSpan:6,className:"text-center py-12 text-muted-foreground",children:"No books found"})})})]})})})]})]})}function ZS({onSuccess:r}){const[a,l]=T.useState({isbn:"",title:"",author:"",publisher:"",quantity:1}),{toast:d}=Wt(),p=bn({mutationFn:E=>Nn("POST","/api/library/books",E),onSuccess:()=>{on.invalidateQueries({queryKey:["/api/library/books"]}),r()},onError:E=>{d({title:"Error",description:E.message||"Failed to add book",variant:"destructive"})}}),x=E=>{E.preventDefault(),p.mutate(a)};return s.jsxs("form",{onSubmit:x,className:"space-y-4",children:[s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(Ke,{htmlFor:"isbn",children:"ISBN"}),s.jsx(tt,{id:"isbn",value:a.isbn,onChange:E=>l({...a,isbn:E.target.value}),"data-testid":"input-isbn"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(Ke,{htmlFor:"quantity",children:"Quantity"}),s.jsx(tt,{id:"quantity",type:"number",min:"1",value:a.quantity,onChange:E=>l({...a,quantity:parseInt(E.target.value)}),required:!0,"data-testid":"input-quantity"})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(Ke,{htmlFor:"title",children:"Title"}),s.jsx(tt,{id:"title",value:a.title,onChange:E=>l({...a,title:E.target.value}),required:!0,"data-testid":"input-title"})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(Ke,{htmlFor:"author",children:"Author"}),s.jsx(tt,{id:"author",value:a.author,onChange:E=>l({...a,author:E.target.value}),"data-testid":"input-author"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(Ke,{htmlFor:"publisher",children:"Publisher"}),s.jsx(tt,{id:"publisher",value:a.publisher,onChange:E=>l({...a,publisher:E.target.value}),"data-testid":"input-publisher"})]})]}),s.jsx(Cs,{children:s.jsx(Ve,{type:"submit",disabled:p.isPending,"data-testid":"button-submit-book",children:p.isPending?s.jsxs(s.Fragment,{children:[s.jsx(Xn,{className:"mr-2 h-4 w-4 animate-spin"}),"Adding..."]}):"Add Book"})})]})}var Vf="rovingFocusGroup.onEntryFocus",$S={bubbles:!1,cancelable:!0},Yu="RovingFocusGroup",[mh,q2,JS]=Dh(Yu),[e4,Q2]=Bs(Yu,[JS]),[t4,n4]=e4(Yu),Z2=T.forwardRef((r,a)=>s.jsx(mh.Provider,{scope:r.__scopeRovingFocusGroup,children:s.jsx(mh.Slot,{scope:r.__scopeRovingFocusGroup,children:s.jsx(r4,{...r,ref:a})})}));Z2.displayName=Yu;var r4=T.forwardRef((r,a)=>{const{__scopeRovingFocusGroup:l,orientation:d,loop:p=!1,dir:x,currentTabStopId:E,defaultCurrentTabStopId:C,onCurrentTabStopIdChange:v,onEntryFocus:w,preventScrollOnEntryFocus:b=!1,...A}=r,O=T.useRef(null),P=zt(a,O),F=i1(x),[R=null,L]=wo({prop:E,defaultProp:C,onChange:v}),[G,H]=T.useState(!1),V=gr(w),K=q2(l),re=T.useRef(!1),[le,Q]=T.useState(0);return T.useEffect(()=>{const fe=O.current;if(fe)return fe.addEventListener(Vf,V),()=>fe.removeEventListener(Vf,V)},[V]),s.jsx(t4,{scope:l,orientation:d,dir:F,loop:p,currentTabStopId:R,onItemFocus:T.useCallback(fe=>L(fe),[L]),onItemShiftTab:T.useCallback(()=>H(!0),[]),onFocusableItemAdd:T.useCallback(()=>Q(fe=>fe+1),[]),onFocusableItemRemove:T.useCallback(()=>Q(fe=>fe-1),[]),children:s.jsx(xt.div,{tabIndex:G||le===0?-1:0,"data-orientation":d,...A,ref:P,style:{outline:"none",...r.style},onMouseDown:rt(r.onMouseDown,()=>{re.current=!0}),onFocus:rt(r.onFocus,fe=>{const se=!re.current;if(fe.target===fe.currentTarget&&se&&!G){const Le=new CustomEvent(Vf,$S);if(fe.currentTarget.dispatchEvent(Le),!Le.defaultPrevented){const je=K().filter(xe=>xe.focusable),de=je.find(xe=>xe.active),Ie=je.find(xe=>xe.id===R),W=[de,Ie,...je].filter(Boolean).map(xe=>xe.ref.current);ey(W,b)}}re.current=!1}),onBlur:rt(r.onBlur,()=>H(!1))})})}),$2="RovingFocusGroupItem",J2=T.forwardRef((r,a)=>{const{__scopeRovingFocusGroup:l,focusable:d=!0,active:p=!1,tabStopId:x,...E}=r,C=ri(),v=x||C,w=n4($2,l),b=w.currentTabStopId===v,A=q2(l),{onFocusableItemAdd:O,onFocusableItemRemove:P}=w;return T.useEffect(()=>{if(d)return O(),()=>P()},[d,O,P]),s.jsx(mh.ItemSlot,{scope:l,id:v,focusable:d,active:p,children:s.jsx(xt.span,{tabIndex:b?0:-1,"data-orientation":w.orientation,...E,ref:a,onMouseDown:rt(r.onMouseDown,F=>{d?w.onItemFocus(v):F.preventDefault()}),onFocus:rt(r.onFocus,()=>w.onItemFocus(v)),onKeyDown:rt(r.onKeyDown,F=>{if(F.key==="Tab"&&F.shiftKey){w.onItemShiftTab();return}if(F.target!==F.currentTarget)return;const R=o4(F,w.orientation,w.dir);if(R!==void 0){if(F.metaKey||F.ctrlKey||F.altKey||F.shiftKey)return;F.preventDefault();let G=A().filter(H=>H.focusable).map(H=>H.ref.current);if(R==="last")G.reverse();else if(R==="prev"||R==="next"){R==="prev"&&G.reverse();const H=G.indexOf(F.currentTarget);G=w.loop?a4(G,H+1):G.slice(H+1)}setTimeout(()=>ey(G))}})})})});J2.displayName=$2;var s4={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function i4(r,a){return a!=="rtl"?r:r==="ArrowLeft"?"ArrowRight":r==="ArrowRight"?"ArrowLeft":r}function o4(r,a,l){const d=i4(r.key,l);if(!(a==="vertical"&&["ArrowLeft","ArrowRight"].includes(d))&&!(a==="horizontal"&&["ArrowUp","ArrowDown"].includes(d)))return s4[d]}function ey(r,a=!1){const l=document.activeElement;for(const d of r)if(d===l||(d.focus({preventScroll:a}),document.activeElement!==l))return}function a4(r,a){return r.map((l,d)=>r[(a+d)%r.length])}var l4=Z2,c4=J2,a1="Tabs",[u4]=Bs(a1,[Q2]),ty=Q2(),[d4,l1]=u4(a1),ny=T.forwardRef((r,a)=>{const{__scopeTabs:l,value:d,onValueChange:p,defaultValue:x,orientation:E="horizontal",dir:C,activationMode:v="automatic",...w}=r,b=i1(C),[A,O]=wo({prop:d,onChange:p,defaultProp:x});return s.jsx(d4,{scope:l,baseId:ri(),value:A,onValueChange:O,orientation:E,dir:b,activationMode:v,children:s.jsx(xt.div,{dir:b,"data-orientation":E,...w,ref:a})})});ny.displayName=a1;var ry="TabsList",sy=T.forwardRef((r,a)=>{const{__scopeTabs:l,loop:d=!0,...p}=r,x=l1(ry,l),E=ty(l);return s.jsx(l4,{asChild:!0,...E,orientation:x.orientation,dir:x.dir,loop:d,children:s.jsx(xt.div,{role:"tablist","aria-orientation":x.orientation,...p,ref:a})})});sy.displayName=ry;var iy="TabsTrigger",oy=T.forwardRef((r,a)=>{const{__scopeTabs:l,value:d,disabled:p=!1,...x}=r,E=l1(iy,l),C=ty(l),v=cy(E.baseId,d),w=uy(E.baseId,d),b=d===E.value;return s.jsx(c4,{asChild:!0,...C,focusable:!p,active:b,children:s.jsx(xt.button,{type:"button",role:"tab","aria-selected":b,"aria-controls":w,"data-state":b?"active":"inactive","data-disabled":p?"":void 0,disabled:p,id:v,...x,ref:a,onMouseDown:rt(r.onMouseDown,A=>{!p&&A.button===0&&A.ctrlKey===!1?E.onValueChange(d):A.preventDefault()}),onKeyDown:rt(r.onKeyDown,A=>{[" ","Enter"].includes(A.key)&&E.onValueChange(d)}),onFocus:rt(r.onFocus,()=>{const A=E.activationMode!=="manual";!b&&!p&&A&&E.onValueChange(d)})})})});oy.displayName=iy;var ay="TabsContent",ly=T.forwardRef((r,a)=>{const{__scopeTabs:l,value:d,forceMount:p,children:x,...E}=r,C=l1(ay,l),v=cy(C.baseId,d),w=uy(C.baseId,d),b=d===C.value,A=T.useRef(b);return T.useEffect(()=>{const O=requestAnimationFrame(()=>A.current=!1);return()=>cancelAnimationFrame(O)},[]),s.jsx(So,{present:p||b,children:({present:O})=>s.jsx(xt.div,{"data-state":b?"active":"inactive","data-orientation":C.orientation,role:"tabpanel","aria-labelledby":v,hidden:!O,id:w,tabIndex:0,...E,ref:a,style:{...r.style,animationDuration:A.current?"0s":void 0},children:O&&x})})});ly.displayName=ay;function cy(r,a){return`${r}-trigger-${a}`}function uy(r,a){return`${r}-content-${a}`}var f4=ny,dy=sy,fy=oy,hy=ly;const h4=f4,my=T.forwardRef(({className:r,...a},l)=>s.jsx(dy,{ref:l,className:Oe("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",r),...a}));my.displayName=dy.displayName;const ph=T.forwardRef(({className:r,...a},l)=>s.jsx(fy,{ref:l,className:Oe("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm",r),...a}));ph.displayName=fy.displayName;const xh=T.forwardRef(({className:r,...a},l)=>s.jsx(hy,{ref:l,className:Oe("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",r),...a}));xh.displayName=hy.displayName;function m4(){const[r,a]=T.useState(!1),[l,d]=T.useState(!1),{toast:p}=Wt(),{data:x,isLoading:E}=st({queryKey:["/api/labs"]}),{data:C,isLoading:v}=st({queryKey:["/api/labs/pcs"]}),w=b=>{const A={available:"bg-green-500/10 text-green-700 dark:text-green-300 border-green-500/20",assigned:"bg-blue-500/10 text-blue-700 dark:text-blue-300 border-blue-500/20",maintenance:"bg-yellow-500/10 text-yellow-700 dark:text-yellow-300 border-yellow-500/20",unavailable:"bg-red-500/10 text-red-700 dark:text-red-300 border-red-500/20"};return s.jsx(Dt,{variant:"outline",className:A[b]||A.unavailable,children:b.toUpperCase()})};return s.jsxs("div",{className:"space-y-6",children:[s.jsx("div",{className:"flex items-center justify-between gap-4",children:s.jsxs("div",{children:[s.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:"Labs & PCs"}),s.jsx("p",{className:"text-muted-foreground mt-2",children:"Manage lab facilities and computer inventory"})]})}),s.jsxs(h4,{defaultValue:"pcs",className:"space-y-6",children:[s.jsxs(my,{children:[s.jsx(ph,{value:"pcs","data-testid":"tab-pcs",children:"PCs"}),s.jsx(ph,{value:"labs","data-testid":"tab-labs",children:"Labs"})]}),s.jsxs(xh,{value:"pcs",className:"space-y-6",children:[s.jsx("div",{className:"flex justify-end",children:s.jsxs(yr,{open:l,onOpenChange:d,children:[s.jsx(_r,{asChild:!0,children:s.jsxs(Ve,{"data-testid":"button-add-pc",children:[s.jsx(Ls,{className:"h-4 w-4 mr-2"}),"Add PC"]})}),s.jsxs(dr,{children:[s.jsxs(fr,{children:[s.jsx(hr,{children:"Add New PC"}),s.jsx(wr,{children:"Enter PC details"})]}),s.jsx(x4,{labs:x||[],onSuccess:()=>{d(!1),on.invalidateQueries({queryKey:["/api/labs/pcs"]}),p({title:"Success",description:"PC added successfully"})}})]})]})}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:v?[1,2,3].map(b=>s.jsx(Vt,{className:"h-40"},b)):C&&C.length>0?C.map(b=>s.jsxs(_e,{"data-testid":`card-pc-${b.id}`,children:[s.jsxs(qe,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(Ze,{className:"text-base font-mono",children:b.pcNumber}),s.jsx(hu,{className:"h-4 w-4 text-muted-foreground"})]}),s.jsxs(De,{className:"space-y-2",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{className:"text-xs text-muted-foreground",children:"Status"}),w(b.status)]}),b.specifications&&s.jsx("p",{className:"text-xs text-muted-foreground",children:b.specifications})]})]},b.id)):s.jsx("div",{className:"col-span-full text-center py-12 text-muted-foreground",children:"No PCs found"})})]}),s.jsxs(xh,{value:"labs",className:"space-y-6",children:[s.jsx("div",{className:"flex justify-end",children:s.jsxs(yr,{open:r,onOpenChange:a,children:[s.jsx(_r,{asChild:!0,children:s.jsxs(Ve,{"data-testid":"button-add-lab",children:[s.jsx(Ls,{className:"h-4 w-4 mr-2"}),"Add Lab"]})}),s.jsxs(dr,{children:[s.jsxs(fr,{children:[s.jsx(hr,{children:"Add New Lab"}),s.jsx(wr,{children:"Enter lab details"})]}),s.jsx(p4,{onSuccess:()=>{a(!1),on.invalidateQueries({queryKey:["/api/labs"]}),p({title:"Success",description:"Lab added successfully"})}})]})]})}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:E?[1,2].map(b=>s.jsx(Vt,{className:"h-48"},b)):x&&x.length>0?x.map(b=>s.jsxs(_e,{"data-testid":`card-lab-${b.id}`,children:[s.jsxs(qe,{children:[s.jsx(Ze,{children:b.name}),s.jsx(ur,{children:b.location})]}),s.jsx(De,{children:s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{className:"text-sm text-muted-foreground",children:"Capacity"}),s.jsxs("span",{className:"text-sm font-medium",children:[b.capacity||"N/A"," seats"]})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{className:"text-sm text-muted-foreground",children:"PCs"}),s.jsx("span",{className:"text-sm font-medium",children:C?.filter(A=>A.labId===b.id).length||0})]})]})})]},b.id)):s.jsx("div",{className:"col-span-full text-center py-12 text-muted-foreground",children:"No labs found"})})]})]})]})}function p4({onSuccess:r}){const[a,l]=T.useState({name:"",location:"",capacity:0}),{toast:d}=Wt(),p=bn({mutationFn:E=>Nn("POST","/api/labs",E),onSuccess:()=>{on.invalidateQueries({queryKey:["/api/labs"]}),r()},onError:E=>{d({title:"Error",description:E.message||"Failed to add lab",variant:"destructive"})}}),x=E=>{E.preventDefault(),p.mutate(a)};return s.jsxs("form",{onSubmit:x,className:"space-y-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(Ke,{htmlFor:"name",children:"Lab Name"}),s.jsx(tt,{id:"name",value:a.name,onChange:E=>l({...a,name:E.target.value}),required:!0,"data-testid":"input-lab-name"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(Ke,{htmlFor:"location",children:"Location"}),s.jsx(tt,{id:"location",value:a.location,onChange:E=>l({...a,location:E.target.value}),"data-testid":"input-location"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(Ke,{htmlFor:"capacity",children:"Capacity"}),s.jsx(tt,{id:"capacity",type:"number",min:"0",value:a.capacity,onChange:E=>l({...a,capacity:parseInt(E.target.value)}),"data-testid":"input-capacity"})]}),s.jsx(Cs,{children:s.jsx(Ve,{type:"submit",disabled:p.isPending,"data-testid":"button-submit-lab",children:p.isPending?s.jsxs(s.Fragment,{children:[s.jsx(Xn,{className:"mr-2 h-4 w-4 animate-spin"}),"Adding..."]}):"Add Lab"})})]})}function x4({labs:r,onSuccess:a}){const[l,d]=T.useState({pcNumber:"",labId:"",status:"available",specifications:""}),{toast:p}=Wt(),x=bn({mutationFn:C=>Nn("POST","/api/labs/pcs",C),onSuccess:()=>{on.invalidateQueries({queryKey:["/api/labs/pcs"]}),a()},onError:C=>{p({title:"Error",description:C.message||"Failed to add PC",variant:"destructive"})}}),E=C=>{C.preventDefault(),x.mutate(l)};return s.jsxs("form",{onSubmit:E,className:"space-y-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(Ke,{htmlFor:"pcNumber",children:"PC Number"}),s.jsx(tt,{id:"pcNumber",value:l.pcNumber,onChange:C=>d({...l,pcNumber:C.target.value}),required:!0,placeholder:"e.g., PC-001","data-testid":"input-pc-number"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(Ke,{htmlFor:"lab",children:"Lab"}),s.jsxs(er,{value:l.labId,onValueChange:C=>d({...l,labId:C}),required:!0,children:[s.jsx(Wn,{"data-testid":"select-lab",children:s.jsx(tr,{placeholder:"Select lab"})}),s.jsx(Gn,{children:r.map(C=>s.jsx(kn,{value:C.id.toString(),children:C.name},C.id))})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(Ke,{htmlFor:"specifications",children:"Specifications"}),s.jsx(tt,{id:"specifications",value:l.specifications,onChange:C=>d({...l,specifications:C.target.value}),placeholder:"e.g., Intel i5, 8GB RAM","data-testid":"input-specifications"})]}),s.jsx(Cs,{children:s.jsx(Ve,{type:"submit",disabled:x.isPending,"data-testid":"button-submit-pc",children:x.isPending?s.jsxs(s.Fragment,{children:[s.jsx(Xn,{className:"mr-2 h-4 w-4 animate-spin"}),"Adding..."]}):"Add PC"})})]})}function g4(){const{data:r=[],isLoading:a}=st({queryKey:["/api/departments"],enabled:!0}),{data:l=[]}=st({queryKey:["/api/students"],enabled:!0}),{data:d=[]}=st({queryKey:["/api/lecturers"],enabled:!0}),{data:p=[]}=st({queryKey:["/api/courses"],enabled:!0}),x=r.map(v=>({dept:v,studentCount:l.filter(w=>w.departmentId===v.id).length,lecturerCount:d.filter(w=>w.departmentId===v.id).length,courseCount:p.filter(w=>w.departmentId===v.id).length})),E={HNDIT:"bg-blue-100 text-blue-900 dark:bg-blue-900 dark:text-blue-100",HNDMG:"bg-emerald-100 text-emerald-900 dark:bg-emerald-900 dark:text-emerald-100",HNDTHM:"bg-amber-100 text-amber-900 dark:bg-amber-900 dark:text-amber-100",HNDE:"bg-cyan-100 text-cyan-900 dark:bg-cyan-900 dark:text-cyan-100",HNDBF:"bg-purple-100 text-purple-900 dark:bg-purple-900 dark:text-purple-100"},C={HNDIT:"Higher National Diploma in Information Technology",HNDMG:"Higher National Diploma in Management",HNDTHM:"Higher National Diploma in Tourism & Hospitality Management",HNDE:"Higher National Diploma in Engineering",HNDBF:"Higher National Diploma in Business Finance"};return a?s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:"Departments"}),s.jsx("p",{className:"text-muted-foreground mt-2",children:"Manage academic departments"})]}),s.jsx("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-5",children:[...Array(5)].map((v,w)=>s.jsx(_e,{className:"animate-pulse",children:s.jsx(De,{className:"pt-6 h-32 bg-muted/50 rounded"})},w))})]}):s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:"Departments"}),s.jsx("p",{className:"text-muted-foreground mt-2",children:"Manage academic departments"})]}),s.jsx("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-5",children:x.map(({dept:v,studentCount:w,lecturerCount:b,courseCount:A})=>s.jsx(Ft,{href:`/admin/departments/${v.code}`,children:s.jsxs(_e,{className:"hover:shadow-lg transition-shadow cursor-pointer",children:[s.jsx(qe,{className:"pb-3",children:s.jsx("div",{className:"flex items-start justify-between",children:s.jsxs("div",{children:[s.jsx(Dt,{className:`${E[v.code]||"bg-gray-100"} mb-2`,"data-testid":`badge-dept-${v.code}`,children:v.code}),s.jsx(Ze,{className:"text-lg",children:C[v.code]||v.name})]})})}),s.jsx(De,{className:"space-y-4",children:s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"flex items-center gap-3 text-sm",children:[s.jsx(Rr,{className:"w-4 h-4 text-muted-foreground flex-shrink-0"}),s.jsxs("div",{className:"flex-1",children:[s.jsx("p",{className:"text-muted-foreground",children:"Students"}),s.jsx("p",{className:"font-semibold text-lg","data-testid":`text-students-${v.code}`,children:w})]})]}),s.jsxs("div",{className:"flex items-center gap-3 text-sm",children:[s.jsx(Or,{className:"w-4 h-4 text-muted-foreground flex-shrink-0"}),s.jsxs("div",{className:"flex-1",children:[s.jsx("p",{className:"text-muted-foreground",children:"Lecturers"}),s.jsx("p",{className:"font-semibold text-lg","data-testid":`text-lecturers-${v.code}`,children:b})]})]}),s.jsxs("div",{className:"flex items-center gap-3 text-sm",children:[s.jsx(e3,{className:"w-4 h-4 text-muted-foreground flex-shrink-0"}),s.jsxs("div",{className:"flex-1",children:[s.jsx("p",{className:"text-muted-foreground",children:"Courses"}),s.jsx("p",{className:"font-semibold text-lg","data-testid":`text-courses-${v.code}`,children:A})]})]})]})})]})},v.id))}),s.jsxs(_e,{children:[s.jsx(qe,{children:s.jsx(Ze,{children:"Department Overview"})}),s.jsx(De,{children:s.jsx("div",{className:"space-y-4",children:s.jsxs("div",{className:"grid gap-4 md:grid-cols-3",children:[s.jsxs("div",{className:"rounded-lg bg-muted p-4",children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"Total Students"}),s.jsx("p",{className:"text-2xl font-bold","data-testid":"text-total-students",children:l.length})]}),s.jsxs("div",{className:"rounded-lg bg-muted p-4",children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"Total Lecturers"}),s.jsx("p",{className:"text-2xl font-bold","data-testid":"text-total-lecturers",children:d.length})]}),s.jsxs("div",{className:"rounded-lg bg-muted p-4",children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"Total Courses"}),s.jsx("p",{className:"text-2xl font-bold","data-testid":"text-total-courses",children:p.length})]})]})})})]})]})}const y4={HNDIT:"Higher National Diploma in Information Technology",HNDMG:"Higher National Diploma in Management",HNDTHM:"Higher National Diploma in Tourism & Hospitality Management",HNDE:"Higher National Diploma in Engineering",HNDBF:"Higher National Diploma in Business Finance"},w4={HNDIT:"bg-blue-100 text-blue-900 dark:bg-blue-900 dark:text-blue-100",HNDMG:"bg-emerald-100 text-emerald-900 dark:bg-emerald-900 dark:text-emerald-100",HNDTHM:"bg-amber-100 text-amber-900 dark:bg-amber-900 dark:text-amber-100",HNDE:"bg-cyan-100 text-cyan-900 dark:bg-cyan-900 dark:text-cyan-100",HNDBF:"bg-purple-100 text-purple-900 dark:bg-purple-900 dark:text-purple-100"};function v4(){const[,r]=Ih("/admin/departments/:code"),a=r?.code,{data:l=[]}=st({queryKey:["/api/departments"]}),{data:d=[]}=st({queryKey:["/api/students"]}),p=l.find(v=>v.code===a);if(!p)return s.jsx("div",{children:"Department not found"});const x=d.filter(v=>v.departmentId===p.id).sort((v,w)=>(v.user?.name||"").localeCompare(w.user?.name||"")),E=x.filter(v=>v.programType==="FT").length,C=x.filter(v=>v.programType==="PT").length;return s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{children:[s.jsx(Ft,{href:"/admin/departments",children:s.jsxs(Ve,{variant:"ghost",size:"sm",className:"mb-4",children:[s.jsx(Ds,{className:"w-4 h-4 mr-2"}),"Back to Departments"]})}),s.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[s.jsx(Dt,{className:w4[a]||"bg-gray-100",children:a}),s.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:y4[a]||p.name})]}),s.jsx("p",{className:"text-muted-foreground mt-2",children:"Manage students in this department"})]}),s.jsxs("div",{className:"grid gap-4 md:grid-cols-3",children:[s.jsx(_e,{children:s.jsxs(De,{className:"pt-6",children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"Total Students"}),s.jsx("p",{className:"text-3xl font-bold mt-2","data-testid":"text-total-students",children:x.length})]})}),s.jsx(_e,{children:s.jsxs(De,{className:"pt-6",children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"Full-Time (FT)"}),s.jsx("p",{className:"text-3xl font-bold mt-2","data-testid":"text-ft-students",children:E})]})}),s.jsx(_e,{children:s.jsxs(De,{className:"pt-6",children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"Part-Time (PT)"}),s.jsx("p",{className:"text-3xl font-bold mt-2","data-testid":"text-pt-students",children:C})]})})]}),s.jsxs(_e,{children:[s.jsx(qe,{children:s.jsxs(Ze,{className:"flex items-center gap-2",children:[s.jsx(Rr,{className:"w-5 h-5"}),"All Students (",x.length,")"]})}),s.jsx(De,{children:x.length===0?s.jsx("p",{className:"text-center text-muted-foreground py-8",children:"No students in this department"}):s.jsx("div",{className:"space-y-3",children:x.map(v=>s.jsx(Ft,{href:`/admin/students/${v.id}`,children:s.jsxs("div",{className:"flex items-start justify-between p-4 rounded-lg border hover:bg-muted/50 transition-colors cursor-pointer","data-testid":`row-student-${v.id}`,children:[s.jsxs("div",{className:"flex-1",children:[s.jsx("p",{className:"font-semibold","data-testid":`text-name-${v.id}`,children:v.user?.name}),s.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:v.studentId}),s.jsxs("div",{className:"flex items-center gap-2 mt-2 text-xs text-muted-foreground",children:[s.jsx(wa,{className:"w-3 h-3"}),v.user?.email]})]}),s.jsxs("div",{className:"flex items-center gap-2 flex-shrink-0",children:[s.jsx(Dt,{variant:v.programType==="FT"?"default":"secondary","data-testid":`badge-type-${v.id}`,children:v.programType}),s.jsx(Dt,{variant:"outline","data-testid":`badge-year-${v.id}`,children:v.intakeYear})]})]})},v.id))})})]})]})}function C4(){const[,r]=Ih("/admin/students/:id"),a=parseInt(r?.id),{data:l=[]}=st({queryKey:["/api/students"]}),{data:d=[]}=st({queryKey:["/api/departments"]}),{data:p=[]}=st({queryKey:["/api/exam-applications"]}),{data:x=[]}=st({queryKey:["/api/courses"]}),E=l.find(v=>v.id===a);if(!E)return s.jsxs("div",{className:"space-y-6",children:[s.jsx("div",{children:s.jsx(Ft,{href:"/admin/departments",children:s.jsxs(Ve,{variant:"ghost",size:"sm",children:[s.jsx(Ds,{className:"w-4 h-4 mr-2"}),"Back"]})})}),s.jsx(_e,{children:s.jsx(De,{className:"pt-6",children:s.jsx("p",{className:"text-center text-muted-foreground",children:"Student not found"})})})]});const C=p.filter(v=>l.find(b=>b.id===v.studentId)?.id===a).map(v=>x.find(w=>w.id===v.courseId)).filter(Boolean);return s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{children:[s.jsx(Ft,{href:"/admin/departments",children:s.jsxs(Ve,{variant:"ghost",size:"sm",className:"mb-4",children:[s.jsx(Ds,{className:"w-4 h-4 mr-2"}),"Back to Departments"]})}),s.jsx("h1",{className:"text-3xl font-bold tracking-tight","data-testid":"text-student-name",children:E.user?.name}),s.jsx("p",{className:"text-muted-foreground mt-2","data-testid":"text-student-id",children:E.studentId})]}),s.jsxs(_e,{children:[s.jsx(qe,{children:s.jsx(Ze,{children:"Personal Information"})}),s.jsx(De,{className:"space-y-4",children:s.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[s.jsxs("div",{children:[s.jsx("label",{className:"text-sm text-muted-foreground",children:"Email"}),s.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[s.jsx(wa,{className:"w-4 h-4"}),s.jsx("p",{className:"font-medium","data-testid":"text-email",children:E.user?.email})]})]}),E.user?.phone&&s.jsxs("div",{children:[s.jsx("label",{className:"text-sm text-muted-foreground",children:"Phone"}),s.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[s.jsx(Tl,{className:"w-4 h-4"}),s.jsx("p",{className:"font-medium","data-testid":"text-phone",children:E.user?.phone})]})]})]})})]}),s.jsxs(_e,{children:[s.jsx(qe,{children:s.jsx(Ze,{children:"Academic Information"})}),s.jsx(De,{className:"space-y-4",children:s.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[s.jsxs("div",{children:[s.jsx("label",{className:"text-sm text-muted-foreground",children:"Student Number"}),s.jsx("p",{className:"font-medium mt-1","data-testid":"text-student-number",children:E.studentNumber})]}),s.jsxs("div",{children:[s.jsx("label",{className:"text-sm text-muted-foreground",children:"Department"}),s.jsx("p",{className:"font-medium mt-1","data-testid":"text-dept",children:E.department?.name||"N/A"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"text-sm text-muted-foreground",children:"Program Type"}),s.jsx("div",{className:"mt-1",children:s.jsx(Dt,{variant:E.programType==="FT"?"default":"secondary","data-testid":"badge-program-type",children:E.programType==="FT"?"Full-Time":"Part-Time"})})]}),s.jsxs("div",{children:[s.jsx("label",{className:"text-sm text-muted-foreground",children:"Intake Year"}),s.jsx("p",{className:"font-medium mt-1","data-testid":"text-intake-year",children:E.intakeYear})]})]})})]}),s.jsxs(_e,{children:[s.jsx(qe,{children:s.jsxs(Ze,{className:"flex items-center gap-2",children:[s.jsx(Or,{className:"w-5 h-5"}),"Enrolled Courses (",C.length,")"]})}),s.jsx(De,{children:C.length===0?s.jsx("p",{className:"text-sm text-muted-foreground",children:"No courses enrolled"}):s.jsx("div",{className:"space-y-2",children:C.map(v=>s.jsx("div",{className:"flex items-center justify-between p-3 rounded-lg border hover:bg-muted/50","data-testid":`row-course-${v.id}`,children:s.jsxs("div",{children:[s.jsxs("p",{className:"font-medium text-sm","data-testid":`text-course-name-${v.id}`,children:[v.code," - ",v.name]}),v.credits&&s.jsxs("p",{className:"text-xs text-muted-foreground",children:[v.credits," Credits"]})]})},v.id))})})]})]})}function E4(){const[r,a]=T.useState(""),[l,d]=T.useState(!1),{toast:p}=Wt(),{data:x=[],isLoading:E}=st({queryKey:["/api/lecturers"]}),{data:C=[]}=st({queryKey:["/api/departments"]}),{data:v=[]}=st({queryKey:["/api/courses"]}),w=x.filter(A=>A.user?.name?.toLowerCase().includes(r.toLowerCase())||A.employeeId?.toLowerCase().includes(r.toLowerCase())||A.user?.email?.toLowerCase().includes(r.toLowerCase())),b=A=>v.filter(O=>O.lecturerId===A).length;return s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex items-center justify-between gap-4",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:"Lecturers"}),s.jsx("p",{className:"text-muted-foreground mt-2",children:"Manage lecturers and HODs"})]}),s.jsxs(yr,{open:l,onOpenChange:d,children:[s.jsx(_r,{asChild:!0,children:s.jsxs(Ve,{"data-testid":"button-add-lecturer",children:[s.jsx(Ls,{className:"h-4 w-4 mr-2"}),"Add Lecturer"]})}),s.jsxs(dr,{className:"max-w-2xl max-h-screen overflow-y-auto",children:[s.jsxs(fr,{children:[s.jsx(hr,{children:"Add New Lecturer"}),s.jsx(wr,{children:"Enter lecturer details to create a new account"})]}),s.jsx(b4,{departments:C,onSuccess:()=>{d(!1),on.invalidateQueries({queryKey:["/api/lecturers"]}),p({title:"Success",description:"Lecturer added successfully"})}})]})]})]}),s.jsxs(_e,{children:[s.jsx(qe,{children:s.jsxs("div",{className:"flex items-center justify-between gap-4",children:[s.jsx("div",{children:s.jsxs(Ze,{className:"flex items-center gap-2",children:[s.jsx(Rr,{className:"w-5 h-5"}),"All Lecturers (",w.length,")"]})}),s.jsxs("div",{className:"relative w-64",children:[s.jsx(Hi,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-muted-foreground"}),s.jsx(tt,{placeholder:"Search lecturers...",value:r,onChange:A=>a(A.target.value),className:"pl-9","data-testid":"input-search-lecturers"})]})]})}),s.jsx(De,{children:E?s.jsx("div",{className:"space-y-3",children:[1,2,3,4,5].map(A=>s.jsx(Vt,{className:"h-16 w-full"},A))}):s.jsx("div",{className:"overflow-x-auto",children:s.jsxs(Vu,{children:[s.jsx(zu,{children:s.jsxs(ks,{children:[s.jsx(sn,{children:"Employee ID"}),s.jsx(sn,{children:"Name"}),s.jsx(sn,{children:"Email"}),s.jsx(sn,{children:"Phone"}),s.jsx(sn,{children:"Department"}),s.jsx(sn,{children:"Designation"}),s.jsx(sn,{children:"Courses"}),s.jsx(sn,{children:"Status"}),s.jsx(sn,{className:"text-right",children:"Actions"})]})}),s.jsx(Wu,{children:w&&w.length>0?w.map(A=>s.jsxs(ks,{"data-testid":`row-lecturer-${A.id}`,children:[s.jsx(Ht,{className:"font-mono text-sm","data-testid":`text-emp-id-${A.id}`,children:A.employeeId}),s.jsx(Ht,{className:"font-medium","data-testid":`text-name-${A.id}`,children:A.user?.name}),s.jsx(Ht,{className:"text-sm text-muted-foreground","data-testid":`text-email-${A.id}`,children:A.user?.email}),s.jsx(Ht,{className:"text-sm","data-testid":`text-phone-${A.id}`,children:A.user?.phone||"-"}),s.jsx(Ht,{"data-testid":`text-dept-${A.id}`,children:s.jsx(Dt,{variant:"outline",children:A.department?.code||"-"})}),s.jsx(Ht,{className:"text-sm","data-testid":`text-designation-${A.id}`,children:A.designation||"Lecturer"}),s.jsx(Ht,{"data-testid":`text-courses-${A.id}`,children:s.jsx(Dt,{variant:"secondary",children:b(A.id)})}),s.jsx(Ht,{children:s.jsx(Dt,{variant:A.isHOD?"default":"outline","data-testid":`badge-status-${A.id}`,children:A.isHOD?"HOD":"Lecturer"})}),s.jsx(Ht,{className:"text-right",children:s.jsxs("div",{className:"flex items-center justify-end gap-2",children:[s.jsx(Ft,{href:`/admin/lecturers/${A.id}`,children:s.jsx(Ve,{variant:"ghost",size:"icon","data-testid":`button-view-${A.id}`,children:s.jsx(Ru,{className:"h-4 w-4"})})}),s.jsx(Ve,{variant:"ghost",size:"icon","data-testid":`button-edit-${A.id}`,children:s.jsx(va,{className:"h-4 w-4"})}),s.jsx(Ve,{variant:"ghost",size:"icon","data-testid":`button-delete-${A.id}`,children:s.jsx(Ca,{className:"h-4 w-4"})})]})})]},A.id)):s.jsx(ks,{children:s.jsx(Ht,{colSpan:9,className:"text-center py-12 text-muted-foreground",children:"No lecturers found"})})})]})})})]})]})}function b4({departments:r,onSuccess:a}){const[l,d]=T.useState({name:"",email:"",phone:"",password:"",employeeId:"",designation:"",departmentId:"",isHOD:!1}),{toast:p}=Wt(),x=bn({mutationFn:C=>Nn("POST","/api/lecturers",C),onSuccess:()=>{on.invalidateQueries({queryKey:["/api/lecturers"]}),a()},onError:C=>{p({title:"Error",description:C.message||"Failed to create lecturer",variant:"destructive"})}}),E=C=>{if(C.preventDefault(),!l.name||!l.email||!l.password||!l.employeeId||!l.departmentId){p({title:"Validation Error",description:"Please fill in all required fields",variant:"destructive"});return}x.mutate(l)};return s.jsxs("form",{onSubmit:E,className:"space-y-4",children:[s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(Ke,{htmlFor:"name",children:"Full Name *"}),s.jsx(tt,{id:"name",value:l.name,onChange:C=>d({...l,name:C.target.value}),required:!0,"data-testid":"input-lecturer-name",placeholder:"Dr. John Smith"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(Ke,{htmlFor:"email",children:"Email *"}),s.jsx(tt,{id:"email",type:"email",value:l.email,onChange:C=>d({...l,email:C.target.value}),required:!0,"data-testid":"input-lecturer-email",placeholder:"john@sliate.ac.lk"})]})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(Ke,{htmlFor:"phone",children:"Phone"}),s.jsx(tt,{id:"phone",value:l.phone,onChange:C=>d({...l,phone:C.target.value}),"data-testid":"input-lecturer-phone",placeholder:"+94 71 234 5678"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(Ke,{htmlFor:"password",children:"Password *"}),s.jsx(tt,{id:"password",type:"password",value:l.password,onChange:C=>d({...l,password:C.target.value}),required:!0,"data-testid":"input-lecturer-password",placeholder:""})]})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(Ke,{htmlFor:"employeeId",children:"Employee ID *"}),s.jsx(tt,{id:"employeeId",value:l.employeeId,onChange:C=>d({...l,employeeId:C.target.value}),required:!0,"data-testid":"input-emp-id",placeholder:"LEC-001"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(Ke,{htmlFor:"designation",children:"Designation"}),s.jsx(tt,{id:"designation",value:l.designation,onChange:C=>d({...l,designation:C.target.value}),"data-testid":"input-designation",placeholder:"Senior Lecturer"})]})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(Ke,{htmlFor:"department",children:"Department *"}),s.jsxs(er,{value:l.departmentId,onValueChange:C=>d({...l,departmentId:C}),required:!0,children:[s.jsx(Wn,{"data-testid":"select-department",children:s.jsx(tr,{placeholder:"Select department"})}),s.jsx(Gn,{children:r.map(C=>s.jsxs(kn,{value:C.id.toString(),children:[C.code," - ",C.name]},C.id))})]})]}),s.jsx("div",{className:"space-y-2",children:s.jsxs(Ke,{htmlFor:"isHOD",className:"flex items-center gap-2 mt-7",children:[s.jsx("input",{id:"isHOD",type:"checkbox",checked:l.isHOD,onChange:C=>d({...l,isHOD:C.target.checked}),"data-testid":"checkbox-hod",className:"w-4 h-4"}),"Head of Department"]})})]}),s.jsx(Cs,{children:s.jsx(Ve,{type:"submit",disabled:x.isPending,"data-testid":"button-submit-lecturer",children:x.isPending?s.jsxs(s.Fragment,{children:[s.jsx(Xn,{className:"mr-2 h-4 w-4 animate-spin"}),"Creating..."]}):"Add Lecturer"})})]})}function N4(){const[,r]=Ih("/admin/lecturers/:id"),a=parseInt(r?.id),{data:l=[]}=st({queryKey:["/api/lecturers"]}),{data:d=[]}=st({queryKey:["/api/departments"]}),{data:p=[]}=st({queryKey:["/api/courses"]}),x=l.find(v=>v.id===a),E=x?{...x,department:d.find(v=>v.id===x.departmentId)}:null,C=p.filter(v=>v.lecturerId===a);return E?s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{children:[s.jsx(Ft,{href:"/admin/lecturers",children:s.jsxs(Ve,{variant:"ghost",size:"sm",className:"mb-4",children:[s.jsx(Ds,{className:"w-4 h-4 mr-2"}),"Back to Lecturers"]})}),s.jsxs("div",{className:"flex items-start justify-between",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-3xl font-bold tracking-tight","data-testid":"text-lecturer-name",children:E.user?.name}),s.jsx("p",{className:"text-muted-foreground mt-2","data-testid":"text-designation",children:E.designation||"Lecturer"})]}),s.jsx(Dt,{variant:E.isHOD?"default":"secondary",className:"text-base px-3 py-1","data-testid":"badge-hod-status",children:E.isHOD?"Head of Department":"Lecturer"})]})]}),s.jsxs(_e,{children:[s.jsx(qe,{children:s.jsx(Ze,{children:"Personal Information"})}),s.jsx(De,{className:"space-y-4",children:s.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[s.jsxs("div",{children:[s.jsx("label",{className:"text-sm text-muted-foreground",children:"Email"}),s.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[s.jsx(wa,{className:"w-4 h-4"}),s.jsx("p",{className:"font-medium","data-testid":"text-email",children:E.user?.email})]})]}),E.user?.phone&&s.jsxs("div",{children:[s.jsx("label",{className:"text-sm text-muted-foreground",children:"Phone"}),s.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[s.jsx(Tl,{className:"w-4 h-4"}),s.jsx("p",{className:"font-medium","data-testid":"text-phone",children:E.user?.phone})]})]})]})})]}),s.jsxs(_e,{children:[s.jsx(qe,{children:s.jsx(Ze,{children:"Professional Information"})}),s.jsx(De,{className:"space-y-4",children:s.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[s.jsxs("div",{children:[s.jsx("label",{className:"text-sm text-muted-foreground",children:"Employee ID"}),s.jsx("p",{className:"font-mono text-sm font-medium mt-1","data-testid":"text-emp-id",children:E.employeeId})]}),s.jsxs("div",{children:[s.jsx("label",{className:"text-sm text-muted-foreground",children:"Designation"}),s.jsx("p",{className:"font-medium mt-1","data-testid":"text-prof-designation",children:E.designation||"Lecturer"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"text-sm text-muted-foreground",children:"Department"}),s.jsx("p",{className:"font-medium mt-1","data-testid":"text-dept",children:E.department?.name||"N/A"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"text-sm text-muted-foreground",children:"Status"}),s.jsx("div",{className:"mt-1",children:s.jsx(Dt,{variant:E.isHOD?"default":"secondary","data-testid":"badge-status",children:E.isHOD?"HOD":"Lecturer"})})]})]})})]}),s.jsxs(_e,{children:[s.jsx(qe,{children:s.jsxs(Ze,{className:"flex items-center gap-2",children:[s.jsx(Or,{className:"w-5 h-5"}),"Courses Taught (",C.length,")"]})}),s.jsx(De,{children:C.length===0?s.jsx("p",{className:"text-sm text-muted-foreground",children:"No courses assigned yet"}):s.jsx("div",{className:"space-y-2",children:C.map(v=>s.jsxs("div",{className:"flex items-center justify-between p-3 rounded-lg border hover:bg-muted/50","data-testid":`row-course-${v.id}`,children:[s.jsxs("div",{children:[s.jsxs("p",{className:"font-medium text-sm","data-testid":`text-course-${v.id}`,children:[v.code," - ",v.name]}),v.credits&&s.jsxs("p",{className:"text-xs text-muted-foreground",children:[v.credits," Credits"]})]}),s.jsx(Al,{className:"w-4 h-4 text-muted-foreground"})]},v.id))})})]})]}):s.jsxs("div",{className:"space-y-6",children:[s.jsx(Ft,{href:"/admin/lecturers",children:s.jsxs(Ve,{variant:"ghost",size:"sm",children:[s.jsx(Ds,{className:"w-4 h-4 mr-2"}),"Back"]})}),s.jsx(_e,{children:s.jsx(De,{className:"pt-6",children:s.jsx("p",{className:"text-center text-muted-foreground",children:"Lecturer not found"})})})]})}var py="AlertDialog",[S4]=Bs(py,[jg]),oi=jg(),xy=r=>{const{__scopeAlertDialog:a,...l}=r,d=oi(a);return s.jsx(t1,{...d,...l,modal:!0})};xy.displayName=py;var A4="AlertDialogTrigger",I4=T.forwardRef((r,a)=>{const{__scopeAlertDialog:l,...d}=r,p=oi(l);return s.jsx(Gg,{...p,...d,ref:a})});I4.displayName=A4;var T4="AlertDialogPortal",gy=r=>{const{__scopeAlertDialog:a,...l}=r,d=oi(a);return s.jsx(n1,{...d,...l})};gy.displayName=T4;var j4="AlertDialogOverlay",yy=T.forwardRef((r,a)=>{const{__scopeAlertDialog:l,...d}=r,p=oi(l);return s.jsx(Rl,{...p,...d,ref:a})});yy.displayName=j4;var fa="AlertDialogContent",[R4,O4]=S4(fa),_4=Yp("AlertDialogContent"),wy=T.forwardRef((r,a)=>{const{__scopeAlertDialog:l,children:d,...p}=r,x=oi(l),E=T.useRef(null),C=zt(a,E),v=T.useRef(null);return s.jsx(IN,{contentName:fa,titleName:vy,docsSlug:"alert-dialog",children:s.jsx(R4,{scope:l,cancelRef:v,children:s.jsxs(Ol,{role:"alertdialog",...x,...p,ref:C,onOpenAutoFocus:rt(p.onOpenAutoFocus,w=>{w.preventDefault(),v.current?.focus({preventScroll:!0})}),onPointerDownOutside:w=>w.preventDefault(),onInteractOutside:w=>w.preventDefault(),children:[s.jsx(_4,{children:d}),s.jsx(M4,{contentRef:E})]})})})});wy.displayName=fa;var vy="AlertDialogTitle",Cy=T.forwardRef((r,a)=>{const{__scopeAlertDialog:l,...d}=r,p=oi(l);return s.jsx(_l,{...p,...d,ref:a})});Cy.displayName=vy;var Ey="AlertDialogDescription",by=T.forwardRef((r,a)=>{const{__scopeAlertDialog:l,...d}=r,p=oi(l);return s.jsx(Dl,{...p,...d,ref:a})});by.displayName=Ey;var D4="AlertDialogAction",Ny=T.forwardRef((r,a)=>{const{__scopeAlertDialog:l,...d}=r,p=oi(l);return s.jsx(Hu,{...p,...d,ref:a})});Ny.displayName=D4;var Sy="AlertDialogCancel",Ay=T.forwardRef((r,a)=>{const{__scopeAlertDialog:l,...d}=r,{cancelRef:p}=O4(Sy,l),x=oi(l),E=zt(a,p);return s.jsx(Hu,{...x,...d,ref:E})});Ay.displayName=Sy;var M4=({contentRef:r})=>{const a=`\`${fa}\` requires a description for the component to be accessible for screen reader users.

You can add a description to the \`${fa}\` by passing a \`${Ey}\` component as a child, which also benefits sighted users by adding visible context to the dialog.

Alternatively, you can use your own component as a description by assigning it an \`id\` and passing the same value to the \`aria-describedby\` prop in \`${fa}\`. If the description is confusing or duplicative for sighted users, you can use the \`@radix-ui/react-visually-hidden\` primitive as a wrapper around your description component.

For more information, see https://radix-ui.com/primitives/docs/components/alert-dialog`;return T.useEffect(()=>{document.getElementById(r.current?.getAttribute("aria-describedby"))||console.warn(a)},[a,r]),null},k4=xy,P4=gy,Iy=yy,Ty=wy,jy=Ny,Ry=Ay,Oy=Cy,_y=by;const qu=k4,L4=P4,Dy=T.forwardRef(({className:r,...a},l)=>s.jsx(Iy,{className:Oe("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",r),...a,ref:l}));Dy.displayName=Iy.displayName;const kl=T.forwardRef(({className:r,...a},l)=>s.jsxs(L4,{children:[s.jsx(Dy,{}),s.jsx(Ty,{ref:l,className:Oe("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",r),...a})]}));kl.displayName=Ty.displayName;const Pl=({className:r,...a})=>s.jsx("div",{className:Oe("flex flex-col space-y-2 text-center sm:text-left",r),...a});Pl.displayName="AlertDialogHeader";const Ll=({className:r,...a})=>s.jsx("div",{className:Oe("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",r),...a});Ll.displayName="AlertDialogFooter";const Fl=T.forwardRef(({className:r,...a},l)=>s.jsx(Oy,{ref:l,className:Oe("text-lg font-semibold",r),...a}));Fl.displayName=Oy.displayName;const Bl=T.forwardRef(({className:r,...a},l)=>s.jsx(_y,{ref:l,className:Oe("text-sm text-muted-foreground",r),...a}));Bl.displayName=_y.displayName;const Ul=T.forwardRef(({className:r,...a},l)=>s.jsx(jy,{ref:l,className:Oe(Yh(),r),...a}));Ul.displayName=jy.displayName;const Hl=T.forwardRef(({className:r,...a},l)=>s.jsx(Ry,{ref:l,className:Oe(Yh({variant:"outline"}),"mt-2 sm:mt-0",r),...a}));Hl.displayName=Ry.displayName;function F4(){const[r,a]=T.useState(""),[l,d]=T.useState(!1),[p,x]=T.useState(null),[E,C]=T.useState(null);Wt();const{data:v=[],isLoading:w}=st({queryKey:["/api/lecturers"]}),{data:b=[]}=st({queryKey:["/api/departments"]}),O=v.filter(R=>R.isHOD).filter(R=>{const L=R.user?.name?.split(" ").pop()?.toLowerCase().includes(r.toLowerCase())||!1,G=R.user?.name?.toLowerCase().includes(r.toLowerCase())||!1,H=R.user?.email?.toLowerCase().includes(r.toLowerCase())||!1;return L||G||H}),P=R=>{x(R),d(!0)},F=()=>{d(!1),x(null)};return s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex items-center justify-between gap-4",children:[s.jsxs("div",{children:[s.jsxs("h1",{className:"text-3xl font-bold tracking-tight flex items-center gap-2",children:[s.jsx(QC,{className:"w-8 h-8 text-amber-600"}),"Heads of Department"]}),s.jsx("p",{className:"text-muted-foreground mt-2",children:"Manage department heads (HODs)"})]}),s.jsxs(yr,{open:l&&!p,onOpenChange:R=>!R&&F(),children:[s.jsx(_r,{asChild:!0,children:s.jsxs(Ve,{"data-testid":"button-add-hod",onClick:()=>x(null),children:[s.jsx(Ls,{className:"h-4 w-4 mr-2"}),"Add HOD"]})}),s.jsxs(dr,{className:"max-w-2xl max-h-screen overflow-y-auto",children:[s.jsxs(fr,{children:[s.jsx(hr,{children:"Add New Head of Department"}),s.jsx(wr,{children:"Create a new HOD account"})]}),s.jsx(sp,{departments:b,onSuccess:F})]})]})]}),s.jsxs("div",{className:"relative w-full",children:[s.jsx(Hi,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-muted-foreground"}),s.jsx(tt,{placeholder:"Search by name or last name...",value:r,onChange:R=>a(R.target.value),className:"pl-9","data-testid":"input-search-hods"})]}),w?s.jsx("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-3",children:[1,2,3].map(R=>s.jsx(Vt,{className:"h-64 w-full rounded-lg"},R))}):s.jsx("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-3",children:O&&O.length>0?O.map(R=>s.jsxs(_e,{className:"hover:shadow-lg transition-shadow","data-testid":`card-hod-${R.id}`,children:[s.jsx(qe,{className:"pb-3",children:s.jsxs("div",{className:"flex items-start justify-between",children:[s.jsxs("div",{className:"flex-1",children:[s.jsx(Ze,{className:"text-lg","data-testid":`text-name-${R.id}`,children:R.user?.name}),s.jsx("p",{className:"text-sm text-muted-foreground mt-1","data-testid":`text-emp-id-${R.id}`,children:R.employeeId})]}),s.jsx(Dt,{variant:"default",className:"flex-shrink-0",children:"HOD"})]})}),s.jsxs(De,{className:"space-y-3",children:[s.jsxs("div",{className:"space-y-2 text-sm",children:[s.jsxs("div",{className:"flex items-center gap-2 text-muted-foreground","data-testid":`text-email-${R.id}`,children:[s.jsx(wa,{className:"w-4 h-4 flex-shrink-0"}),s.jsx("span",{className:"truncate",children:R.user?.email})]}),R.user?.phone&&s.jsxs("div",{className:"flex items-center gap-2 text-muted-foreground","data-testid":`text-phone-${R.id}`,children:[s.jsx(Tl,{className:"w-4 h-4 flex-shrink-0"}),s.jsx("span",{children:R.user?.phone})]})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-xs text-muted-foreground mb-1",children:"Department"}),s.jsx(Dt,{variant:"outline","data-testid":`badge-dept-${R.id}`,children:R.department?.code||"-"})]}),s.jsxs("div",{className:"flex gap-2 pt-2",children:[s.jsx(Ft,{href:`/admin/lecturers/${R.id}`,className:"flex-1",children:s.jsxs(Ve,{variant:"outline",size:"sm",className:"w-full",children:[s.jsx(Ru,{className:"h-4 w-4 mr-1"}),"View"]})}),s.jsxs(yr,{open:p?.id===R.id&&l,onOpenChange:L=>{L||F()},children:[s.jsx(_r,{asChild:!0,children:s.jsx(Ve,{variant:"outline",size:"sm",onClick:()=>P(R),"data-testid":`button-edit-hod-${R.id}`,children:s.jsx(va,{className:"h-4 w-4"})})}),s.jsxs(dr,{className:"max-w-2xl max-h-screen overflow-y-auto",children:[s.jsxs(fr,{children:[s.jsx(hr,{children:"Edit Head of Department"}),s.jsx(wr,{children:"Update HOD details"})]}),s.jsx(sp,{departments:b,initialData:p,onSuccess:F})]})]}),s.jsx(qu,{open:E?.id===R.id,onOpenChange:L=>!L&&C(null),children:s.jsxs(kl,{children:[s.jsxs(Pl,{children:[s.jsx(Fl,{children:"Delete HOD"}),s.jsxs(Bl,{children:["Are you sure you want to delete ",R.user?.name,"? This action cannot be undone."]})]}),s.jsxs(Ll,{children:[s.jsx(Hl,{children:"Cancel"}),s.jsx(B4,{hodId:R.id,onSuccess:()=>C(null)})]})]})}),s.jsx(Ve,{variant:"outline",size:"sm",onClick:()=>C(R),"data-testid":`button-delete-hod-${R.id}`,children:s.jsx(Ca,{className:"h-4 w-4"})})]})]})]},R.id)):s.jsx("div",{className:"col-span-full text-center py-12",children:s.jsx("p",{className:"text-muted-foreground",children:"No HODs found"})})})]})}function B4({hodId:r,onSuccess:a}){const{toast:l}=Wt(),d=bn({mutationFn:()=>Nn("DELETE",`/api/lecturers/${r}`),onSuccess:()=>{on.invalidateQueries({queryKey:["/api/lecturers"]}),l({title:"Success",description:"HOD deleted successfully"}),a()},onError:p=>{l({title:"Error",description:p.message||"Failed to delete HOD",variant:"destructive"})}});return s.jsxs(Ul,{onClick:()=>d.mutate(),disabled:d.isPending,children:[d.isPending?s.jsx(Xn,{className:"mr-2 h-4 w-4 animate-spin"}):null,"Delete"]})}function sp({departments:r,initialData:a,onSuccess:l}){const[d,p]=T.useState({name:a?.user?.name||"",email:a?.user?.email||"",phone:a?.user?.phone||"",password:"",employeeId:a?.employeeId||"",departmentId:a?.departmentId?.toString()||""}),{toast:x}=Wt(),E=bn({mutationFn:b=>Nn("POST","/api/lecturers",{...b,isHOD:!0}),onSuccess:()=>{on.invalidateQueries({queryKey:["/api/lecturers"]}),x({title:"Success",description:"HOD added successfully"}),l()},onError:b=>{x({title:"Error",description:b.message||"Failed to create HOD",variant:"destructive"})}}),C=bn({mutationFn:b=>Nn("PUT",`/api/lecturers/${a.id}`,b),onSuccess:()=>{on.invalidateQueries({queryKey:["/api/lecturers"]}),x({title:"Success",description:"HOD updated successfully"}),l()},onError:b=>{x({title:"Error",description:b.message||"Failed to update HOD",variant:"destructive"})}}),v=b=>{if(b.preventDefault(),!d.name||!d.email||!d.employeeId||!d.departmentId){x({title:"Validation Error",description:"Please fill in all required fields",variant:"destructive"});return}if(a&&!d.password){const A={name:d.name,email:d.email,phone:d.phone,employeeId:d.employeeId,departmentId:parseInt(d.departmentId)};C.mutate(A)}else if(!a&&!d.password){x({title:"Validation Error",description:"Password is required for new HODs",variant:"destructive"});return}else{const A=a?{...d,departmentId:parseInt(d.departmentId)}:{...d,departmentId:parseInt(d.departmentId)};a?C.mutate(A):E.mutate(A)}},w=E.isPending||C.isPending;return s.jsxs("form",{onSubmit:v,className:"space-y-4",children:[s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(Ke,{htmlFor:"name",children:"Full Name *"}),s.jsx(tt,{id:"name",value:d.name,onChange:b=>p({...d,name:b.target.value}),required:!0,placeholder:"Dr. John Smith"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(Ke,{htmlFor:"email",children:"Email *"}),s.jsx(tt,{id:"email",type:"email",value:d.email,onChange:b=>p({...d,email:b.target.value}),required:!0,placeholder:"john@sliate.ac.lk"})]})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(Ke,{htmlFor:"phone",children:"Phone"}),s.jsx(tt,{id:"phone",value:d.phone,onChange:b=>p({...d,phone:b.target.value}),placeholder:"+94 71 234 5678"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs(Ke,{htmlFor:"password",children:["Password ",a?"(leave blank to keep current)":"*"]}),s.jsx(tt,{id:"password",type:"password",value:d.password,onChange:b=>p({...d,password:b.target.value}),required:!a,placeholder:""})]})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(Ke,{htmlFor:"employeeId",children:"Employee ID *"}),s.jsx(tt,{id:"employeeId",value:d.employeeId,onChange:b=>p({...d,employeeId:b.target.value}),required:!0,placeholder:"HOD-001"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(Ke,{htmlFor:"department",children:"Department *"}),s.jsxs(er,{value:d.departmentId,onValueChange:b=>p({...d,departmentId:b}),required:!0,children:[s.jsx(Wn,{children:s.jsx(tr,{placeholder:"Select department"})}),s.jsx(Gn,{children:r.map(b=>s.jsxs(kn,{value:b.id.toString(),children:[b.code," - ",b.name]},b.id))})]})]})]}),s.jsx(Cs,{children:s.jsxs(Ve,{type:"submit",disabled:w,children:[w?s.jsx(Xn,{className:"mr-2 h-4 w-4 animate-spin"}):null,a?"Update HOD":"Add HOD"]})})]})}function U4(){const[r,a]=T.useState(""),[l,d]=T.useState(!1),[p,x]=T.useState(null),[E,C]=T.useState(null);Wt();const{data:v=[],isLoading:w}=st({queryKey:["/api/lecturers"]}),{data:b=[]}=st({queryKey:["/api/departments"]}),O=v.filter(R=>!R.isHOD).filter(R=>{const L=R.user?.name?.split(" ").pop()?.toLowerCase().includes(r.toLowerCase())||!1,G=R.user?.name?.toLowerCase().includes(r.toLowerCase())||!1,H=R.user?.email?.toLowerCase().includes(r.toLowerCase())||!1;return L||G||H}),P=R=>{x(R),d(!0)},F=()=>{d(!1),x(null)};return s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex items-center justify-between gap-4",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:"Visiting Lecturers"}),s.jsx("p",{className:"text-muted-foreground mt-2",children:"Manage visiting and regular lecturers"})]}),s.jsxs(yr,{open:l&&!p,onOpenChange:R=>!R&&F(),children:[s.jsx(_r,{asChild:!0,children:s.jsxs(Ve,{"data-testid":"button-add-visiting-lecturer",onClick:()=>x(null),children:[s.jsx(Ls,{className:"h-4 w-4 mr-2"}),"Add Lecturer"]})}),s.jsxs(dr,{className:"max-w-2xl max-h-screen overflow-y-auto",children:[s.jsxs(fr,{children:[s.jsx(hr,{children:"Add New Visiting Lecturer"}),s.jsx(wr,{children:"Enter lecturer details"})]}),s.jsx(ip,{departments:b,onSuccess:F})]})]})]}),s.jsxs("div",{className:"relative w-full",children:[s.jsx(Hi,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-muted-foreground"}),s.jsx(tt,{placeholder:"Search by name or last name...",value:r,onChange:R=>a(R.target.value),className:"pl-9","data-testid":"input-search-lecturers"})]}),w?s.jsx("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-3",children:[1,2,3,4].map(R=>s.jsx(Vt,{className:"h-64 w-full rounded-lg"},R))}):s.jsx("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-3",children:O&&O.length>0?O.map(R=>s.jsxs(_e,{className:"hover:shadow-lg transition-shadow","data-testid":`card-lecturer-${R.id}`,children:[s.jsx(qe,{className:"pb-3",children:s.jsxs("div",{className:"flex items-start justify-between",children:[s.jsxs("div",{className:"flex-1",children:[s.jsx(Ze,{className:"text-lg","data-testid":`text-name-${R.id}`,children:R.user?.name}),s.jsx("p",{className:"text-sm text-muted-foreground mt-1","data-testid":`text-emp-id-${R.id}`,children:R.employeeId})]}),s.jsx(Dt,{variant:"outline",className:"flex-shrink-0",children:"Lecturer"})]})}),s.jsxs(De,{className:"space-y-3",children:[s.jsxs("div",{className:"space-y-2 text-sm",children:[s.jsxs("div",{className:"flex items-center gap-2 text-muted-foreground","data-testid":`text-email-${R.id}`,children:[s.jsx(wa,{className:"w-4 h-4 flex-shrink-0"}),s.jsx("span",{className:"truncate",children:R.user?.email})]}),R.user?.phone&&s.jsxs("div",{className:"flex items-center gap-2 text-muted-foreground","data-testid":`text-phone-${R.id}`,children:[s.jsx(Tl,{className:"w-4 h-4 flex-shrink-0"}),s.jsx("span",{children:R.user?.phone})]})]}),R.designation&&s.jsxs("div",{children:[s.jsx("p",{className:"text-xs text-muted-foreground mb-1",children:"Designation"}),s.jsx("p",{className:"text-sm font-medium",children:R.designation})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-xs text-muted-foreground mb-1",children:"Department"}),s.jsx(Dt,{variant:"outline","data-testid":`badge-dept-${R.id}`,children:R.department?.code||"-"})]}),s.jsxs("div",{className:"flex gap-2 pt-2",children:[s.jsx(Ft,{href:`/admin/lecturers/${R.id}`,className:"flex-1",children:s.jsxs(Ve,{variant:"outline",size:"sm",className:"w-full",children:[s.jsx(Ru,{className:"h-4 w-4 mr-1"}),"View"]})}),s.jsxs(yr,{open:p?.id===R.id&&l,onOpenChange:L=>{L||F()},children:[s.jsx(_r,{asChild:!0,children:s.jsx(Ve,{variant:"outline",size:"sm",onClick:()=>P(R),"data-testid":`button-edit-lecturer-${R.id}`,children:s.jsx(va,{className:"h-4 w-4"})})}),s.jsxs(dr,{className:"max-w-2xl max-h-screen overflow-y-auto",children:[s.jsxs(fr,{children:[s.jsx(hr,{children:"Edit Visiting Lecturer"}),s.jsx(wr,{children:"Update lecturer details"})]}),s.jsx(ip,{departments:b,initialData:p,onSuccess:F})]})]}),s.jsx(qu,{open:E?.id===R.id,onOpenChange:L=>!L&&C(null),children:s.jsxs(kl,{children:[s.jsxs(Pl,{children:[s.jsx(Fl,{children:"Delete Lecturer"}),s.jsxs(Bl,{children:["Are you sure you want to delete ",R.user?.name,"? This action cannot be undone."]})]}),s.jsxs(Ll,{children:[s.jsx(Hl,{children:"Cancel"}),s.jsx(H4,{lecturerId:R.id,onSuccess:()=>C(null)})]})]})}),s.jsx(Ve,{variant:"outline",size:"sm",onClick:()=>C(R),"data-testid":`button-delete-lecturer-${R.id}`,children:s.jsx(Ca,{className:"h-4 w-4"})})]})]})]},R.id)):s.jsx("div",{className:"col-span-full text-center py-12",children:s.jsx("p",{className:"text-muted-foreground",children:"No lecturers found"})})})]})}function H4({lecturerId:r,onSuccess:a}){const{toast:l}=Wt(),d=bn({mutationFn:()=>Nn("DELETE",`/api/lecturers/${r}`),onSuccess:()=>{on.invalidateQueries({queryKey:["/api/lecturers"]}),l({title:"Success",description:"Lecturer deleted successfully"}),a()},onError:p=>{l({title:"Error",description:p.message||"Failed to delete lecturer",variant:"destructive"})}});return s.jsxs(Ul,{onClick:()=>d.mutate(),disabled:d.isPending,children:[d.isPending?s.jsx(Xn,{className:"mr-2 h-4 w-4 animate-spin"}):null,"Delete"]})}function ip({departments:r,initialData:a,onSuccess:l}){const[d,p]=T.useState({name:a?.user?.name||"",email:a?.user?.email||"",phone:a?.user?.phone||"",password:"",employeeId:a?.employeeId||"",designation:a?.designation||"",departmentId:a?.departmentId?.toString()||""}),{toast:x}=Wt(),E=bn({mutationFn:b=>Nn("POST","/api/lecturers",{...b,isHOD:!1}),onSuccess:()=>{on.invalidateQueries({queryKey:["/api/lecturers"]}),x({title:"Success",description:"Lecturer added successfully"}),l()},onError:b=>{x({title:"Error",description:b.message||"Failed to create lecturer",variant:"destructive"})}}),C=bn({mutationFn:b=>Nn("PUT",`/api/lecturers/${a.id}`,b),onSuccess:()=>{on.invalidateQueries({queryKey:["/api/lecturers"]}),x({title:"Success",description:"Lecturer updated successfully"}),l()},onError:b=>{x({title:"Error",description:b.message||"Failed to update lecturer",variant:"destructive"})}}),v=b=>{if(b.preventDefault(),!d.name||!d.email||!d.employeeId||!d.departmentId){x({title:"Validation Error",description:"Please fill in all required fields",variant:"destructive"});return}if(a&&!d.password){const A={name:d.name,email:d.email,phone:d.phone,employeeId:d.employeeId,designation:d.designation,departmentId:parseInt(d.departmentId)};C.mutate(A)}else if(!a&&!d.password){x({title:"Validation Error",description:"Password is required for new lecturers",variant:"destructive"});return}else{const A={...d,departmentId:parseInt(d.departmentId)};a?C.mutate(A):E.mutate(A)}},w=E.isPending||C.isPending;return s.jsxs("form",{onSubmit:v,className:"space-y-4",children:[s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(Ke,{htmlFor:"name",children:"Full Name *"}),s.jsx(tt,{id:"name",value:d.name,onChange:b=>p({...d,name:b.target.value}),required:!0,placeholder:"Dr. John Smith"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(Ke,{htmlFor:"email",children:"Email *"}),s.jsx(tt,{id:"email",type:"email",value:d.email,onChange:b=>p({...d,email:b.target.value}),required:!0,placeholder:"john@sliate.ac.lk"})]})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(Ke,{htmlFor:"phone",children:"Phone"}),s.jsx(tt,{id:"phone",value:d.phone,onChange:b=>p({...d,phone:b.target.value}),placeholder:"+94 71 234 5678"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs(Ke,{htmlFor:"password",children:["Password ",a?"(leave blank to keep current)":"*"]}),s.jsx(tt,{id:"password",type:"password",value:d.password,onChange:b=>p({...d,password:b.target.value}),required:!a,placeholder:""})]})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(Ke,{htmlFor:"employeeId",children:"Employee ID *"}),s.jsx(tt,{id:"employeeId",value:d.employeeId,onChange:b=>p({...d,employeeId:b.target.value}),required:!0,placeholder:"LEC-001"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(Ke,{htmlFor:"designation",children:"Designation"}),s.jsx(tt,{id:"designation",value:d.designation,onChange:b=>p({...d,designation:b.target.value}),placeholder:"Senior Lecturer"})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(Ke,{htmlFor:"department",children:"Department *"}),s.jsxs(er,{value:d.departmentId,onValueChange:b=>p({...d,departmentId:b}),required:!0,children:[s.jsx(Wn,{children:s.jsx(tr,{placeholder:"Select department"})}),s.jsx(Gn,{children:r.map(b=>s.jsxs(kn,{value:b.id.toString(),children:[b.code," - ",b.name]},b.id))})]})]}),s.jsx(Cs,{children:s.jsxs(Ve,{type:"submit",disabled:w,children:[w?s.jsx(Xn,{className:"mr-2 h-4 w-4 animate-spin"}):null,a?"Update Lecturer":"Add Lecturer"]})})]})}function V4(){const[r,a]=T.useState(""),[l,d]=T.useState(!1),[p,x]=T.useState(null),[E,C]=T.useState(null);Wt();const{data:v=[],isLoading:w}=st({queryKey:["/api/users"]}),{data:b=[]}=st({queryKey:["/api/departments"]}),O=v.filter(R=>R.role==="staff").filter(R=>{const L=R.name?.split(" ").pop()?.toLowerCase().includes(r.toLowerCase())||!1,G=R.name?.toLowerCase().includes(r.toLowerCase())||!1,H=R.email?.toLowerCase().includes(r.toLowerCase())||!1;return L||G||H}),P=R=>{x(R),d(!0)},F=()=>{d(!1),x(null)};return s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex items-center justify-between gap-4",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:"Staff Management"}),s.jsx("p",{className:"text-muted-foreground mt-2",children:"Manage support staff members"})]}),s.jsxs(yr,{open:l&&!p,onOpenChange:R=>!R&&F(),children:[s.jsx(_r,{asChild:!0,children:s.jsxs(Ve,{"data-testid":"button-add-staff",onClick:()=>x(null),children:[s.jsx(Ls,{className:"h-4 w-4 mr-2"}),"Add Staff"]})}),s.jsxs(dr,{className:"max-w-2xl max-h-screen overflow-y-auto",children:[s.jsxs(fr,{children:[s.jsx(hr,{children:"Add New Staff Member"}),s.jsx(wr,{children:"Create a new staff account"})]}),s.jsx(op,{departments:b,onSuccess:F})]})]})]}),s.jsxs("div",{className:"relative w-full",children:[s.jsx(Hi,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-muted-foreground"}),s.jsx(tt,{placeholder:"Search by name or last name...",value:r,onChange:R=>a(R.target.value),className:"pl-9","data-testid":"input-search-staff"})]}),w?s.jsx("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-3",children:[1,2,3].map(R=>s.jsx(Vt,{className:"h-64 w-full rounded-lg"},R))}):s.jsx("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-3",children:O&&O.length>0?O.map(R=>s.jsxs(_e,{className:"hover:shadow-lg transition-shadow","data-testid":`card-staff-${R.id}`,children:[s.jsx(qe,{className:"pb-3",children:s.jsxs("div",{className:"flex items-start justify-between",children:[s.jsxs("div",{className:"flex-1",children:[s.jsx(Ze,{className:"text-lg","data-testid":`text-name-${R.id}`,children:R.name}),s.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:"Staff Member"})]}),s.jsx(Dt,{variant:"secondary",className:"flex-shrink-0",children:"Staff"})]})}),s.jsxs(De,{className:"space-y-3",children:[s.jsxs("div",{className:"space-y-2 text-sm",children:[s.jsxs("div",{className:"flex items-center gap-2 text-muted-foreground","data-testid":`text-email-${R.id}`,children:[s.jsx(wa,{className:"w-4 h-4 flex-shrink-0"}),s.jsx("span",{className:"truncate",children:R.email})]}),R.phone&&s.jsxs("div",{className:"flex items-center gap-2 text-muted-foreground","data-testid":`text-phone-${R.id}`,children:[s.jsx(Tl,{className:"w-4 h-4 flex-shrink-0"}),s.jsx("span",{children:R.phone})]})]}),R.departmentId&&s.jsxs("div",{children:[s.jsx("p",{className:"text-xs text-muted-foreground mb-1",children:"Department"}),s.jsx(Dt,{variant:"outline","data-testid":`badge-dept-${R.id}`,children:b.find(L=>L.id===R.departmentId)?.code||"-"})]}),s.jsxs("div",{className:"flex gap-2 pt-2",children:[s.jsxs(yr,{open:p?.id===R.id&&l,onOpenChange:L=>{L||F()},children:[s.jsx(_r,{asChild:!0,children:s.jsxs(Ve,{variant:"outline",size:"sm",className:"flex-1",onClick:()=>P(R),"data-testid":`button-edit-staff-${R.id}`,children:[s.jsx(va,{className:"h-4 w-4 mr-1"}),"Edit"]})}),s.jsxs(dr,{className:"max-w-2xl max-h-screen overflow-y-auto",children:[s.jsxs(fr,{children:[s.jsx(hr,{children:"Edit Staff Member"}),s.jsx(wr,{children:"Update staff details"})]}),s.jsx(op,{departments:b,initialData:p,onSuccess:F})]})]}),s.jsx(qu,{open:E?.id===R.id,onOpenChange:L=>!L&&C(null),children:s.jsxs(kl,{children:[s.jsxs(Pl,{children:[s.jsx(Fl,{children:"Delete Staff"}),s.jsxs(Bl,{children:["Are you sure you want to delete ",R.name,"? This action cannot be undone."]})]}),s.jsxs(Ll,{children:[s.jsx(Hl,{children:"Cancel"}),s.jsx(z4,{staffId:R.id,onSuccess:()=>C(null)})]})]})}),s.jsx(Ve,{variant:"outline",size:"sm",onClick:()=>C(R),"data-testid":`button-delete-staff-${R.id}`,children:s.jsx(Ca,{className:"h-4 w-4"})})]})]})]},R.id)):s.jsx("div",{className:"col-span-full text-center py-12",children:s.jsx("p",{className:"text-muted-foreground",children:"No staff members found"})})})]})}function z4({staffId:r,onSuccess:a}){const{toast:l}=Wt(),d=bn({mutationFn:()=>Nn("DELETE",`/api/users/${r}`),onSuccess:()=>{on.invalidateQueries({queryKey:["/api/users"]}),l({title:"Success",description:"Staff member deleted successfully"}),a()},onError:p=>{l({title:"Error",description:p.message||"Failed to delete staff",variant:"destructive"})}});return s.jsxs(Ul,{onClick:()=>d.mutate(),disabled:d.isPending,children:[d.isPending?s.jsx(Xn,{className:"mr-2 h-4 w-4 animate-spin"}):null,"Delete"]})}function op({departments:r,initialData:a,onSuccess:l}){const[d,p]=T.useState({name:a?.name||"",email:a?.email||"",phone:a?.phone||"",password:"",departmentId:a?.departmentId?.toString()||""}),{toast:x}=Wt(),E=bn({mutationFn:b=>Nn("POST","/api/users",{...b,role:"staff"}),onSuccess:()=>{on.invalidateQueries({queryKey:["/api/users"]}),x({title:"Success",description:"Staff member added successfully"}),l()},onError:b=>{x({title:"Error",description:b.message||"Failed to create staff",variant:"destructive"})}}),C=bn({mutationFn:b=>Nn("PUT",`/api/users/${a.id}`,b),onSuccess:()=>{on.invalidateQueries({queryKey:["/api/users"]}),x({title:"Success",description:"Staff member updated successfully"}),l()},onError:b=>{x({title:"Error",description:b.message||"Failed to update staff",variant:"destructive"})}}),v=b=>{if(b.preventDefault(),!d.name||!d.email){x({title:"Validation Error",description:"Please fill in all required fields",variant:"destructive"});return}if(a&&!d.password){const A={name:d.name,email:d.email,phone:d.phone,departmentId:d.departmentId?parseInt(d.departmentId):void 0};C.mutate(A)}else if(!a&&!d.password){x({title:"Validation Error",description:"Password is required for new staff",variant:"destructive"});return}else{const A={...d,departmentId:d.departmentId?parseInt(d.departmentId):void 0};a?C.mutate(A):E.mutate(A)}},w=E.isPending||C.isPending;return s.jsxs("form",{onSubmit:v,className:"space-y-4",children:[s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(Ke,{htmlFor:"name",children:"Full Name *"}),s.jsx(tt,{id:"name",value:d.name,onChange:b=>p({...d,name:b.target.value}),required:!0,placeholder:"John Doe"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(Ke,{htmlFor:"email",children:"Email *"}),s.jsx(tt,{id:"email",type:"email",value:d.email,onChange:b=>p({...d,email:b.target.value}),required:!0,placeholder:"john@sliate.ac.lk"})]})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(Ke,{htmlFor:"phone",children:"Phone"}),s.jsx(tt,{id:"phone",value:d.phone,onChange:b=>p({...d,phone:b.target.value}),placeholder:"+94 71 234 5678"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs(Ke,{htmlFor:"password",children:["Password ",a?"(leave blank to keep current)":"*"]}),s.jsx(tt,{id:"password",type:"password",value:d.password,onChange:b=>p({...d,password:b.target.value}),required:!a,placeholder:""})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(Ke,{htmlFor:"department",children:"Department"}),s.jsxs(er,{value:d.departmentId,onValueChange:b=>p({...d,departmentId:b}),children:[s.jsx(Wn,{children:s.jsx(tr,{placeholder:"Select department (optional)"})}),s.jsx(Gn,{children:r.map(b=>s.jsxs(kn,{value:b.id.toString(),children:[b.code," - ",b.name]},b.id))})]})]}),s.jsx(Cs,{children:s.jsxs(Ve,{type:"submit",disabled:w,children:[w?s.jsx(Xn,{className:"mr-2 h-4 w-4 animate-spin"}):null,a?"Update Staff":"Add Staff"]})})]})}function W4(){const[r,a]=T.useState(null),{data:l=[],isLoading:d}=st({queryKey:["/api/courses"],enabled:!0}),{data:p=[]}=st({queryKey:["/api/exam-applications"],enabled:!0}),{data:x=[]}=st({queryKey:["/api/students"],enabled:!0}),{data:E=[]}=st({queryKey:["/api/departments"],enabled:!0}),{data:C=[]}=st({queryKey:["/api/lecturers"],enabled:!0}),v=l.map(b=>({...b,department:E.find(A=>A.id===b.departmentId),lecturer:C.find(A=>A.id===b.lecturerId)})),w=r?x.filter(b=>b.departmentId===r.departmentId).sort((b,A)=>(b.user?.name||"").localeCompare(A.user?.name||"")):[];return d?s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:"Courses"}),s.jsx("p",{className:"text-muted-foreground mt-2",children:"Manage courses across departments"})]}),s.jsx("div",{className:"grid gap-4 md:grid-cols-2",children:[...Array(6)].map((b,A)=>s.jsx(_e,{className:"animate-pulse",children:s.jsx(De,{className:"pt-6 h-32 bg-muted/50 rounded"})},A))})]}):s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:"Courses"}),s.jsx("p",{className:"text-muted-foreground mt-2",children:"Manage courses across departments"})]}),s.jsxs("div",{className:"grid gap-6 md:grid-cols-3",children:[s.jsx("div",{className:"md:col-span-1",children:s.jsxs(_e,{children:[s.jsx(qe,{children:s.jsxs(Ze,{className:"flex items-center gap-2",children:[s.jsx(Or,{className:"w-5 h-5"}),"Courses (",v.length,")"]})}),s.jsx(De,{className:"space-y-2",children:v.length===0?s.jsx("p",{className:"text-sm text-muted-foreground",children:"No courses found"}):v.map(b=>s.jsxs("button",{onClick:()=>a(b),className:`w-full text-left p-3 rounded-lg border transition-colors ${r?.id===b.id?"bg-primary/10 border-primary":"hover:bg-muted border-border"}`,"data-testid":`button-course-${b.code}`,children:[s.jsx("div",{className:"font-semibold text-sm",children:b.code}),s.jsx("div",{className:"text-xs text-muted-foreground line-clamp-2",children:b.name}),s.jsx("div",{className:"text-xs text-muted-foreground mt-1",children:b.department?.code||"N/A"})]},b.id))})]})}),s.jsx("div",{className:"md:col-span-2",children:r?s.jsxs(_e,{children:[s.jsx(qe,{children:s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Dt,{variant:"outline","data-testid":`badge-course-${r.code}`,children:r.code}),r.credits&&s.jsxs(Dt,{variant:"secondary",children:[r.credits," Credits"]})]}),s.jsx(Ze,{children:r.name})]})}),s.jsxs(De,{className:"space-y-6",children:[s.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[s.jsxs("div",{className:"rounded-lg bg-muted p-3",children:[s.jsx("p",{className:"text-xs text-muted-foreground uppercase tracking-wide",children:"Department"}),s.jsx("p",{className:"font-semibold","data-testid":"text-course-dept",children:r.department?.name||"N/A"})]}),s.jsxs("div",{className:"rounded-lg bg-muted p-3",children:[s.jsx("p",{className:"text-xs text-muted-foreground uppercase tracking-wide",children:"Lecturer"}),s.jsx("p",{className:"font-semibold","data-testid":"text-course-lecturer",children:r.lecturer?.user?.name||"Unassigned"})]})]}),s.jsxs("div",{children:[s.jsxs("h3",{className:"font-semibold flex items-center gap-2 mb-3",children:[s.jsx(Rr,{className:"w-4 h-4"}),"Enrolled Students (",w.length,")"]}),w.length===0?s.jsx("p",{className:"text-sm text-muted-foreground bg-muted rounded p-3",children:"No students enrolled in this course"}):s.jsx("div",{className:"space-y-2 max-h-96 overflow-y-auto",children:w.map(b=>s.jsxs("div",{className:"flex items-center gap-3 p-3 rounded-lg border hover:bg-muted/50 transition-colors","data-testid":`row-student-${b.id}`,children:[s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsx("p",{className:"font-medium text-sm","data-testid":`text-student-name-${b.id}`,children:b.user?.name}),s.jsx("p",{className:"text-xs text-muted-foreground","data-testid":`text-student-id-${b.id}`,children:b.studentId}),s.jsx("p",{className:"text-xs text-muted-foreground truncate",children:b.user?.email})]}),s.jsx(XC,{className:"w-4 h-4 text-muted-foreground flex-shrink-0"})]},b.id))})]})]})]}):s.jsx(_e,{children:s.jsx(De,{className:"pt-6",children:s.jsx("p",{className:"text-center text-muted-foreground py-8",children:"Select a course to view details and enrolled students"})})})})]})]})}function G4(){return s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:"Attendance"}),s.jsx("p",{className:"text-muted-foreground mt-2",children:"View and manage attendance records"})]}),s.jsxs(_e,{children:[s.jsx(qe,{children:s.jsx(Ze,{children:"Attendance Management"})}),s.jsx(De,{children:s.jsx("p",{className:"text-muted-foreground",children:"Attendance management coming soon"})})]})]})}function X4(){return s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:"Exam Applications"}),s.jsx("p",{className:"text-muted-foreground mt-2",children:"Manage exam applications"})]}),s.jsxs(_e,{children:[s.jsx(qe,{children:s.jsx(Ze,{children:"Exam Application Management"})}),s.jsx(De,{children:s.jsx("p",{className:"text-muted-foreground",children:"Exam management coming soon"})})]})]})}function K4(){return s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:"Payments"}),s.jsx("p",{className:"text-muted-foreground mt-2",children:"Manage staff payments"})]}),s.jsxs(_e,{children:[s.jsx(qe,{children:s.jsx(Ze,{children:"Payment Management"})}),s.jsx(De,{children:s.jsx("p",{className:"text-muted-foreground",children:"Payment management coming soon"})})]})]})}const Y4=Ao("relative w-full rounded-lg border p-4 [&>svg~*]:pl-7 [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-foreground",{variants:{variant:{default:"bg-background text-foreground",destructive:"border-destructive/50 text-destructive dark:border-destructive [&>svg]:text-destructive"}},defaultVariants:{variant:"default"}}),My=T.forwardRef(({className:r,variant:a,...l},d)=>s.jsx("div",{ref:d,role:"alert",className:Oe(Y4({variant:a}),r),...l}));My.displayName="Alert";const q4=T.forwardRef(({className:r,...a},l)=>s.jsx("h5",{ref:l,className:Oe("mb-1 font-medium leading-none tracking-tight",r),...a}));q4.displayName="AlertTitle";const ky=T.forwardRef(({className:r,...a},l)=>s.jsx("div",{ref:l,className:Oe("text-sm [&_p]:leading-relaxed",r),...a}));ky.displayName="AlertDescription";function Q4(){const[r,a]=T.useState(!1),[l,d]=T.useState(!1),[p,x]=T.useState(null),{toast:E}=Wt(),C=P=>{P.preventDefault(),a(!0)},v=P=>{P.preventDefault(),a(!1)},w=P=>{P.preventDefault()},b=async P=>{if(!P.name.endsWith(".xlsx")&&!P.name.endsWith(".xls")&&!P.name.endsWith(".csv")){E({title:"Error",description:"Please upload an Excel or CSV file",variant:"destructive"});return}d(!0);try{const F=new FormData;F.append("file",P);const R=localStorage.getItem("auth_token"),L={};R&&(L.Authorization=`Bearer ${R}`);const G=await fetch("/api/admin/import-students",{method:"POST",body:F,credentials:"include",headers:L});if(!G.ok){const V=await G.json();throw new Error(V.message||"Import failed")}const H=await G.json();x(H),E({title:"Success",description:`Imported ${H.success} students successfully`})}catch(F){E({title:"Error",description:F.message||"Failed to import file",variant:"destructive"})}finally{d(!1),a(!1)}},A=P=>{P.preventDefault(),a(!1);const F=P.dataTransfer.files;F.length>0&&b(F[0])},O=P=>{const F=P.currentTarget.files;F&&F.length>0&&b(F[0])};return s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:"Import Students"}),s.jsx("p",{className:"text-muted-foreground mt-2",children:"Bulk import student data from Excel or CSV files"})]}),s.jsxs("div",{className:"grid gap-6",children:[s.jsxs(_e,{children:[s.jsxs(qe,{children:[s.jsx(Ze,{children:"Upload File"}),s.jsx(ur,{children:"Support Excel (.xlsx, .xls) and CSV files. Required columns: Email, Name, StudentNumber, Department, ProgramType, IntakeYear"})]}),s.jsx(De,{children:s.jsxs("div",{onDragEnter:C,onDragLeave:v,onDragOver:w,onDrop:A,className:`border-2 border-dashed rounded-lg p-12 text-center transition-colors ${r?"border-primary bg-primary/5":"border-muted-foreground/25 hover:border-primary/50"}`,"data-testid":"drop-zone-students",children:[s.jsx(eh,{className:"h-12 w-12 mx-auto mb-4 text-muted-foreground"}),s.jsx("p",{className:"text-lg font-medium mb-2",children:"Drop your file here or click to select"}),s.jsx("p",{className:"text-sm text-muted-foreground mb-4",children:"Supported formats: Excel (.xlsx, .xls) and CSV"}),s.jsxs("label",{children:[s.jsx("input",{type:"file",accept:".xlsx,.xls,.csv",onChange:O,disabled:l,className:"hidden","data-testid":"input-file-upload"}),s.jsx(Ve,{type:"button",variant:"outline",disabled:l,asChild:!0,children:s.jsx("span",{children:l?s.jsxs(s.Fragment,{children:[s.jsx(Xn,{className:"h-4 w-4 mr-2 animate-spin"}),"Importing..."]}):s.jsxs(s.Fragment,{children:[s.jsx(eh,{className:"h-4 w-4 mr-2"}),"Select File"]})})})]})]})})]}),p&&s.jsxs(_e,{children:[s.jsx(qe,{children:s.jsx(Ze,{children:"Import Results"})}),s.jsxs(De,{className:"space-y-4",children:[s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{className:"flex items-center gap-3 p-3 bg-green-50 dark:bg-green-950 rounded-lg border border-green-200 dark:border-green-800",children:[s.jsx(Ex,{className:"h-5 w-5 text-green-600 dark:text-green-400"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium",children:"Successful"}),s.jsx("p",{className:"text-2xl font-bold",children:p.success})]})]}),s.jsxs("div",{className:"flex items-center gap-3 p-3 bg-red-50 dark:bg-red-950 rounded-lg border border-red-200 dark:border-red-800",children:[s.jsx(Jf,{className:"h-5 w-5 text-red-600 dark:text-red-400"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium",children:"Failed"}),s.jsx("p",{className:"text-2xl font-bold",children:p.failed})]})]})]}),p.errors.length>0&&s.jsxs(My,{variant:"destructive",children:[s.jsx(Jf,{className:"h-4 w-4"}),s.jsxs(ky,{children:[s.jsx("p",{className:"font-medium mb-2",children:"Errors:"}),s.jsxs("ul",{className:"space-y-1 text-sm",children:[p.errors.slice(0,10).map((P,F)=>s.jsxs("li",{children:["Row ",P.row,": ",P.error]},F)),p.errors.length>10&&s.jsxs("li",{className:"text-muted-foreground",children:["... and ",p.errors.length-10," more errors"]})]})]})]})]})]}),s.jsxs(_e,{children:[s.jsx(qe,{children:s.jsx(Ze,{children:"Format Requirements"})}),s.jsxs(De,{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("h4",{className:"font-medium mb-2",children:"Required Columns:"}),s.jsxs("ul",{className:"space-y-2 text-sm",children:[s.jsxs("li",{className:"flex gap-2",children:[s.jsx("span",{className:"font-mono text-primary",children:"Email"}),s.jsx("span",{className:"text-muted-foreground",children:"Unique email address for the student"})]}),s.jsxs("li",{className:"flex gap-2",children:[s.jsx("span",{className:"font-mono text-primary",children:"Name"}),s.jsx("span",{className:"text-muted-foreground",children:"Full name of the student"})]}),s.jsxs("li",{className:"flex gap-2",children:[s.jsx("span",{className:"font-mono text-primary",children:"StudentNumber"}),s.jsx("span",{className:"text-muted-foreground",children:"Student registration number (4 digits)"})]}),s.jsxs("li",{className:"flex gap-2",children:[s.jsx("span",{className:"font-mono text-primary",children:"Department"}),s.jsx("span",{className:"text-muted-foreground",children:"Department code (HNDIT, HNDMG, HNDTHM, HNDE, HNDBF)"})]}),s.jsxs("li",{className:"flex gap-2",children:[s.jsx("span",{className:"font-mono text-primary",children:"ProgramType"}),s.jsx("span",{className:"text-muted-foreground",children:"FT (Full-Time) or PT (Part-Time)"})]}),s.jsxs("li",{className:"flex gap-2",children:[s.jsx("span",{className:"font-mono text-primary",children:"IntakeYear"}),s.jsx("span",{className:"text-muted-foreground",children:"Year of intake (e.g., 2024)"})]})]})]}),s.jsxs("div",{children:[s.jsx("h4",{className:"font-medium mb-2",children:"Example CSV:"}),s.jsx("pre",{className:"bg-muted p-3 rounded text-xs overflow-x-auto",children:`Email,Name,StudentNumber,Department,ProgramType,IntakeYear
john@sliate.ac.lk,John Doe,0201,HNDIT,FT,2024
jane@sliate.ac.lk,Jane Smith,0202,HNDMG,PT,2024`})]})]})]})]})]})}function Z4(){return s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:"Export Data"}),s.jsx("p",{className:"text-muted-foreground mt-2",children:"Export data to Excel/CSV files"})]}),s.jsxs(_e,{children:[s.jsx(qe,{children:s.jsx(Ze,{children:"Export Management"})}),s.jsx(De,{children:s.jsx("p",{className:"text-muted-foreground",children:"Export functionality coming soon"})})]})]})}function $4(){return s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:"Settings"}),s.jsx("p",{className:"text-muted-foreground mt-2",children:"System settings and configuration"})]}),s.jsxs(_e,{children:[s.jsx(qe,{children:s.jsx(Ze,{children:"System Settings"})}),s.jsx(De,{children:s.jsx("p",{className:"text-muted-foreground",children:"Settings coming soon"})})]})]})}const gh=["Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday"],yh=["07:00","07:30","08:00","08:30","09:00","09:30","10:00","10:30","11:00","11:30","12:00","12:30","13:00","13:30","14:00","14:30","15:00","15:30","16:00","16:30","17:00"];function J4(){const[r,a]=T.useState(!1),[l,d]=T.useState(null),[p,x]=T.useState(null),[E,C]=T.useState("lecturers"),[v,w]=T.useState(null),[b,A]=T.useState(""),[O,P]=T.useState(null),[F,R]=T.useState(null),[L,G]=T.useState("");Wt();const{data:H=[],isLoading:V}=st({queryKey:["/api/timetable"]}),{data:K=[]}=st({queryKey:["/api/courses"]}),{data:re=[]}=st({queryKey:["/api/lecturers"]}),le=K.filter(W=>{const xe=W.code?.toLowerCase().includes(L.toLowerCase())||!1,me=W.name?.toLowerCase().includes(L.toLowerCase())||!1;return xe||me}),Q=le.slice(0,5),se=re.filter(W=>{const xe=W.user?.name?.toLowerCase().includes(b.toLowerCase())||!1,me=W.user?.email?.toLowerCase().includes(b.toLowerCase())||!1;return xe||me}),Le=W=>H.filter(xe=>xe.lecturerId===W),je=W=>H.filter(xe=>xe.courseId===W),de=W=>{d(W),a(!0)},Ie=()=>{a(!1),d(null)},he=V;return s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex items-center justify-between gap-4",children:[s.jsxs("div",{children:[s.jsxs("h1",{className:"text-3xl font-bold tracking-tight flex items-center gap-2",children:[s.jsx(Ps,{className:"w-8 h-8 text-blue-600"}),"Class Timetable"]}),s.jsx("p",{className:"text-muted-foreground mt-2",children:"View and manage timetables"})]}),s.jsxs(yr,{open:r&&!l,onOpenChange:W=>!W&&Ie(),children:[s.jsx(_r,{asChild:!0,children:s.jsxs(Ve,{"data-testid":"button-add-timetable",onClick:()=>d(null),children:[s.jsx(Ls,{className:"h-4 w-4 mr-2"}),"Add Schedule"]})}),s.jsxs(dr,{className:"max-w-2xl max-h-screen overflow-y-auto",children:[s.jsxs(fr,{children:[s.jsx(hr,{children:"Add Class Schedule"}),s.jsx(wr,{children:"Create a new timetable entry"})]}),s.jsx(Py,{courses:K,lecturers:re,onSuccess:Ie})]})]})]}),s.jsxs("div",{className:"flex gap-2 border-b",children:[s.jsxs(Ve,{variant:E==="lecturers"?"default":"ghost",onClick:()=>{C("lecturers"),w(null),P(null),A("")},className:"rounded-b-none","data-testid":"tab-lecturers",children:[s.jsx(th,{className:"w-4 h-4 mr-2"}),"Lecturer Schedules"]}),s.jsxs(Ve,{variant:E==="courses"?"default":"ghost",onClick:()=>{C("courses"),R(null),G("")},className:"rounded-b-none","data-testid":"tab-courses",children:[s.jsx(Or,{className:"w-4 h-4 mr-2"}),"Course Schedules"]})]}),E==="lecturers"&&s.jsx("div",{className:"space-y-4",children:O?s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[s.jsx(Ve,{variant:"outline",size:"sm",onClick:()=>P(null),"data-testid":"button-back-lecturer-schedule",children:s.jsx(Ds,{className:"w-4 h-4"})}),s.jsxs("h2",{className:"text-lg font-semibold",children:[re.find(W=>W.id===O)?.user?.name," - Schedule"]})]}),he?s.jsx("div",{className:"grid gap-4",children:[1,2,3].map(W=>s.jsx(Vt,{className:"h-32 w-full rounded-lg"},W))}):s.jsx(ap,{schedules:Le(O),editingEntry:l,isDialogOpen:r,deletingEntry:p,onEditClick:de,onDeleteClick:W=>x(W),onCloseDelete:()=>x(null),onCloseDialog:Ie,courses:K,lecturers:re})]}):s.jsx(s.Fragment,{children:v?s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Ve,{variant:"outline",size:"sm",onClick:()=>{w(null),A("")},"data-testid":"button-back-lecturer-category",children:s.jsx(Ds,{className:"w-4 h-4"})}),s.jsx("div",{className:"relative flex-1",children:s.jsx(tt,{placeholder:"Search lecturer by name...",value:b,onChange:W=>A(W.target.value),"data-testid":"input-search-lecturer"})})]}),he?s.jsx("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-3",children:[1,2,3].map(W=>s.jsx(Vt,{className:"h-32 w-full rounded-lg"},W))}):s.jsx("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-3",children:se.length>0?se.map(W=>s.jsxs(_e,{className:"hover:shadow-lg transition-shadow cursor-pointer",onClick:()=>P(W.id),"data-testid":`card-lecturer-select-${W.id}`,children:[s.jsxs(qe,{className:"pb-3",children:[s.jsx(Ze,{className:"text-lg",children:W.user?.name}),s.jsx("p",{className:"text-sm text-muted-foreground",children:W.employeeId})]}),s.jsx(De,{children:s.jsx(Dt,{variant:"outline",children:W.department?.code})})]},W.id)):s.jsx("div",{className:"col-span-full text-center py-12",children:s.jsx("p",{className:"text-muted-foreground",children:"No lecturers found"})})})]}):s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsx(_e,{className:"hover:shadow-lg transition-shadow cursor-pointer",onClick:()=>w("permanent"),"data-testid":"card-permanent-lecturers",children:s.jsx(De,{className:"pt-6",children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"p-3 bg-blue-100 dark:bg-blue-950 rounded-lg",children:s.jsx(th,{className:"w-6 h-6 text-blue-600 dark:text-blue-400"})}),s.jsxs("div",{children:[s.jsx("p",{className:"font-semibold text-lg",children:"Permanent Lecturers"}),s.jsxs("p",{className:"text-sm text-muted-foreground",children:[re.filter(W=>!W.isVisiting).length," lecturers"]})]})]})})}),s.jsx(_e,{className:"hover:shadow-lg transition-shadow cursor-pointer",onClick:()=>w("visiting"),"data-testid":"card-visiting-lecturers",children:s.jsx(De,{className:"pt-6",children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"p-3 bg-green-100 dark:bg-green-950 rounded-lg",children:s.jsx(Rr,{className:"w-6 h-6 text-green-600 dark:text-green-400"})}),s.jsxs("div",{children:[s.jsx("p",{className:"font-semibold text-lg",children:"Visiting Lecturers"}),s.jsxs("p",{className:"text-sm text-muted-foreground",children:[re.filter(W=>W.isVisiting).length," lecturers"]})]})]})})})]})})}),E==="courses"&&s.jsx("div",{className:"space-y-4",children:F?s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[s.jsx(Ve,{variant:"outline",size:"sm",onClick:()=>R(null),"data-testid":"button-back-course-schedule",children:s.jsx(Ds,{className:"w-4 h-4"})}),s.jsxs("h2",{className:"text-lg font-semibold",children:[K.find(W=>W.id===F)?.code," - Schedule"]})]}),he?s.jsx("div",{className:"grid gap-4",children:[1,2].map(W=>s.jsx(Vt,{className:"h-32 w-full rounded-lg"},W))}):s.jsx(ap,{schedules:je(F),editingEntry:l,isDialogOpen:r,deletingEntry:p,onEditClick:de,onDeleteClick:W=>x(W),onCloseDelete:()=>x(null),onCloseDialog:Ie,courses:K,lecturers:re})]}):s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"relative w-full",children:s.jsx(tt,{placeholder:"Search course by code or name...",value:L,onChange:W=>G(W.target.value),"data-testid":"input-search-course"})}),he?s.jsx("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-5",children:[1,2,3,4,5].map(W=>s.jsx(Vt,{className:"h-48 w-full rounded-lg"},W))}):s.jsx("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-5",children:Q.length>0?Q.map(W=>s.jsxs(_e,{className:"hover:shadow-lg transition-shadow cursor-pointer",onClick:()=>R(W.id),"data-testid":`card-course-select-${W.id}`,children:[s.jsx(qe,{className:"pb-2",children:s.jsx(Ze,{className:"text-base",children:W.code})}),s.jsxs(De,{className:"space-y-2",children:[s.jsx("p",{className:"text-sm text-muted-foreground line-clamp-2",children:W.name}),s.jsx("div",{children:s.jsxs("p",{className:"text-xs text-muted-foreground mb-1",children:[H.filter(xe=>xe.courseId===W.id).length," classes"]})})]})]},W.id)):s.jsx("div",{className:"col-span-full text-center py-12",children:s.jsx("p",{className:"text-muted-foreground",children:"No courses found"})})}),le.length>5&&s.jsx("div",{className:"text-center",children:s.jsxs("p",{className:"text-xs text-muted-foreground",children:["Showing 5 of ",le.length," courses"]})})]})})]})}function ap({schedules:r,editingEntry:a,isDialogOpen:l,deletingEntry:d,onEditClick:p,onDeleteClick:x,onCloseDelete:E,onCloseDialog:C,courses:v,lecturers:w}){const b=(A,O)=>r.find(P=>P.day===O&&P.startTime<=A&&P.endTime>A);return s.jsx("div",{className:"space-y-4",children:r.length>0?s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"overflow-x-auto rounded-lg border border-border",children:s.jsxs("table",{className:"w-full",children:[s.jsx("thead",{children:s.jsxs("tr",{className:"bg-slate-100 dark:bg-slate-900 border-b border-border",children:[s.jsx("th",{className:"px-3 py-2 text-left text-xs font-semibold text-muted-foreground w-20",children:"Time"}),gh.map(A=>s.jsx("th",{className:"px-3 py-2 text-center text-xs font-semibold text-muted-foreground",children:A.substring(0,3).toUpperCase()},A))]})}),s.jsx("tbody",{children:yh.map(A=>s.jsxs("tr",{className:"border-b border-border hover:bg-slate-50 dark:hover:bg-slate-900/50",children:[s.jsx("td",{className:"px-3 py-2 text-xs font-mono font-semibold text-muted-foreground bg-slate-50 dark:bg-slate-900/50",children:A}),gh.map(O=>{const P=b(A,O);return s.jsx("td",{className:"px-2 py-2 text-center text-xs",children:P?s.jsxs("div",{className:"bg-blue-50 dark:bg-blue-950 border border-blue-200 dark:border-blue-800 rounded p-1",children:[s.jsx("p",{className:"font-semibold text-blue-900 dark:text-blue-100",children:P.course?.code}),s.jsx("p",{className:"text-xs text-blue-700 dark:text-blue-300",children:P.room}),s.jsx("p",{className:"text-xs text-blue-600 dark:text-blue-400",children:P.lecturer?.user?.name})]}):null},`${O}-${A}`)})]},A))})]})}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("h3",{className:"text-sm font-semibold",children:"Schedule Details:"}),s.jsx("div",{className:"grid gap-2",children:r.map(A=>s.jsx(_e,{className:"hover:shadow-lg transition-shadow","data-testid":`card-timetable-${A.id}`,children:s.jsx(De,{className:"pt-4",children:s.jsxs("div",{className:"flex items-start justify-between gap-3",children:[s.jsxs("div",{className:"flex-1 space-y-1",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Dt,{className:"bg-blue-100 dark:bg-blue-950 text-blue-900 dark:text-blue-100",children:A.course?.code}),s.jsx("span",{className:"text-sm font-medium",children:A.day}),s.jsxs("span",{className:"text-xs text-muted-foreground",children:[A.startTime," - ",A.endTime]})]}),s.jsxs("p",{className:"text-xs text-muted-foreground flex items-center gap-1",children:[s.jsx(Il,{className:"w-3 h-3"}),A.room,"  ",A.lecturer?.user?.name]})]}),s.jsxs("div",{className:"flex gap-1",children:[s.jsxs(yr,{open:a?.id===A.id&&l,onOpenChange:O=>{O||C()},children:[s.jsx(_r,{asChild:!0,children:s.jsx(Ve,{variant:"outline",size:"sm",onClick:()=>p(A),"data-testid":`button-edit-timetable-${A.id}`,children:s.jsx(va,{className:"h-3 w-3"})})}),s.jsxs(dr,{className:"max-w-2xl max-h-screen overflow-y-auto",children:[s.jsxs(fr,{children:[s.jsx(hr,{children:"Edit Class Schedule"}),s.jsx(wr,{children:"Update timetable details"})]}),s.jsx(Py,{courses:v,lecturers:w,initialData:a,onSuccess:C})]})]}),s.jsx(qu,{open:d?.id===A.id,onOpenChange:O=>!O&&E(),children:s.jsxs(kl,{children:[s.jsxs(Pl,{children:[s.jsx(Fl,{children:"Delete Schedule"}),s.jsx(Bl,{children:"Are you sure you want to delete this schedule? This action cannot be undone."})]}),s.jsxs(Ll,{children:[s.jsx(Hl,{children:"Cancel"}),s.jsx(eA,{entryId:A.id,onSuccess:()=>E()})]})]})}),s.jsx(Ve,{variant:"outline",size:"sm",onClick:()=>x(A),"data-testid":`button-delete-timetable-${A.id}`,children:s.jsx(Ca,{className:"h-3 w-3"})})]})]})})},A.id))})]})]}):s.jsxs("div",{className:"text-center py-12",children:[s.jsx(Ps,{className:"w-12 h-12 text-gray-400 mx-auto mb-4"}),s.jsx("p",{className:"text-muted-foreground",children:"No schedules available"})]})})}function eA({entryId:r,onSuccess:a}){const{toast:l}=Wt(),d=bn({mutationFn:()=>Nn("DELETE",`/api/timetable/${r}`),onSuccess:()=>{on.invalidateQueries({queryKey:["/api/timetable"]}),l({title:"Success",description:"Schedule deleted successfully"}),a()},onError:p=>{l({title:"Error",description:p.message||"Failed to delete schedule",variant:"destructive"})}});return s.jsxs(Ul,{onClick:()=>d.mutate(),disabled:d.isPending,children:[d.isPending?s.jsx(Xn,{className:"mr-2 h-4 w-4 animate-spin"}):null,"Delete"]})}function Py({courses:r,lecturers:a,initialData:l,onSuccess:d}){const[p,x]=T.useState({courseId:l?.courseId?.toString()||"",lecturerId:l?.lecturerId?.toString()||"",day:l?.day||"Monday",startTime:l?.startTime||"08:00",endTime:l?.endTime||"09:00",room:l?.room||""}),{toast:E}=Wt(),C=bn({mutationFn:A=>Nn("POST","/api/timetable",A),onSuccess:()=>{on.invalidateQueries({queryKey:["/api/timetable"]}),E({title:"Success",description:"Schedule added successfully"}),d()},onError:A=>{E({title:"Error",description:A.message||"Failed to create schedule",variant:"destructive"})}}),v=bn({mutationFn:A=>Nn("PUT",`/api/timetable/${l.id}`,A),onSuccess:()=>{on.invalidateQueries({queryKey:["/api/timetable"]}),E({title:"Success",description:"Schedule updated successfully"}),d()},onError:A=>{E({title:"Error",description:A.message||"Failed to update schedule",variant:"destructive"})}}),w=A=>{if(A.preventDefault(),!p.courseId||!p.lecturerId||!p.room){E({title:"Validation Error",description:"Please fill in all required fields",variant:"destructive"});return}const O={courseId:parseInt(p.courseId),lecturerId:parseInt(p.lecturerId),day:p.day,startTime:p.startTime,endTime:p.endTime,room:p.room};l?v.mutate(O):C.mutate(O)},b=C.isPending||v.isPending;return s.jsxs("form",{onSubmit:w,className:"space-y-4",children:[s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(Ke,{htmlFor:"course",children:"Course *"}),s.jsxs(er,{value:p.courseId,onValueChange:A=>x({...p,courseId:A}),required:!0,children:[s.jsx(Wn,{children:s.jsx(tr,{placeholder:"Select course"})}),s.jsx(Gn,{children:r.map(A=>s.jsxs(kn,{value:A.id.toString(),children:[A.code," - ",A.name]},A.id))})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(Ke,{htmlFor:"lecturer",children:"Lecturer *"}),s.jsxs(er,{value:p.lecturerId,onValueChange:A=>x({...p,lecturerId:A}),required:!0,children:[s.jsx(Wn,{children:s.jsx(tr,{placeholder:"Select lecturer"})}),s.jsx(Gn,{children:a.map(A=>s.jsxs(kn,{value:A.id.toString(),children:[A.user?.name," (",A.department?.code,")"]},A.id))})]})]})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(Ke,{htmlFor:"day",children:"Day *"}),s.jsxs(er,{value:p.day,onValueChange:A=>x({...p,day:A}),required:!0,children:[s.jsx(Wn,{children:s.jsx(tr,{placeholder:"Select day"})}),s.jsx(Gn,{children:gh.map(A=>s.jsx(kn,{value:A,children:A},A))})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(Ke,{htmlFor:"room",children:"Room/Location *"}),s.jsx(tt,{id:"room",value:p.room,onChange:A=>x({...p,room:A.target.value}),required:!0,placeholder:"e.g., Lab 101, Room A3"})]})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(Ke,{htmlFor:"startTime",children:"Start Time *"}),s.jsxs(er,{value:p.startTime,onValueChange:A=>x({...p,startTime:A}),required:!0,children:[s.jsx(Wn,{children:s.jsx(tr,{placeholder:"Start time"})}),s.jsx(Gn,{children:yh.map(A=>s.jsx(kn,{value:A,children:A},A))})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(Ke,{htmlFor:"endTime",children:"End Time *"}),s.jsxs(er,{value:p.endTime,onValueChange:A=>x({...p,endTime:A}),required:!0,children:[s.jsx(Wn,{children:s.jsx(tr,{placeholder:"End time"})}),s.jsx(Gn,{children:yh.map(A=>s.jsx(kn,{value:A,children:A},A))})]})]})]}),s.jsx(Cs,{children:s.jsxs(Ve,{type:"submit",disabled:b,children:[b?s.jsx(Xn,{className:"mr-2 h-4 w-4 animate-spin"}):null,l?"Update Schedule":"Add Schedule"]})})]})}function tA(){const[r,a]=T.useState(""),{data:l=[],isLoading:d}=st({queryKey:["/api/lecturers"]}),{data:p=[]}=st({queryKey:["/api/timetable"]}),x=l.filter(C=>{const v=C.user?.name?.toLowerCase().includes(r.toLowerCase())||!1,w=C.user?.email?.toLowerCase().includes(r.toLowerCase())||!1;return v||w}),E=C=>p.filter(v=>v.lecturerId===C);return s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:"Lecturer Timetables"}),s.jsx("p",{className:"text-muted-foreground mt-2",children:"View and manage lecturer schedules"})]}),s.jsxs("div",{className:"relative w-full",children:[s.jsx(Hi,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-muted-foreground"}),s.jsx(tt,{placeholder:"Search by name or email...",value:r,onChange:C=>a(C.target.value),className:"pl-9","data-testid":"input-search-lecturer-schedules"})]}),d?s.jsx("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-3",children:[1,2,3,4,5,6].map(C=>s.jsx(Vt,{className:"h-64 w-full rounded-lg"},C))}):s.jsx("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-3",children:x&&x.length>0?x.map(C=>{const v=E(C.id);return s.jsx(Ft,{href:`/admin/timetable-lecturers/${C.id}`,className:"no-underline",children:s.jsxs(_e,{className:"hover:shadow-lg transition-shadow cursor-pointer h-full","data-testid":`card-lecturer-schedule-${C.id}`,children:[s.jsx(qe,{className:"pb-3",children:s.jsxs("div",{className:"flex items-start justify-between",children:[s.jsxs("div",{className:"flex-1",children:[s.jsx(Ze,{className:"text-lg","data-testid":`text-name-${C.id}`,children:C.user?.name}),s.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:C.employeeId})]}),s.jsx(Dt,{variant:"default",className:"flex-shrink-0",children:C.isHOD?"HOD":"Lecturer"})]})}),s.jsxs(De,{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-xs text-muted-foreground mb-1",children:"Department"}),s.jsx(Dt,{variant:"outline","data-testid":`badge-dept-${C.id}`,children:C.department?.code})]}),s.jsxs("div",{className:"space-y-2 text-sm",children:[s.jsxs("p",{className:"text-xs text-muted-foreground mb-2",children:[" ",C.user?.email]}),C.user?.phone&&s.jsxs("p",{className:"text-xs text-muted-foreground",children:[" ",C.user?.phone]})]}),s.jsxs("div",{className:"pt-2 border-t",children:[s.jsxs("p",{className:"text-xs text-muted-foreground mb-2 flex items-center gap-1",children:[s.jsx(Li,{className:"w-3 h-3"}),v.length," Schedule",v.length!==1?"s":""]}),v.length>0&&s.jsxs("div",{className:"space-y-1",children:[v.slice(0,2).map((w,b)=>s.jsxs("div",{className:"text-xs bg-blue-50 dark:bg-blue-950 p-2 rounded",children:[s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx(Or,{className:"w-3 h-3"}),w.course?.code]}),s.jsxs("div",{className:"flex items-center gap-1 text-muted-foreground",children:[s.jsx(Il,{className:"w-3 h-3"}),w.room]}),s.jsxs("div",{className:"text-muted-foreground",children:[w.day," ",w.startTime,"-",w.endTime]})]},b)),v.length>2&&s.jsxs("p",{className:"text-xs text-muted-foreground",children:["+",v.length-2," more..."]})]})]})]})]})},C.id)}):s.jsx("div",{className:"col-span-full text-center py-12",children:s.jsx("p",{className:"text-muted-foreground",children:"No lecturers found"})})})]})}const nA=["Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],lp=["08:00","09:00","10:00","11:00","12:00","13:00","14:00","15:00","16:00","17:00"];function rA(){const{id:r}=Sh(),[,a]=No(),[l,d]=T.useState(!1);Wt();const p=parseInt(r||"0"),{data:x,isLoading:E}=st({queryKey:["/api/lecturers",p],enabled:p>0}),{data:C=[],isLoading:v}=st({queryKey:["/api/timetable"]}),{data:w=[]}=st({queryKey:["/api/courses"]}),b=C.filter(A=>A.lecturerId===p);return E?s.jsx(Vt,{className:"h-96 w-full rounded-lg"}):x?s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsxs(Ve,{variant:"outline",onClick:()=>a("/admin/timetable-lecturers"),children:[s.jsx(Ds,{className:"h-4 w-4 mr-2"}),"Back"]}),s.jsxs("div",{className:"flex-1",children:[s.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:x.user?.name}),s.jsxs("p",{className:"text-muted-foreground",children:[x.employeeId,"  ",x.department?.code]})]}),s.jsxs(yr,{open:l,onOpenChange:d,children:[s.jsx(_r,{asChild:!0,children:s.jsxs(Ve,{children:[s.jsx(Ls,{className:"h-4 w-4 mr-2"}),"Add Schedule"]})}),s.jsxs(dr,{className:"max-w-2xl",children:[s.jsx(fr,{children:s.jsxs(hr,{children:["Add Schedule for ",x.user?.name]})}),s.jsx(sA,{lecturerId:p,courses:w,onSuccess:()=>d(!1)})]})]})]}),v?s.jsx(Vt,{className:"h-96 w-full rounded-lg"}):b.length>0?s.jsx("div",{className:"grid gap-3",children:b.map(A=>s.jsx(_e,{className:"hover:shadow-lg transition-shadow","data-testid":`card-schedule-${A.id}`,children:s.jsx(De,{className:"pt-6",children:s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-5 gap-4 items-center",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-xs text-muted-foreground",children:"Day"}),s.jsx("p",{className:"font-semibold",children:A.day})]}),s.jsxs("div",{children:[s.jsxs("p",{className:"text-xs text-muted-foreground flex items-center gap-1",children:[s.jsx(Li,{className:"w-3 h-3"})," Time"]}),s.jsxs("p",{className:"font-mono text-sm",children:[A.startTime," - ",A.endTime]})]}),s.jsxs("div",{children:[s.jsxs("p",{className:"text-xs text-muted-foreground flex items-center gap-1",children:[s.jsx(Or,{className:"w-3 h-3"})," Course"]}),s.jsx("p",{className:"font-semibold text-sm",children:A.course?.code})]}),s.jsxs("div",{children:[s.jsxs("p",{className:"text-xs text-muted-foreground flex items-center gap-1",children:[s.jsx(Il,{className:"w-3 h-3"})," Room"]}),s.jsx("p",{className:"font-semibold text-sm",children:A.room})]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx(Ve,{variant:"outline",size:"sm",className:"flex-1",children:"Edit"}),s.jsx(Ve,{variant:"outline",size:"sm",className:"flex-1",children:"Delete"})]})]})})},A.id))}):s.jsxs("div",{className:"text-center py-12 bg-muted rounded-lg",children:[s.jsx(Li,{className:"w-12 h-12 text-gray-400 mx-auto mb-4"}),s.jsx("p",{className:"text-muted-foreground",children:"No schedules assigned yet"})]})]}):s.jsx("div",{className:"text-center py-12",children:"Lecturer not found"})}function sA({lecturerId:r,courses:a,onSuccess:l}){const[d,p]=T.useState({courseId:"",day:"Monday",startTime:"08:00",endTime:"09:00",room:""}),{toast:x}=Wt(),E=bn({mutationFn:v=>Nn("POST","/api/timetable",{...v,lecturerId:r,courseId:parseInt(v.courseId)}),onSuccess:()=>{on.invalidateQueries({queryKey:["/api/timetable"]}),x({title:"Success",description:"Schedule added"}),l()},onError:v=>{x({title:"Error",description:v.message,variant:"destructive"})}}),C=v=>{if(v.preventDefault(),!d.courseId||!d.room){x({title:"Error",description:"Please fill all fields",variant:"destructive"});return}E.mutate(d)};return s.jsxs("form",{onSubmit:C,className:"space-y-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(Ke,{htmlFor:"course",children:"Course *"}),s.jsxs(er,{value:d.courseId,onValueChange:v=>p({...d,courseId:v}),children:[s.jsx(Wn,{children:s.jsx(tr,{placeholder:"Select course"})}),s.jsx(Gn,{children:a.map(v=>s.jsxs(kn,{value:v.id.toString(),children:[v.code," - ",v.name]},v.id))})]})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(Ke,{htmlFor:"day",children:"Day *"}),s.jsxs(er,{value:d.day,onValueChange:v=>p({...d,day:v}),children:[s.jsx(Wn,{children:s.jsx(tr,{})}),s.jsx(Gn,{children:nA.map(v=>s.jsx(kn,{value:v,children:v},v))})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(Ke,{htmlFor:"room",children:"Room *"}),s.jsx(tt,{id:"room",value:d.room,onChange:v=>p({...d,room:v.target.value}),placeholder:"Lab 101"})]})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(Ke,{children:"Start Time *"}),s.jsxs(er,{value:d.startTime,onValueChange:v=>p({...d,startTime:v}),children:[s.jsx(Wn,{children:s.jsx(tr,{})}),s.jsx(Gn,{children:lp.map(v=>s.jsx(kn,{value:v,children:v},v))})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(Ke,{children:"End Time *"}),s.jsxs(er,{value:d.endTime,onValueChange:v=>p({...d,endTime:v}),children:[s.jsx(Wn,{children:s.jsx(tr,{})}),s.jsx(Gn,{children:lp.map(v=>s.jsx(kn,{value:v,children:v},v))})]})]})]}),s.jsx(Cs,{children:s.jsxs(Ve,{type:"submit",disabled:E.isPending,children:[E.isPending&&s.jsx(Xn,{className:"mr-2 h-4 w-4 animate-spin"}),"Add Schedule"]})})]})}function iA(){const[r,a]=T.useState(""),{data:l=[],isLoading:d}=st({queryKey:["/api/students"]}),{data:p=[]}=st({queryKey:["/api/timetable"]}),{data:x=[]}=st({queryKey:["/api/student-enrollments"]}),E=l.filter(v=>{const w=v.user?.name?.toLowerCase().includes(r.toLowerCase())||!1,b=v.studentId?.toLowerCase().includes(r.toLowerCase())||!1;return w||b}),C=v=>{const b=x.filter(A=>A.studentId===v).map(A=>A.courseId);return p.filter(A=>b.includes(A.courseId))};return s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{children:[s.jsxs("h1",{className:"text-3xl font-bold tracking-tight flex items-center gap-2",children:[s.jsx(Al,{className:"w-8 h-8 text-green-600"}),"Student Timetables"]}),s.jsx("p",{className:"text-muted-foreground mt-2",children:"View and manage student schedules"})]}),s.jsxs("div",{className:"relative w-full",children:[s.jsx(Hi,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-muted-foreground"}),s.jsx(tt,{placeholder:"Search by name or student ID...",value:r,onChange:v=>a(v.target.value),className:"pl-9","data-testid":"input-search-student-schedules"})]}),d?s.jsx("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-3",children:[1,2,3,4,5,6].map(v=>s.jsx(Vt,{className:"h-64 w-full rounded-lg"},v))}):s.jsx("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-3",children:E&&E.length>0?E.map(v=>{const w=C(v.id);return s.jsx(Ft,{href:`/admin/timetable-students/${v.id}`,className:"no-underline",children:s.jsxs(_e,{className:"hover:shadow-lg transition-shadow cursor-pointer h-full","data-testid":`card-student-schedule-${v.id}`,children:[s.jsx(qe,{className:"pb-3",children:s.jsxs("div",{className:"flex items-start justify-between",children:[s.jsxs("div",{className:"flex-1",children:[s.jsx(Ze,{className:"text-lg","data-testid":`text-name-${v.id}`,children:v.name}),s.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:v.studentId})]}),s.jsx(Dt,{variant:"secondary",className:"flex-shrink-0",children:"Student"})]})}),s.jsxs(De,{className:"space-y-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx("p",{className:"text-xs text-muted-foreground",children:"Department"}),s.jsx(Dt,{variant:"outline","data-testid":`badge-dept-${v.id}`,children:v.department?.code})]}),s.jsxs("div",{className:"space-y-1 text-xs",children:[s.jsxs("p",{className:"text-muted-foreground",children:["Program: ",s.jsx("span",{className:"font-medium",children:v.programType==="FT"?"Full-Time":"Part-Time"})]}),s.jsxs("p",{className:"text-muted-foreground",children:["Year: ",s.jsx("span",{className:"font-medium",children:v.intakeYear})]})]}),s.jsxs("div",{className:"pt-2 border-t",children:[s.jsxs("p",{className:"text-xs text-muted-foreground mb-2 flex items-center gap-1",children:[s.jsx(Li,{className:"w-3 h-3"}),w.length," Schedule",w.length!==1?"s":""]}),w.length>0&&s.jsxs("div",{className:"space-y-1",children:[w.slice(0,2).map((b,A)=>s.jsxs("div",{className:"text-xs bg-green-50 dark:bg-green-950 p-2 rounded",children:[s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx(Or,{className:"w-3 h-3"}),b.course?.code]}),s.jsxs("div",{className:"flex items-center gap-1 text-muted-foreground",children:[s.jsx(Il,{className:"w-3 h-3"}),b.room]}),s.jsxs("div",{className:"text-muted-foreground",children:[b.day," ",b.startTime,"-",b.endTime]})]},A)),w.length>2&&s.jsxs("p",{className:"text-xs text-muted-foreground",children:["+",w.length-2," more..."]})]})]})]})]})},v.id)}):s.jsx("div",{className:"col-span-full text-center py-12",children:s.jsx("p",{className:"text-muted-foreground",children:"No students found"})})})]})}function oA(){const{id:r}=Sh(),[,a]=No(),l=parseInt(r||"0"),{data:d,isLoading:p}=st({queryKey:["/api/students",l],enabled:l>0}),{data:x=[],isLoading:E}=st({queryKey:["/api/timetable"]}),{data:C=[]}=st({queryKey:["/api/student-enrollments"]});if(p)return s.jsx(Vt,{className:"h-96 w-full rounded-lg"});if(!d)return s.jsx("div",{className:"text-center py-12",children:"Student not found"});const v=C.filter(A=>A.studentId===l),w=v.map(A=>A.courseId),b=x.filter(A=>w.includes(A.courseId));return s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsxs(Ve,{variant:"outline",onClick:()=>a("/admin/timetable-students"),children:[s.jsx(Ds,{className:"h-4 w-4 mr-2"}),"Back"]}),s.jsxs("div",{className:"flex-1",children:[s.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:d.user?.name}),s.jsxs("p",{className:"text-muted-foreground",children:[d.studentId,"  ",d.department?.code]})]})]}),s.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[s.jsx(_e,{children:s.jsxs(De,{className:"pt-6",children:[s.jsx("p",{className:"text-xs text-muted-foreground mb-1",children:"Program"}),s.jsx("p",{className:"font-semibold",children:d.programType==="FT"?"Full-Time":"Part-Time"})]})}),s.jsx(_e,{children:s.jsxs(De,{className:"pt-6",children:[s.jsx("p",{className:"text-xs text-muted-foreground mb-1",children:"Year"}),s.jsx("p",{className:"font-semibold",children:d.intakeYear})]})}),s.jsx(_e,{children:s.jsxs(De,{className:"pt-6",children:[s.jsx("p",{className:"text-xs text-muted-foreground mb-1",children:"Courses"}),s.jsx("p",{className:"font-semibold",children:v.length})]})}),s.jsx(_e,{children:s.jsxs(De,{className:"pt-6",children:[s.jsx("p",{className:"text-xs text-muted-foreground mb-1",children:"Schedules"}),s.jsx("p",{className:"font-semibold",children:b.length})]})})]}),E?s.jsx(Vt,{className:"h-96 w-full rounded-lg"}):b.length>0?s.jsx("div",{className:"grid gap-3",children:b.map(A=>s.jsx(_e,{className:"hover:shadow-lg transition-shadow","data-testid":`card-schedule-${A.id}`,children:s.jsx(De,{className:"pt-6",children:s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-5 gap-4 items-center",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-xs text-muted-foreground",children:"Day"}),s.jsx("p",{className:"font-semibold",children:A.day})]}),s.jsxs("div",{children:[s.jsxs("p",{className:"text-xs text-muted-foreground flex items-center gap-1",children:[s.jsx(Li,{className:"w-3 h-3"})," Time"]}),s.jsxs("p",{className:"font-mono text-sm",children:[A.startTime," - ",A.endTime]})]}),s.jsxs("div",{children:[s.jsxs("p",{className:"text-xs text-muted-foreground flex items-center gap-1",children:[s.jsx(Or,{className:"w-3 h-3"})," Course"]}),s.jsx("p",{className:"font-semibold text-sm",children:A.course?.code})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-xs text-muted-foreground",children:"Lecturer"}),s.jsx("p",{className:"text-sm",children:A.lecturer?.user?.name})]}),s.jsxs("div",{children:[s.jsxs("p",{className:"text-xs text-muted-foreground flex items-center gap-1",children:[s.jsx(Il,{className:"w-3 h-3"})," Room"]}),s.jsx("p",{className:"font-semibold text-sm",children:A.room})]})]})})},A.id))}):s.jsxs("div",{className:"text-center py-12 bg-muted rounded-lg",children:[s.jsx(Li,{className:"w-12 h-12 text-gray-400 mx-auto mb-4"}),s.jsx("p",{className:"text-muted-foreground",children:"No schedules assigned yet"})]})]})}function aA(){const{user:r}=Sa(),{data:a,isLoading:l}=st({queryKey:["/api/lecturer/stats"]}),d=[{title:"My Courses",value:a?.totalCourses||0,icon:Or,description:"Active courses",href:"/lecturer/courses"},{title:"Students",value:a?.totalStudents||0,icon:Rr,description:"Enrolled students",href:"/lecturer/students"},{title:"Sessions Today",value:a?.sessionsToday||0,icon:Ps,description:"Attendance sessions",href:"/lecturer/attendance"}];return l?s.jsxs("div",{className:"space-y-6",children:[s.jsx(Vt,{className:"h-9 w-64"}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[1,2,3].map(p=>s.jsx(Vt,{className:"h-32"},p))})]}):s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{children:[s.jsxs("h1",{className:"text-3xl font-bold tracking-tight",children:["Welcome back, ",r?.name]}),s.jsx("p",{className:"text-muted-foreground mt-2",children:r?.role==="hod"?"Head of Department":"Lecturer"})]}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:d.map(p=>{const x=p.icon;return s.jsx(Ft,{href:p.href,children:s.jsxs(_e,{className:"hover-elevate active-elevate-2 cursor-pointer transition-all",children:[s.jsxs(qe,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(Ze,{className:"text-sm font-medium",children:p.title}),s.jsx(x,{className:"h-4 w-4 text-muted-foreground"})]}),s.jsxs(De,{children:[s.jsx("div",{className:"text-3xl font-bold",children:p.value}),s.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:p.description})]})]})},p.title)})}),s.jsxs(_e,{children:[s.jsxs(qe,{children:[s.jsx(Ze,{children:"Quick Actions"}),s.jsx(ur,{children:"Common tasks"})]}),s.jsx(De,{children:s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsx(Ft,{href:"/lecturer/attendance/new",children:s.jsxs("div",{className:"flex items-center gap-4 p-4 rounded-md bg-accent/50 hover-elevate active-elevate-2 cursor-pointer transition-colors",children:[s.jsx("div",{className:"h-12 w-12 rounded-md bg-primary/10 flex items-center justify-center",children:s.jsx(mu,{className:"h-6 w-6 text-primary"})}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-medium",children:"Create Attendance Session"}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Display QR code"})]})]})}),s.jsx(Ft,{href:"/lecturer/courses",children:s.jsxs("div",{className:"flex items-center gap-4 p-4 rounded-md bg-accent/50 hover-elevate active-elevate-2 cursor-pointer transition-colors",children:[s.jsx("div",{className:"h-12 w-12 rounded-md bg-primary/10 flex items-center justify-center",children:s.jsx(Or,{className:"h-6 w-6 text-primary"})}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-medium",children:"View Courses"}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Manage courses"})]})]})}),s.jsx(Ft,{href:"/lecturer/attendance",children:s.jsxs("div",{className:"flex items-center gap-4 p-4 rounded-md bg-accent/50 hover-elevate active-elevate-2 cursor-pointer transition-colors",children:[s.jsx("div",{className:"h-12 w-12 rounded-md bg-primary/10 flex items-center justify-center",children:s.jsx(Ps,{className:"h-6 w-6 text-primary"})}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-medium",children:"View Attendance"}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Check records"})]})]})}),s.jsx(Ft,{href:"/lecturer/students",children:s.jsxs("div",{className:"flex items-center gap-4 p-4 rounded-md bg-accent/50 hover-elevate active-elevate-2 cursor-pointer transition-colors",children:[s.jsx("div",{className:"h-12 w-12 rounded-md bg-primary/10 flex items-center justify-center",children:s.jsx(Rr,{className:"h-6 w-6 text-primary"})}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-medium",children:"View Students"}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Class list"})]})]})})]})})]})]})}var lA=Object.defineProperty,Cu=Object.getOwnPropertySymbols,Ly=Object.prototype.hasOwnProperty,Fy=Object.prototype.propertyIsEnumerable,cp=(r,a,l)=>a in r?lA(r,a,{enumerable:!0,configurable:!0,writable:!0,value:l}):r[a]=l,wh=(r,a)=>{for(var l in a||(a={}))Ly.call(a,l)&&cp(r,l,a[l]);if(Cu)for(var l of Cu(a))Fy.call(a,l)&&cp(r,l,a[l]);return r},vh=(r,a)=>{var l={};for(var d in r)Ly.call(r,d)&&a.indexOf(d)<0&&(l[d]=r[d]);if(r!=null&&Cu)for(var d of Cu(r))a.indexOf(d)<0&&Fy.call(r,d)&&(l[d]=r[d]);return l};var bo;(r=>{const a=class St{constructor(v,w,b,A){if(this.version=v,this.errorCorrectionLevel=w,this.modules=[],this.isFunction=[],v<St.MIN_VERSION||v>St.MAX_VERSION)throw new RangeError("Version value out of range");if(A<-1||A>7)throw new RangeError("Mask value out of range");this.size=v*4+17;let O=[];for(let F=0;F<this.size;F++)O.push(!1);for(let F=0;F<this.size;F++)this.modules.push(O.slice()),this.isFunction.push(O.slice());this.drawFunctionPatterns();const P=this.addEccAndInterleave(b);if(this.drawCodewords(P),A==-1){let F=1e9;for(let R=0;R<8;R++){this.applyMask(R),this.drawFormatBits(R);const L=this.getPenaltyScore();L<F&&(A=R,F=L),this.applyMask(R)}}p(0<=A&&A<=7),this.mask=A,this.applyMask(A),this.drawFormatBits(A),this.isFunction=[]}static encodeText(v,w){const b=r.QrSegment.makeSegments(v);return St.encodeSegments(b,w)}static encodeBinary(v,w){const b=r.QrSegment.makeBytes(v);return St.encodeSegments([b],w)}static encodeSegments(v,w,b=1,A=40,O=-1,P=!0){if(!(St.MIN_VERSION<=b&&b<=A&&A<=St.MAX_VERSION)||O<-1||O>7)throw new RangeError("Invalid value");let F,R;for(F=b;;F++){const V=St.getNumDataCodewords(F,w)*8,K=E.getTotalBits(v,F);if(K<=V){R=K;break}if(F>=A)throw new RangeError("Data too long")}for(const V of[St.Ecc.MEDIUM,St.Ecc.QUARTILE,St.Ecc.HIGH])P&&R<=St.getNumDataCodewords(F,V)*8&&(w=V);let L=[];for(const V of v){l(V.mode.modeBits,4,L),l(V.numChars,V.mode.numCharCountBits(F),L);for(const K of V.getData())L.push(K)}p(L.length==R);const G=St.getNumDataCodewords(F,w)*8;p(L.length<=G),l(0,Math.min(4,G-L.length),L),l(0,(8-L.length%8)%8,L),p(L.length%8==0);for(let V=236;L.length<G;V^=253)l(V,8,L);let H=[];for(;H.length*8<L.length;)H.push(0);return L.forEach((V,K)=>H[K>>>3]|=V<<7-(K&7)),new St(F,w,H,O)}getModule(v,w){return 0<=v&&v<this.size&&0<=w&&w<this.size&&this.modules[w][v]}getModules(){return this.modules}drawFunctionPatterns(){for(let b=0;b<this.size;b++)this.setFunctionModule(6,b,b%2==0),this.setFunctionModule(b,6,b%2==0);this.drawFinderPattern(3,3),this.drawFinderPattern(this.size-4,3),this.drawFinderPattern(3,this.size-4);const v=this.getAlignmentPatternPositions(),w=v.length;for(let b=0;b<w;b++)for(let A=0;A<w;A++)b==0&&A==0||b==0&&A==w-1||b==w-1&&A==0||this.drawAlignmentPattern(v[b],v[A]);this.drawFormatBits(0),this.drawVersion()}drawFormatBits(v){const w=this.errorCorrectionLevel.formatBits<<3|v;let b=w;for(let O=0;O<10;O++)b=b<<1^(b>>>9)*1335;const A=(w<<10|b)^21522;p(A>>>15==0);for(let O=0;O<=5;O++)this.setFunctionModule(8,O,d(A,O));this.setFunctionModule(8,7,d(A,6)),this.setFunctionModule(8,8,d(A,7)),this.setFunctionModule(7,8,d(A,8));for(let O=9;O<15;O++)this.setFunctionModule(14-O,8,d(A,O));for(let O=0;O<8;O++)this.setFunctionModule(this.size-1-O,8,d(A,O));for(let O=8;O<15;O++)this.setFunctionModule(8,this.size-15+O,d(A,O));this.setFunctionModule(8,this.size-8,!0)}drawVersion(){if(this.version<7)return;let v=this.version;for(let b=0;b<12;b++)v=v<<1^(v>>>11)*7973;const w=this.version<<12|v;p(w>>>18==0);for(let b=0;b<18;b++){const A=d(w,b),O=this.size-11+b%3,P=Math.floor(b/3);this.setFunctionModule(O,P,A),this.setFunctionModule(P,O,A)}}drawFinderPattern(v,w){for(let b=-4;b<=4;b++)for(let A=-4;A<=4;A++){const O=Math.max(Math.abs(A),Math.abs(b)),P=v+A,F=w+b;0<=P&&P<this.size&&0<=F&&F<this.size&&this.setFunctionModule(P,F,O!=2&&O!=4)}}drawAlignmentPattern(v,w){for(let b=-2;b<=2;b++)for(let A=-2;A<=2;A++)this.setFunctionModule(v+A,w+b,Math.max(Math.abs(A),Math.abs(b))!=1)}setFunctionModule(v,w,b){this.modules[w][v]=b,this.isFunction[w][v]=!0}addEccAndInterleave(v){const w=this.version,b=this.errorCorrectionLevel;if(v.length!=St.getNumDataCodewords(w,b))throw new RangeError("Invalid argument");const A=St.NUM_ERROR_CORRECTION_BLOCKS[b.ordinal][w],O=St.ECC_CODEWORDS_PER_BLOCK[b.ordinal][w],P=Math.floor(St.getNumRawDataModules(w)/8),F=A-P%A,R=Math.floor(P/A);let L=[];const G=St.reedSolomonComputeDivisor(O);for(let V=0,K=0;V<A;V++){let re=v.slice(K,K+R-O+(V<F?0:1));K+=re.length;const le=St.reedSolomonComputeRemainder(re,G);V<F&&re.push(0),L.push(re.concat(le))}let H=[];for(let V=0;V<L[0].length;V++)L.forEach((K,re)=>{(V!=R-O||re>=F)&&H.push(K[V])});return p(H.length==P),H}drawCodewords(v){if(v.length!=Math.floor(St.getNumRawDataModules(this.version)/8))throw new RangeError("Invalid argument");let w=0;for(let b=this.size-1;b>=1;b-=2){b==6&&(b=5);for(let A=0;A<this.size;A++)for(let O=0;O<2;O++){const P=b-O,R=(b+1&2)==0?this.size-1-A:A;!this.isFunction[R][P]&&w<v.length*8&&(this.modules[R][P]=d(v[w>>>3],7-(w&7)),w++)}}p(w==v.length*8)}applyMask(v){if(v<0||v>7)throw new RangeError("Mask value out of range");for(let w=0;w<this.size;w++)for(let b=0;b<this.size;b++){let A;switch(v){case 0:A=(b+w)%2==0;break;case 1:A=w%2==0;break;case 2:A=b%3==0;break;case 3:A=(b+w)%3==0;break;case 4:A=(Math.floor(b/3)+Math.floor(w/2))%2==0;break;case 5:A=b*w%2+b*w%3==0;break;case 6:A=(b*w%2+b*w%3)%2==0;break;case 7:A=((b+w)%2+b*w%3)%2==0;break;default:throw new Error("Unreachable")}!this.isFunction[w][b]&&A&&(this.modules[w][b]=!this.modules[w][b])}}getPenaltyScore(){let v=0;for(let O=0;O<this.size;O++){let P=!1,F=0,R=[0,0,0,0,0,0,0];for(let L=0;L<this.size;L++)this.modules[O][L]==P?(F++,F==5?v+=St.PENALTY_N1:F>5&&v++):(this.finderPenaltyAddHistory(F,R),P||(v+=this.finderPenaltyCountPatterns(R)*St.PENALTY_N3),P=this.modules[O][L],F=1);v+=this.finderPenaltyTerminateAndCount(P,F,R)*St.PENALTY_N3}for(let O=0;O<this.size;O++){let P=!1,F=0,R=[0,0,0,0,0,0,0];for(let L=0;L<this.size;L++)this.modules[L][O]==P?(F++,F==5?v+=St.PENALTY_N1:F>5&&v++):(this.finderPenaltyAddHistory(F,R),P||(v+=this.finderPenaltyCountPatterns(R)*St.PENALTY_N3),P=this.modules[L][O],F=1);v+=this.finderPenaltyTerminateAndCount(P,F,R)*St.PENALTY_N3}for(let O=0;O<this.size-1;O++)for(let P=0;P<this.size-1;P++){const F=this.modules[O][P];F==this.modules[O][P+1]&&F==this.modules[O+1][P]&&F==this.modules[O+1][P+1]&&(v+=St.PENALTY_N2)}let w=0;for(const O of this.modules)w=O.reduce((P,F)=>P+(F?1:0),w);const b=this.size*this.size,A=Math.ceil(Math.abs(w*20-b*10)/b)-1;return p(0<=A&&A<=9),v+=A*St.PENALTY_N4,p(0<=v&&v<=2568888),v}getAlignmentPatternPositions(){if(this.version==1)return[];{const v=Math.floor(this.version/7)+2,w=this.version==32?26:Math.ceil((this.version*4+4)/(v*2-2))*2;let b=[6];for(let A=this.size-7;b.length<v;A-=w)b.splice(1,0,A);return b}}static getNumRawDataModules(v){if(v<St.MIN_VERSION||v>St.MAX_VERSION)throw new RangeError("Version number out of range");let w=(16*v+128)*v+64;if(v>=2){const b=Math.floor(v/7)+2;w-=(25*b-10)*b-55,v>=7&&(w-=36)}return p(208<=w&&w<=29648),w}static getNumDataCodewords(v,w){return Math.floor(St.getNumRawDataModules(v)/8)-St.ECC_CODEWORDS_PER_BLOCK[w.ordinal][v]*St.NUM_ERROR_CORRECTION_BLOCKS[w.ordinal][v]}static reedSolomonComputeDivisor(v){if(v<1||v>255)throw new RangeError("Degree out of range");let w=[];for(let A=0;A<v-1;A++)w.push(0);w.push(1);let b=1;for(let A=0;A<v;A++){for(let O=0;O<w.length;O++)w[O]=St.reedSolomonMultiply(w[O],b),O+1<w.length&&(w[O]^=w[O+1]);b=St.reedSolomonMultiply(b,2)}return w}static reedSolomonComputeRemainder(v,w){let b=w.map(A=>0);for(const A of v){const O=A^b.shift();b.push(0),w.forEach((P,F)=>b[F]^=St.reedSolomonMultiply(P,O))}return b}static reedSolomonMultiply(v,w){if(v>>>8||w>>>8)throw new RangeError("Byte out of range");let b=0;for(let A=7;A>=0;A--)b=b<<1^(b>>>7)*285,b^=(w>>>A&1)*v;return p(b>>>8==0),b}finderPenaltyCountPatterns(v){const w=v[1];p(w<=this.size*3);const b=w>0&&v[2]==w&&v[3]==w*3&&v[4]==w&&v[5]==w;return(b&&v[0]>=w*4&&v[6]>=w?1:0)+(b&&v[6]>=w*4&&v[0]>=w?1:0)}finderPenaltyTerminateAndCount(v,w,b){return v&&(this.finderPenaltyAddHistory(w,b),w=0),w+=this.size,this.finderPenaltyAddHistory(w,b),this.finderPenaltyCountPatterns(b)}finderPenaltyAddHistory(v,w){w[0]==0&&(v+=this.size),w.pop(),w.unshift(v)}};a.MIN_VERSION=1,a.MAX_VERSION=40,a.PENALTY_N1=3,a.PENALTY_N2=3,a.PENALTY_N3=40,a.PENALTY_N4=10,a.ECC_CODEWORDS_PER_BLOCK=[[-1,7,10,15,20,26,18,20,24,30,18,20,24,26,30,22,24,28,30,28,28,28,28,30,30,26,28,30,30,30,30,30,30,30,30,30,30,30,30,30,30],[-1,10,16,26,18,24,16,18,22,22,26,30,22,22,24,24,28,28,26,26,26,26,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28],[-1,13,22,18,26,18,24,18,22,20,24,28,26,24,20,30,24,28,28,26,30,28,30,30,30,30,28,30,30,30,30,30,30,30,30,30,30,30,30,30,30],[-1,17,28,22,16,22,28,26,26,24,28,24,28,22,24,24,30,28,28,26,28,30,24,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30]],a.NUM_ERROR_CORRECTION_BLOCKS=[[-1,1,1,1,1,1,2,2,2,2,4,4,4,4,4,6,6,6,6,7,8,8,9,9,10,12,12,12,13,14,15,16,17,18,19,19,20,21,22,24,25],[-1,1,1,1,2,2,4,4,4,5,5,5,8,9,9,10,10,11,13,14,16,17,17,18,20,21,23,25,26,28,29,31,33,35,37,38,40,43,45,47,49],[-1,1,1,2,2,4,4,6,6,8,8,8,10,12,16,12,17,16,18,21,20,23,23,25,27,29,34,34,35,38,40,43,45,48,51,53,56,59,62,65,68],[-1,1,1,2,4,4,4,5,6,8,8,11,11,16,16,18,16,19,21,25,25,25,34,30,32,35,37,40,42,45,48,51,54,57,60,63,66,70,74,77,81]],r.QrCode=a;function l(C,v,w){if(v<0||v>31||C>>>v)throw new RangeError("Value out of range");for(let b=v-1;b>=0;b--)w.push(C>>>b&1)}function d(C,v){return(C>>>v&1)!=0}function p(C){if(!C)throw new Error("Assertion error")}const x=class xn{constructor(v,w,b){if(this.mode=v,this.numChars=w,this.bitData=b,w<0)throw new RangeError("Invalid argument");this.bitData=b.slice()}static makeBytes(v){let w=[];for(const b of v)l(b,8,w);return new xn(xn.Mode.BYTE,v.length,w)}static makeNumeric(v){if(!xn.isNumeric(v))throw new RangeError("String contains non-numeric characters");let w=[];for(let b=0;b<v.length;){const A=Math.min(v.length-b,3);l(parseInt(v.substring(b,b+A),10),A*3+1,w),b+=A}return new xn(xn.Mode.NUMERIC,v.length,w)}static makeAlphanumeric(v){if(!xn.isAlphanumeric(v))throw new RangeError("String contains unencodable characters in alphanumeric mode");let w=[],b;for(b=0;b+2<=v.length;b+=2){let A=xn.ALPHANUMERIC_CHARSET.indexOf(v.charAt(b))*45;A+=xn.ALPHANUMERIC_CHARSET.indexOf(v.charAt(b+1)),l(A,11,w)}return b<v.length&&l(xn.ALPHANUMERIC_CHARSET.indexOf(v.charAt(b)),6,w),new xn(xn.Mode.ALPHANUMERIC,v.length,w)}static makeSegments(v){return v==""?[]:xn.isNumeric(v)?[xn.makeNumeric(v)]:xn.isAlphanumeric(v)?[xn.makeAlphanumeric(v)]:[xn.makeBytes(xn.toUtf8ByteArray(v))]}static makeEci(v){let w=[];if(v<0)throw new RangeError("ECI assignment value out of range");if(v<128)l(v,8,w);else if(v<16384)l(2,2,w),l(v,14,w);else if(v<1e6)l(6,3,w),l(v,21,w);else throw new RangeError("ECI assignment value out of range");return new xn(xn.Mode.ECI,0,w)}static isNumeric(v){return xn.NUMERIC_REGEX.test(v)}static isAlphanumeric(v){return xn.ALPHANUMERIC_REGEX.test(v)}getData(){return this.bitData.slice()}static getTotalBits(v,w){let b=0;for(const A of v){const O=A.mode.numCharCountBits(w);if(A.numChars>=1<<O)return 1/0;b+=4+O+A.bitData.length}return b}static toUtf8ByteArray(v){v=encodeURI(v);let w=[];for(let b=0;b<v.length;b++)v.charAt(b)!="%"?w.push(v.charCodeAt(b)):(w.push(parseInt(v.substring(b+1,b+3),16)),b+=2);return w}};x.NUMERIC_REGEX=/^[0-9]*$/,x.ALPHANUMERIC_REGEX=/^[A-Z0-9 $%*+.\/:-]*$/,x.ALPHANUMERIC_CHARSET="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ $%*+-./:";let E=x;r.QrSegment=x})(bo||(bo={}));(r=>{(a=>{const l=class{constructor(p,x){this.ordinal=p,this.formatBits=x}};l.LOW=new l(0,1),l.MEDIUM=new l(1,0),l.QUARTILE=new l(2,3),l.HIGH=new l(3,2),a.Ecc=l})(r.QrCode||(r.QrCode={}))})(bo||(bo={}));(r=>{(a=>{const l=class{constructor(p,x){this.modeBits=p,this.numBitsCharCount=x}numCharCountBits(p){return this.numBitsCharCount[Math.floor((p+7)/17)]}};l.NUMERIC=new l(1,[10,12,14]),l.ALPHANUMERIC=new l(2,[9,11,13]),l.BYTE=new l(4,[8,16,16]),l.KANJI=new l(8,[8,10,12]),l.ECI=new l(7,[0,0,0]),a.Mode=l})(r.QrSegment||(r.QrSegment={}))})(bo||(bo={}));var oa=bo;var cA={L:oa.QrCode.Ecc.LOW,M:oa.QrCode.Ecc.MEDIUM,Q:oa.QrCode.Ecc.QUARTILE,H:oa.QrCode.Ecc.HIGH},By=128,Uy="L",Hy="#FFFFFF",Vy="#000000",zy=!1,Wy=1,uA=4,dA=0,fA=.1;function Gy(r,a=0){const l=[];return r.forEach(function(d,p){let x=null;d.forEach(function(E,C){if(!E&&x!==null){l.push(`M${x+a} ${p+a}h${C-x}v1H${x+a}z`),x=null;return}if(C===d.length-1){if(!E)return;x===null?l.push(`M${C+a},${p+a} h1v1H${C+a}z`):l.push(`M${x+a},${p+a} h${C+1-x}v1H${x+a}z`);return}E&&x===null&&(x=C)})}),l.join("")}function Xy(r,a){return r.slice().map((l,d)=>d<a.y||d>=a.y+a.h?l:l.map((p,x)=>x<a.x||x>=a.x+a.w?p:!1))}function hA(r,a,l,d){if(d==null)return null;const p=r.length+l*2,x=Math.floor(a*fA),E=p/a,C=(d.width||x)*E,v=(d.height||x)*E,w=d.x==null?r.length/2-C/2:d.x*E,b=d.y==null?r.length/2-v/2:d.y*E,A=d.opacity==null?1:d.opacity;let O=null;if(d.excavate){let F=Math.floor(w),R=Math.floor(b),L=Math.ceil(C+w-F),G=Math.ceil(v+b-R);O={x:F,y:R,w:L,h:G}}const P=d.crossOrigin;return{x:w,y:b,h:v,w:C,excavation:O,opacity:A,crossOrigin:P}}function mA(r,a){return a!=null?Math.max(Math.floor(a),0):r?uA:dA}function Ky({value:r,level:a,minVersion:l,includeMargin:d,marginSize:p,imageSettings:x,size:E,boostLevel:C}){let v=Kt.useMemo(()=>{const F=(Array.isArray(r)?r:[r]).reduce((R,L)=>(R.push(...oa.QrSegment.makeSegments(L)),R),[]);return oa.QrCode.encodeSegments(F,cA[a],l,void 0,void 0,C)},[r,a,l,C]);const{cells:w,margin:b,numCells:A,calculatedImageSettings:O}=Kt.useMemo(()=>{let P=v.getModules();const F=mA(d,p),R=P.length+F*2,L=hA(P,E,F,x);return{cells:P,margin:F,numCells:R,calculatedImageSettings:L}},[v,E,x,d,p]);return{qrcode:v,margin:b,cells:w,numCells:A,calculatedImageSettings:O}}var pA=(function(){try{new Path2D().addPath(new Path2D)}catch{return!1}return!0})(),xA=Kt.forwardRef(function(a,l){const d=a,{value:p,size:x=By,level:E=Uy,bgColor:C=Hy,fgColor:v=Vy,includeMargin:w=zy,minVersion:b=Wy,boostLevel:A,marginSize:O,imageSettings:P}=d,R=vh(d,["value","size","level","bgColor","fgColor","includeMargin","minVersion","boostLevel","marginSize","imageSettings"]),{style:L}=R,G=vh(R,["style"]),H=P?.src,V=Kt.useRef(null),K=Kt.useRef(null),re=Kt.useCallback(he=>{V.current=he,typeof l=="function"?l(he):l&&(l.current=he)},[l]),[le,Q]=Kt.useState(!1),{margin:fe,cells:se,numCells:Le,calculatedImageSettings:je}=Ky({value:p,level:E,minVersion:b,boostLevel:A,includeMargin:w,marginSize:O,imageSettings:P,size:x});Kt.useEffect(()=>{if(V.current!=null){const he=V.current,W=he.getContext("2d");if(!W)return;let xe=se;const me=K.current,ce=je!=null&&me!==null&&me.complete&&me.naturalHeight!==0&&me.naturalWidth!==0;ce&&je.excavation!=null&&(xe=Xy(se,je.excavation));const ve=window.devicePixelRatio||1;he.height=he.width=x*ve;const Ce=x/Le*ve;W.scale(Ce,Ce),W.fillStyle=C,W.fillRect(0,0,Le,Le),W.fillStyle=v,pA?W.fill(new Path2D(Gy(xe,fe))):se.forEach(function(Z,ue){Z.forEach(function(Ge,Be){Ge&&W.fillRect(Be+fe,ue+fe,1,1)})}),je&&(W.globalAlpha=je.opacity),ce&&W.drawImage(me,je.x+fe,je.y+fe,je.w,je.h)}}),Kt.useEffect(()=>{Q(!1)},[H]);const de=wh({height:x,width:x},L);let Ie=null;return H!=null&&(Ie=Kt.createElement("img",{src:H,key:H,style:{display:"none"},onLoad:()=>{Q(!0)},ref:K,crossOrigin:je?.crossOrigin})),Kt.createElement(Kt.Fragment,null,Kt.createElement("canvas",wh({style:de,height:x,width:x,ref:re,role:"img"},G)),Ie)});xA.displayName="QRCodeCanvas";var Yy=Kt.forwardRef(function(a,l){const d=a,{value:p,size:x=By,level:E=Uy,bgColor:C=Hy,fgColor:v=Vy,includeMargin:w=zy,minVersion:b=Wy,boostLevel:A,title:O,marginSize:P,imageSettings:F}=d,R=vh(d,["value","size","level","bgColor","fgColor","includeMargin","minVersion","boostLevel","title","marginSize","imageSettings"]),{margin:L,cells:G,numCells:H,calculatedImageSettings:V}=Ky({value:p,level:E,minVersion:b,boostLevel:A,includeMargin:w,marginSize:P,imageSettings:F,size:x});let K=G,re=null;F!=null&&V!=null&&(V.excavation!=null&&(K=Xy(G,V.excavation)),re=Kt.createElement("image",{href:F.src,height:V.h,width:V.w,x:V.x+L,y:V.y+L,preserveAspectRatio:"none",opacity:V.opacity,crossOrigin:V.crossOrigin}));const le=Gy(K,L);return Kt.createElement("svg",wh({height:x,width:x,viewBox:`0 0 ${H} ${H}`,ref:l,role:"img"},R),!!O&&Kt.createElement("title",null,O),Kt.createElement("path",{fill:C,d:`M0,0 h${H}v${H}H0z`,shapeRendering:"crispEdges"}),Kt.createElement("path",{fill:v,d:le,shapeRendering:"crispEdges"}),re)});Yy.displayName="QRCodeSVG";function gA(){const[r,a]=T.useState(""),[l,d]=T.useState(null),[p,x]=T.useState(0),{toast:E}=Wt(),{data:C}=st({queryKey:["/api/lecturer/courses"]}),v=bn({mutationFn:async O=>await(await Nn("POST","/api/attendance/create-session",{courseId:O})).json(),onSuccess:O=>{d(O),E({title:"Success",description:"Attendance session created"}),on.invalidateQueries({queryKey:["/api/attendance/sessions"]})},onError:O=>{E({title:"Error",description:O.message||"Failed to create session",variant:"destructive"})}}),w=bn({mutationFn:O=>Nn("POST",`/api/attendance/sessions/${O}/close`),onSuccess:()=>{d(null),E({title:"Success",description:"Session closed"})}});T.useEffect(()=>{if(!l)return;const O=setInterval(()=>{const P=new Date().getTime(),F=new Date(l.expiresAt).getTime(),R=Math.max(0,Math.floor((F-P)/1e3));x(R),R===0&&(d(null),E({title:"Session Expired",description:"The attendance session has expired",variant:"destructive"}))},1e3);return()=>clearInterval(O)},[l,E]);const b=O=>{const P=Math.floor(O/60),F=O%60;return`${P}:${F.toString().padStart(2,"0")}`},A=l?JSON.stringify({sessionId:l.id,token:l.token,expiresAt:l.expiresAt}):"";return s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:"Attendance Session"}),s.jsx("p",{className:"text-muted-foreground mt-2",children:"Create QR code for student attendance"})]}),l?s.jsxs("div",{className:"max-w-2xl mx-auto space-y-6",children:[s.jsxs(_e,{children:[s.jsx(qe,{children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx(Ze,{children:"Active Session"}),s.jsx(ur,{children:"Students can scan this QR code"})]}),s.jsxs(Ve,{variant:"destructive",size:"sm",onClick:()=>w.mutate(l.id),"data-testid":"button-close-session",children:[s.jsx(Ou,{className:"h-4 w-4 mr-2"}),"Close Session"]})]})}),s.jsxs(De,{className:"space-y-6",children:[s.jsx("div",{className:"flex items-center justify-center p-8 bg-white rounded-lg",children:s.jsx(Yy,{value:A,size:300,level:"H",includeMargin:!0,"data-testid":"qr-code"})}),s.jsxs("div",{className:"grid grid-cols-2 gap-4 p-4 bg-accent/50 rounded-lg",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-xs text-muted-foreground",children:"Session ID"}),s.jsx("p",{className:"text-sm font-mono font-medium",children:l.id})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-xs text-muted-foreground",children:"Time Remaining"}),s.jsxs("p",{className:"text-sm font-mono font-medium flex items-center gap-2",children:[s.jsx(Li,{className:"h-4 w-4"}),b(p)]})]})]}),s.jsxs("div",{className:"flex items-center justify-center gap-2 text-sm text-muted-foreground",children:[s.jsx(s3,{className:"h-4 w-4"}),"QR code auto-expires in ",b(p)]})]})]}),s.jsxs(_e,{children:[s.jsxs(qe,{children:[s.jsx(Ze,{children:"Session Stats"}),s.jsx(ur,{children:"Real-time attendance tracking"})]}),s.jsx(De,{children:s.jsxs("div",{className:"text-center py-8",children:[s.jsx("div",{className:"text-4xl font-bold text-primary",children:"0"}),s.jsx("p",{className:"text-sm text-muted-foreground mt-2",children:"Students marked present"})]})})]})]}):s.jsxs(_e,{className:"max-w-2xl mx-auto",children:[s.jsxs(qe,{children:[s.jsx(Ze,{children:"Create New Session"}),s.jsx(ur,{children:"Select a course to start an attendance session"})]}),s.jsxs(De,{className:"space-y-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(Ke,{htmlFor:"course",children:"Course"}),s.jsxs(er,{value:r,onValueChange:a,children:[s.jsx(Wn,{"data-testid":"select-course",children:s.jsx(tr,{placeholder:"Select a course"})}),s.jsx(Gn,{children:C?.map(O=>s.jsxs(kn,{value:O.id.toString(),children:[O.code," - ",O.name]},O.id))})]})]}),s.jsx(Ve,{onClick:()=>v.mutate(parseInt(r)),disabled:!r||v.isPending,className:"w-full","data-testid":"button-create-session",children:v.isPending?s.jsxs(s.Fragment,{children:[s.jsx(Xn,{className:"mr-2 h-4 w-4 animate-spin"}),"Creating Session..."]}):"Create Attendance Session"})]})]})]})}function yA(){return s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:"My Courses"}),s.jsx("p",{className:"text-muted-foreground mt-2",children:"Courses assigned to you"})]}),s.jsxs(_e,{children:[s.jsx(qe,{children:s.jsx(Ze,{children:"Your Courses"})}),s.jsx(De,{children:s.jsx("p",{className:"text-muted-foreground",children:"Courses coming soon"})})]})]})}function wA(){return s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:"Attendance"}),s.jsx("p",{className:"text-muted-foreground mt-2",children:"Manage attendance sessions"})]}),s.jsxs(_e,{children:[s.jsx(qe,{children:s.jsx(Ze,{children:"Attendance Management"})}),s.jsx(De,{children:s.jsx("p",{className:"text-muted-foreground",children:"Attendance management coming soon"})})]})]})}function vA(){return s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:"My Students"}),s.jsx("p",{className:"text-muted-foreground mt-2",children:"Students in your courses"})]}),s.jsxs(_e,{children:[s.jsx(qe,{children:s.jsx(Ze,{children:"Student List"})}),s.jsx(De,{children:s.jsx("p",{className:"text-muted-foreground",children:"Student list coming soon"})})]})]})}function CA(){const{user:r}=Sa(),{data:a,isLoading:l}=st({queryKey:["/api/student/stats"]}),d=[{title:"Attendance Rate",value:`${a?.attendanceRate||0}%`,icon:Ps,description:"This semester",href:"/student/attendance"},{title:"Active Loans",value:a?.activeLoans||0,icon:xo,description:"Library books",href:"/student/library"},{title:"Exam Applications",value:a?.examApplications||0,icon:fu,description:"Pending/approved",href:"/student/exams"}];return l?s.jsxs("div",{className:"space-y-6",children:[s.jsx(Vt,{className:"h-9 w-64"}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[1,2,3].map(p=>s.jsx(Vt,{className:"h-32"},p))})]}):s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{children:[s.jsxs("h1",{className:"text-3xl font-bold tracking-tight",children:["Welcome back, ",r?.name]}),s.jsxs("p",{className:"text-muted-foreground mt-2",children:["Student ID: ",s.jsx("span",{className:"font-mono",children:r?.studentId})]})]}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:d.map(p=>{const x=p.icon;return s.jsx(Ft,{href:p.href,children:s.jsxs(_e,{className:"hover-elevate active-elevate-2 cursor-pointer transition-all",children:[s.jsxs(qe,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(Ze,{className:"text-sm font-medium",children:p.title}),s.jsx(x,{className:"h-4 w-4 text-muted-foreground"})]}),s.jsxs(De,{children:[s.jsx("div",{className:"text-3xl font-bold",children:p.value}),s.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:p.description})]})]})},p.title)})}),s.jsxs(_e,{children:[s.jsxs(qe,{children:[s.jsx(Ze,{children:"Quick Actions"}),s.jsx(ur,{children:"Common tasks"})]}),s.jsx(De,{children:s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsx(Ft,{href:"/student/scan",children:s.jsxs("div",{className:"flex items-center gap-4 p-4 rounded-md bg-accent/50 hover-elevate active-elevate-2 cursor-pointer transition-colors",children:[s.jsx("div",{className:"h-12 w-12 rounded-md bg-primary/10 flex items-center justify-center",children:s.jsx(mu,{className:"h-6 w-6 text-primary"})}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-medium",children:"Scan QR Code"}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Mark attendance"})]})]})}),s.jsx(Ft,{href:"/student/exams",children:s.jsxs("div",{className:"flex items-center gap-4 p-4 rounded-md bg-accent/50 hover-elevate active-elevate-2 cursor-pointer transition-colors",children:[s.jsx("div",{className:"h-12 w-12 rounded-md bg-primary/10 flex items-center justify-center",children:s.jsx(fu,{className:"h-6 w-6 text-primary"})}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-medium",children:"Apply for Exam"}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Submit application"})]})]})}),s.jsx(Ft,{href:"/student/library",children:s.jsxs("div",{className:"flex items-center gap-4 p-4 rounded-md bg-accent/50 hover-elevate active-elevate-2 cursor-pointer transition-colors",children:[s.jsx("div",{className:"h-12 w-12 rounded-md bg-primary/10 flex items-center justify-center",children:s.jsx(xo,{className:"h-6 w-6 text-primary"})}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-medium",children:"Browse Library"}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Find books"})]})]})}),s.jsx(Ft,{href:"/student/attendance",children:s.jsxs("div",{className:"flex items-center gap-4 p-4 rounded-md bg-accent/50 hover-elevate active-elevate-2 cursor-pointer transition-colors",children:[s.jsx("div",{className:"h-12 w-12 rounded-md bg-primary/10 flex items-center justify-center",children:s.jsx(Ps,{className:"h-6 w-6 text-primary"})}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-medium",children:"View Attendance"}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Check history"})]})]})})]})})]})]})}var Ue;(function(r){r[r.QR_CODE=0]="QR_CODE",r[r.AZTEC=1]="AZTEC",r[r.CODABAR=2]="CODABAR",r[r.CODE_39=3]="CODE_39",r[r.CODE_93=4]="CODE_93",r[r.CODE_128=5]="CODE_128",r[r.DATA_MATRIX=6]="DATA_MATRIX",r[r.MAXICODE=7]="MAXICODE",r[r.ITF=8]="ITF",r[r.EAN_13=9]="EAN_13",r[r.EAN_8=10]="EAN_8",r[r.PDF_417=11]="PDF_417",r[r.RSS_14=12]="RSS_14",r[r.RSS_EXPANDED=13]="RSS_EXPANDED",r[r.UPC_A=14]="UPC_A",r[r.UPC_E=15]="UPC_E",r[r.UPC_EAN_EXTENSION=16]="UPC_EAN_EXTENSION"})(Ue||(Ue={}));var up=new Map([[Ue.QR_CODE,"QR_CODE"],[Ue.AZTEC,"AZTEC"],[Ue.CODABAR,"CODABAR"],[Ue.CODE_39,"CODE_39"],[Ue.CODE_93,"CODE_93"],[Ue.CODE_128,"CODE_128"],[Ue.DATA_MATRIX,"DATA_MATRIX"],[Ue.MAXICODE,"MAXICODE"],[Ue.ITF,"ITF"],[Ue.EAN_13,"EAN_13"],[Ue.EAN_8,"EAN_8"],[Ue.PDF_417,"PDF_417"],[Ue.RSS_14,"RSS_14"],[Ue.RSS_EXPANDED,"RSS_EXPANDED"],[Ue.UPC_A,"UPC_A"],[Ue.UPC_E,"UPC_E"],[Ue.UPC_EAN_EXTENSION,"UPC_EAN_EXTENSION"]]),dp;(function(r){r[r.UNKNOWN=0]="UNKNOWN",r[r.URL=1]="URL"})(dp||(dp={}));function EA(r){return Object.values(Ue).includes(r)}var Eu;(function(r){r[r.SCAN_TYPE_CAMERA=0]="SCAN_TYPE_CAMERA",r[r.SCAN_TYPE_FILE=1]="SCAN_TYPE_FILE"})(Eu||(Eu={}));var bA=(function(){function r(){}return r.GITHUB_PROJECT_URL="https://github.com/mebjas/html5-qrcode",r.SCAN_DEFAULT_FPS=2,r.DEFAULT_DISABLE_FLIP=!1,r.DEFAULT_REMEMBER_LAST_CAMERA_USED=!0,r.DEFAULT_SUPPORTED_SCAN_TYPE=[Eu.SCAN_TYPE_CAMERA,Eu.SCAN_TYPE_FILE],r})(),qy=(function(){function r(a,l){this.format=a,this.formatName=l}return r.prototype.toString=function(){return this.formatName},r.create=function(a){if(!up.has(a))throw"".concat(a," not in html5QrcodeSupportedFormatsTextMap");return new r(a,up.get(a))},r})(),fp=(function(){function r(){}return r.createFromText=function(a){var l={text:a};return{decodedText:a,result:l}},r.createFromQrcodeResult=function(a){return{decodedText:a.text,result:a}},r})(),Ch;(function(r){r[r.UNKWOWN_ERROR=0]="UNKWOWN_ERROR",r[r.IMPLEMENTATION_ERROR=1]="IMPLEMENTATION_ERROR",r[r.NO_CODE_FOUND_ERROR=2]="NO_CODE_FOUND_ERROR"})(Ch||(Ch={}));var NA=(function(){function r(){}return r.createFrom=function(a){return{errorMessage:a,type:Ch.UNKWOWN_ERROR}},r})(),SA=(function(){function r(a){this.verbose=a}return r.prototype.log=function(a){this.verbose&&console.log(a)},r.prototype.warn=function(a){this.verbose&&console.warn(a)},r.prototype.logError=function(a,l){(this.verbose||l===!0)&&console.error(a)},r.prototype.logErrors=function(a){if(a.length===0)throw"Logger#logError called without arguments";this.verbose&&console.error(a)},r})();function ni(r){return typeof r>"u"||r===null}var aa=(function(){function r(){}return r.codeParseError=function(a){return"QR code parse error, error = ".concat(a)},r.errorGettingUserMedia=function(a){return"Error getting userMedia, error = ".concat(a)},r.onlyDeviceSupportedError=function(){return"The device doesn't support navigator.mediaDevices , only supported cameraIdOrConfig in this case is deviceId parameter (string)."},r.cameraStreamingNotSupported=function(){return"Camera streaming not supported by the browser."},r.unableToQuerySupportedDevices=function(){return"Unable to query supported devices, unknown error."},r.insecureContextCameraQueryError=function(){return"Camera access is only supported in secure context like https or localhost."},r.scannerPaused=function(){return"Scanner paused"},r})(),Qy=(function(){function r(){}return r.isMediaStreamConstraintsValid=function(a,l){if(typeof a!="object"){var d=typeof a;return l.logError("videoConstraints should be of type object, the "+"object passed is of type ".concat(d,"."),!0),!1}for(var p=["autoGainControl","channelCount","echoCancellation","latency","noiseSuppression","sampleRate","sampleSize","volume"],x=new Set(p),E=Object.keys(a),C=0,v=E;C<v.length;C++){var w=v[C];if(x.has(w))return l.logError("".concat(w," is not supported videoConstaints."),!0),!1}return!0},r})(),wl={exports:{}},AA=wl.exports,hp;function IA(){return hp||(hp=1,(function(r,a){(function(l,d){d(a)})(AA,(function(l){function d(_){return _==null}var p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(_,e){_.__proto__=e}||function(_,e){for(var n in e)e.hasOwnProperty(n)&&(_[n]=e[n])};function x(_,e){p(_,e);function n(){this.constructor=_}_.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}function E(_,e){var n=Object.setPrototypeOf;n?n(_,e):_.__proto__=e}function C(_,e){e===void 0&&(e=_.constructor);var n=Error.captureStackTrace;n&&n(_,e)}var v=(function(_){x(e,_);function e(n){var i=this.constructor,c=_.call(this,n)||this;return Object.defineProperty(c,"name",{value:i.name,enumerable:!1}),E(c,i.prototype),C(c),c}return e})(Error);class w extends v{constructor(e=void 0){super(e),this.message=e}getKind(){return this.constructor.kind}}w.kind="Exception";class b extends w{}b.kind="ArgumentException";class A extends w{}A.kind="IllegalArgumentException";class O{constructor(e){if(this.binarizer=e,e===null)throw new A("Binarizer must be non-null.")}getWidth(){return this.binarizer.getWidth()}getHeight(){return this.binarizer.getHeight()}getBlackRow(e,n){return this.binarizer.getBlackRow(e,n)}getBlackMatrix(){return(this.matrix===null||this.matrix===void 0)&&(this.matrix=this.binarizer.getBlackMatrix()),this.matrix}isCropSupported(){return this.binarizer.getLuminanceSource().isCropSupported()}crop(e,n,i,c){const u=this.binarizer.getLuminanceSource().crop(e,n,i,c);return new O(this.binarizer.createBinarizer(u))}isRotateSupported(){return this.binarizer.getLuminanceSource().isRotateSupported()}rotateCounterClockwise(){const e=this.binarizer.getLuminanceSource().rotateCounterClockwise();return new O(this.binarizer.createBinarizer(e))}rotateCounterClockwise45(){const e=this.binarizer.getLuminanceSource().rotateCounterClockwise45();return new O(this.binarizer.createBinarizer(e))}toString(){try{return this.getBlackMatrix().toString()}catch{return""}}}class P extends w{static getChecksumInstance(){return new P}}P.kind="ChecksumException";class F{constructor(e){this.source=e}getLuminanceSource(){return this.source}getWidth(){return this.source.getWidth()}getHeight(){return this.source.getHeight()}}class R{static arraycopy(e,n,i,c,u){for(;u--;)i[c++]=e[n++]}static currentTimeMillis(){return Date.now()}}class L extends w{}L.kind="IndexOutOfBoundsException";class G extends L{constructor(e=void 0,n=void 0){super(n),this.index=e,this.message=n}}G.kind="ArrayIndexOutOfBoundsException";class H{static fill(e,n){for(let i=0,c=e.length;i<c;i++)e[i]=n}static fillWithin(e,n,i,c){H.rangeCheck(e.length,n,i);for(let u=n;u<i;u++)e[u]=c}static rangeCheck(e,n,i){if(n>i)throw new A("fromIndex("+n+") > toIndex("+i+")");if(n<0)throw new G(n);if(i>e)throw new G(i)}static asList(...e){return e}static create(e,n,i){return Array.from({length:e}).map(u=>Array.from({length:n}).fill(i))}static createInt32Array(e,n,i){return Array.from({length:e}).map(u=>Int32Array.from({length:n}).fill(i))}static equals(e,n){if(!e||!n||!e.length||!n.length||e.length!==n.length)return!1;for(let i=0,c=e.length;i<c;i++)if(e[i]!==n[i])return!1;return!0}static hashCode(e){if(e===null)return 0;let n=1;for(const i of e)n=31*n+i;return n}static fillUint8Array(e,n){for(let i=0;i!==e.length;i++)e[i]=n}static copyOf(e,n){return e.slice(0,n)}static copyOfUint8Array(e,n){if(e.length<=n){const i=new Uint8Array(n);return i.set(e),i}return e.slice(0,n)}static copyOfRange(e,n,i){const c=i-n,u=new Int32Array(c);return R.arraycopy(e,n,u,0,c),u}static binarySearch(e,n,i){i===void 0&&(i=H.numberComparator);let c=0,u=e.length-1;for(;c<=u;){const f=u+c>>1,m=i(n,e[f]);if(m>0)c=f+1;else if(m<0)u=f-1;else return f}return-c-1}static numberComparator(e,n){return e-n}}class V{static numberOfTrailingZeros(e){let n;if(e===0)return 32;let i=31;return n=e<<16,n!==0&&(i-=16,e=n),n=e<<8,n!==0&&(i-=8,e=n),n=e<<4,n!==0&&(i-=4,e=n),n=e<<2,n!==0&&(i-=2,e=n),i-(e<<1>>>31)}static numberOfLeadingZeros(e){if(e===0)return 32;let n=1;return e>>>16||(n+=16,e<<=16),e>>>24||(n+=8,e<<=8),e>>>28||(n+=4,e<<=4),e>>>30||(n+=2,e<<=2),n-=e>>>31,n}static toHexString(e){return e.toString(16)}static toBinaryString(e){return String(parseInt(String(e),2))}static bitCount(e){return e=e-(e>>>1&1431655765),e=(e&858993459)+(e>>>2&858993459),e=e+(e>>>4)&252645135,e=e+(e>>>8),e=e+(e>>>16),e&63}static truncDivision(e,n){return Math.trunc(e/n)}static parseInt(e,n=void 0){return parseInt(e,n)}}V.MIN_VALUE_32_BITS=-2147483648,V.MAX_VALUE=Number.MAX_SAFE_INTEGER;class K{constructor(e,n){e===void 0?(this.size=0,this.bits=new Int32Array(1)):(this.size=e,n==null?this.bits=K.makeArray(e):this.bits=n)}getSize(){return this.size}getSizeInBytes(){return Math.floor((this.size+7)/8)}ensureCapacity(e){if(e>this.bits.length*32){const n=K.makeArray(e);R.arraycopy(this.bits,0,n,0,this.bits.length),this.bits=n}}get(e){return(this.bits[Math.floor(e/32)]&1<<(e&31))!==0}set(e){this.bits[Math.floor(e/32)]|=1<<(e&31)}flip(e){this.bits[Math.floor(e/32)]^=1<<(e&31)}getNextSet(e){const n=this.size;if(e>=n)return n;const i=this.bits;let c=Math.floor(e/32),u=i[c];u&=~((1<<(e&31))-1);const f=i.length;for(;u===0;){if(++c===f)return n;u=i[c]}const m=c*32+V.numberOfTrailingZeros(u);return m>n?n:m}getNextUnset(e){const n=this.size;if(e>=n)return n;const i=this.bits;let c=Math.floor(e/32),u=~i[c];u&=~((1<<(e&31))-1);const f=i.length;for(;u===0;){if(++c===f)return n;u=~i[c]}const m=c*32+V.numberOfTrailingZeros(u);return m>n?n:m}setBulk(e,n){this.bits[Math.floor(e/32)]=n}setRange(e,n){if(n<e||e<0||n>this.size)throw new A;if(n===e)return;n--;const i=Math.floor(e/32),c=Math.floor(n/32),u=this.bits;for(let f=i;f<=c;f++){const m=f>i?0:e&31,N=(2<<(f<c?31:n&31))-(1<<m);u[f]|=N}}clear(){const e=this.bits.length,n=this.bits;for(let i=0;i<e;i++)n[i]=0}isRange(e,n,i){if(n<e||e<0||n>this.size)throw new A;if(n===e)return!0;n--;const c=Math.floor(e/32),u=Math.floor(n/32),f=this.bits;for(let m=c;m<=u;m++){const y=m>c?0:e&31,j=(2<<(m<u?31:n&31))-(1<<y)&4294967295;if((f[m]&j)!==(i?j:0))return!1}return!0}appendBit(e){this.ensureCapacity(this.size+1),e&&(this.bits[Math.floor(this.size/32)]|=1<<(this.size&31)),this.size++}appendBits(e,n){if(n<0||n>32)throw new A("Num bits must be between 0 and 32");this.ensureCapacity(this.size+n);for(let i=n;i>0;i--)this.appendBit((e>>i-1&1)===1)}appendBitArray(e){const n=e.size;this.ensureCapacity(this.size+n);for(let i=0;i<n;i++)this.appendBit(e.get(i))}xor(e){if(this.size!==e.size)throw new A("Sizes don't match");const n=this.bits;for(let i=0,c=n.length;i<c;i++)n[i]^=e.bits[i]}toBytes(e,n,i,c){for(let u=0;u<c;u++){let f=0;for(let m=0;m<8;m++)this.get(e)&&(f|=1<<7-m),e++;n[i+u]=f}}getBitArray(){return this.bits}reverse(){const e=new Int32Array(this.bits.length),n=Math.floor((this.size-1)/32),i=n+1,c=this.bits;for(let u=0;u<i;u++){let f=c[u];f=f>>1&1431655765|(f&1431655765)<<1,f=f>>2&858993459|(f&858993459)<<2,f=f>>4&252645135|(f&252645135)<<4,f=f>>8&16711935|(f&16711935)<<8,f=f>>16&65535|(f&65535)<<16,e[n-u]=f}if(this.size!==i*32){const u=i*32-this.size;let f=e[0]>>>u;for(let m=1;m<i;m++){const y=e[m];f|=y<<32-u,e[m-1]=f,f=y>>>u}e[i-1]=f}this.bits=e}static makeArray(e){return new Int32Array(Math.floor((e+31)/32))}equals(e){if(!(e instanceof K))return!1;const n=e;return this.size===n.size&&H.equals(this.bits,n.bits)}hashCode(){return 31*this.size+H.hashCode(this.bits)}toString(){let e="";for(let n=0,i=this.size;n<i;n++)(n&7)===0&&(e+=" "),e+=this.get(n)?"X":".";return e}clone(){return new K(this.size,this.bits.slice())}}var re;(function(_){_[_.OTHER=0]="OTHER",_[_.PURE_BARCODE=1]="PURE_BARCODE",_[_.POSSIBLE_FORMATS=2]="POSSIBLE_FORMATS",_[_.TRY_HARDER=3]="TRY_HARDER",_[_.CHARACTER_SET=4]="CHARACTER_SET",_[_.ALLOWED_LENGTHS=5]="ALLOWED_LENGTHS",_[_.ASSUME_CODE_39_CHECK_DIGIT=6]="ASSUME_CODE_39_CHECK_DIGIT",_[_.ASSUME_GS1=7]="ASSUME_GS1",_[_.RETURN_CODABAR_START_END=8]="RETURN_CODABAR_START_END",_[_.NEED_RESULT_POINT_CALLBACK=9]="NEED_RESULT_POINT_CALLBACK",_[_.ALLOWED_EAN_EXTENSIONS=10]="ALLOWED_EAN_EXTENSIONS"})(re||(re={}));var le=re;class Q extends w{static getFormatInstance(){return new Q}}Q.kind="FormatException";var fe;(function(_){_[_.Cp437=0]="Cp437",_[_.ISO8859_1=1]="ISO8859_1",_[_.ISO8859_2=2]="ISO8859_2",_[_.ISO8859_3=3]="ISO8859_3",_[_.ISO8859_4=4]="ISO8859_4",_[_.ISO8859_5=5]="ISO8859_5",_[_.ISO8859_6=6]="ISO8859_6",_[_.ISO8859_7=7]="ISO8859_7",_[_.ISO8859_8=8]="ISO8859_8",_[_.ISO8859_9=9]="ISO8859_9",_[_.ISO8859_10=10]="ISO8859_10",_[_.ISO8859_11=11]="ISO8859_11",_[_.ISO8859_13=12]="ISO8859_13",_[_.ISO8859_14=13]="ISO8859_14",_[_.ISO8859_15=14]="ISO8859_15",_[_.ISO8859_16=15]="ISO8859_16",_[_.SJIS=16]="SJIS",_[_.Cp1250=17]="Cp1250",_[_.Cp1251=18]="Cp1251",_[_.Cp1252=19]="Cp1252",_[_.Cp1256=20]="Cp1256",_[_.UnicodeBigUnmarked=21]="UnicodeBigUnmarked",_[_.UTF8=22]="UTF8",_[_.ASCII=23]="ASCII",_[_.Big5=24]="Big5",_[_.GB18030=25]="GB18030",_[_.EUC_KR=26]="EUC_KR"})(fe||(fe={}));class se{constructor(e,n,i,...c){this.valueIdentifier=e,this.name=i,typeof n=="number"?this.values=Int32Array.from([n]):this.values=n,this.otherEncodingNames=c,se.VALUE_IDENTIFIER_TO_ECI.set(e,this),se.NAME_TO_ECI.set(i,this);const u=this.values;for(let f=0,m=u.length;f!==m;f++){const y=u[f];se.VALUES_TO_ECI.set(y,this)}for(const f of c)se.NAME_TO_ECI.set(f,this)}getValueIdentifier(){return this.valueIdentifier}getName(){return this.name}getValue(){return this.values[0]}static getCharacterSetECIByValue(e){if(e<0||e>=900)throw new Q("incorect value");const n=se.VALUES_TO_ECI.get(e);if(n===void 0)throw new Q("incorect value");return n}static getCharacterSetECIByName(e){const n=se.NAME_TO_ECI.get(e);if(n===void 0)throw new Q("incorect value");return n}equals(e){if(!(e instanceof se))return!1;const n=e;return this.getName()===n.getName()}}se.VALUE_IDENTIFIER_TO_ECI=new Map,se.VALUES_TO_ECI=new Map,se.NAME_TO_ECI=new Map,se.Cp437=new se(fe.Cp437,Int32Array.from([0,2]),"Cp437"),se.ISO8859_1=new se(fe.ISO8859_1,Int32Array.from([1,3]),"ISO-8859-1","ISO88591","ISO8859_1"),se.ISO8859_2=new se(fe.ISO8859_2,4,"ISO-8859-2","ISO88592","ISO8859_2"),se.ISO8859_3=new se(fe.ISO8859_3,5,"ISO-8859-3","ISO88593","ISO8859_3"),se.ISO8859_4=new se(fe.ISO8859_4,6,"ISO-8859-4","ISO88594","ISO8859_4"),se.ISO8859_5=new se(fe.ISO8859_5,7,"ISO-8859-5","ISO88595","ISO8859_5"),se.ISO8859_6=new se(fe.ISO8859_6,8,"ISO-8859-6","ISO88596","ISO8859_6"),se.ISO8859_7=new se(fe.ISO8859_7,9,"ISO-8859-7","ISO88597","ISO8859_7"),se.ISO8859_8=new se(fe.ISO8859_8,10,"ISO-8859-8","ISO88598","ISO8859_8"),se.ISO8859_9=new se(fe.ISO8859_9,11,"ISO-8859-9","ISO88599","ISO8859_9"),se.ISO8859_10=new se(fe.ISO8859_10,12,"ISO-8859-10","ISO885910","ISO8859_10"),se.ISO8859_11=new se(fe.ISO8859_11,13,"ISO-8859-11","ISO885911","ISO8859_11"),se.ISO8859_13=new se(fe.ISO8859_13,15,"ISO-8859-13","ISO885913","ISO8859_13"),se.ISO8859_14=new se(fe.ISO8859_14,16,"ISO-8859-14","ISO885914","ISO8859_14"),se.ISO8859_15=new se(fe.ISO8859_15,17,"ISO-8859-15","ISO885915","ISO8859_15"),se.ISO8859_16=new se(fe.ISO8859_16,18,"ISO-8859-16","ISO885916","ISO8859_16"),se.SJIS=new se(fe.SJIS,20,"SJIS","Shift_JIS"),se.Cp1250=new se(fe.Cp1250,21,"Cp1250","windows-1250"),se.Cp1251=new se(fe.Cp1251,22,"Cp1251","windows-1251"),se.Cp1252=new se(fe.Cp1252,23,"Cp1252","windows-1252"),se.Cp1256=new se(fe.Cp1256,24,"Cp1256","windows-1256"),se.UnicodeBigUnmarked=new se(fe.UnicodeBigUnmarked,25,"UnicodeBigUnmarked","UTF-16BE","UnicodeBig"),se.UTF8=new se(fe.UTF8,26,"UTF8","UTF-8"),se.ASCII=new se(fe.ASCII,Int32Array.from([27,170]),"ASCII","US-ASCII"),se.Big5=new se(fe.Big5,28,"Big5"),se.GB18030=new se(fe.GB18030,29,"GB18030","GB2312","EUC_CN","GBK"),se.EUC_KR=new se(fe.EUC_KR,30,"EUC_KR","EUC-KR");class Le extends w{}Le.kind="UnsupportedOperationException";class je{static decode(e,n){const i=this.encodingName(n);return this.customDecoder?this.customDecoder(e,i):typeof TextDecoder>"u"||this.shouldDecodeOnFallback(i)?this.decodeFallback(e,i):new TextDecoder(i).decode(e)}static shouldDecodeOnFallback(e){return!je.isBrowser()&&e==="ISO-8859-1"}static encode(e,n){const i=this.encodingName(n);return this.customEncoder?this.customEncoder(e,i):typeof TextEncoder>"u"?this.encodeFallback(e):new TextEncoder().encode(e)}static isBrowser(){return typeof window<"u"&&{}.toString.call(window)==="[object Window]"}static encodingName(e){return typeof e=="string"?e:e.getName()}static encodingCharacterSet(e){return e instanceof se?e:se.getCharacterSetECIByName(e)}static decodeFallback(e,n){const i=this.encodingCharacterSet(n);if(je.isDecodeFallbackSupported(i)){let c="";for(let u=0,f=e.length;u<f;u++){let m=e[u].toString(16);m.length<2&&(m="0"+m),c+="%"+m}return decodeURIComponent(c)}if(i.equals(se.UnicodeBigUnmarked))return String.fromCharCode.apply(null,new Uint16Array(e.buffer));throw new Le(`Encoding ${this.encodingName(n)} not supported by fallback.`)}static isDecodeFallbackSupported(e){return e.equals(se.UTF8)||e.equals(se.ISO8859_1)||e.equals(se.ASCII)}static encodeFallback(e){const i=btoa(unescape(encodeURIComponent(e))).split(""),c=[];for(let u=0;u<i.length;u++)c.push(i[u].charCodeAt(0));return new Uint8Array(c)}}class de{static castAsNonUtf8Char(e,n=null){const i=n?n.getName():this.ISO88591;return je.decode(new Uint8Array([e]),i)}static guessEncoding(e,n){if(n!=null&&n.get(le.CHARACTER_SET)!==void 0)return n.get(le.CHARACTER_SET).toString();const i=e.length;let c=!0,u=!0,f=!0,m=0,y=0,N=0,j=0,D=0,k=0,U=0,X=0,q=0,J=0,ie=0;const be=e.length>3&&e[0]===239&&e[1]===187&&e[2]===191;for(let Ne=0;Ne<i&&(c||u||f);Ne++){const ye=e[Ne]&255;f&&(m>0?(ye&128)===0?f=!1:m--:(ye&128)!==0&&((ye&64)===0?f=!1:(m++,(ye&32)===0?y++:(m++,(ye&16)===0?N++:(m++,(ye&8)===0?j++:f=!1))))),c&&(ye>127&&ye<160?c=!1:ye>159&&(ye<192||ye===215||ye===247)&&ie++),u&&(D>0?ye<64||ye===127||ye>252?u=!1:D--:ye===128||ye===160||ye>239?u=!1:ye>160&&ye<224?(k++,X=0,U++,U>q&&(q=U)):ye>127?(D++,U=0,X++,X>J&&(J=X)):(U=0,X=0))}return f&&m>0&&(f=!1),u&&D>0&&(u=!1),f&&(be||y+N+j>0)?de.UTF8:u&&(de.ASSUME_SHIFT_JIS||q>=3||J>=3)?de.SHIFT_JIS:c&&u?q===2&&k===2||ie*10>=i?de.SHIFT_JIS:de.ISO88591:c?de.ISO88591:u?de.SHIFT_JIS:f?de.UTF8:de.PLATFORM_DEFAULT_ENCODING}static format(e,...n){let i=-1;function c(f,m,y,N,j,D){if(f==="%%")return"%";if(n[++i]===void 0)return;f=N?parseInt(N.substr(1)):void 0;let k=j?parseInt(j.substr(1)):void 0,U;switch(D){case"s":U=n[i];break;case"c":U=n[i][0];break;case"f":U=parseFloat(n[i]).toFixed(f);break;case"p":U=parseFloat(n[i]).toPrecision(f);break;case"e":U=parseFloat(n[i]).toExponential(f);break;case"x":U=parseInt(n[i]).toString(k||16);break;case"d":U=parseFloat(parseInt(n[i],k||10).toPrecision(f)).toFixed(0);break}U=typeof U=="object"?JSON.stringify(U):(+U).toString(k);let X=parseInt(y),q=y&&y[0]+""=="0"?"0":" ";for(;U.length<X;)U=m!==void 0?U+q:q+U;return U}let u=/%(-)?(0?[0-9]+)?([.][0-9]+)?([#][0-9]+)?([scfpexd%])/g;return e.replace(u,c)}static getBytes(e,n){return je.encode(e,n)}static getCharCode(e,n=0){return e.charCodeAt(n)}static getCharAt(e){return String.fromCharCode(e)}}de.SHIFT_JIS=se.SJIS.getName(),de.GB2312="GB2312",de.ISO88591=se.ISO8859_1.getName(),de.EUC_JP="EUC_JP",de.UTF8=se.UTF8.getName(),de.PLATFORM_DEFAULT_ENCODING=de.UTF8,de.ASSUME_SHIFT_JIS=!1;class Ie{constructor(e=""){this.value=e}enableDecoding(e){return this.encoding=e,this}append(e){return typeof e=="string"?this.value+=e.toString():this.encoding?this.value+=de.castAsNonUtf8Char(e,this.encoding):this.value+=String.fromCharCode(e),this}appendChars(e,n,i){for(let c=n;n<n+i;c++)this.append(e[c]);return this}length(){return this.value.length}charAt(e){return this.value.charAt(e)}deleteCharAt(e){this.value=this.value.substr(0,e)+this.value.substring(e+1)}setCharAt(e,n){this.value=this.value.substr(0,e)+n+this.value.substr(e+1)}substring(e,n){return this.value.substring(e,n)}setLengthToZero(){this.value=""}toString(){return this.value}insert(e,n){this.value=this.value.substr(0,e)+n+this.value.substr(e+n.length)}}class he{constructor(e,n,i,c){if(this.width=e,this.height=n,this.rowSize=i,this.bits=c,n==null&&(n=e),this.height=n,e<1||n<1)throw new A("Both dimensions must be greater than 0");i==null&&(i=Math.floor((e+31)/32)),this.rowSize=i,c==null&&(this.bits=new Int32Array(this.rowSize*this.height))}static parseFromBooleanArray(e){const n=e.length,i=e[0].length,c=new he(i,n);for(let u=0;u<n;u++){const f=e[u];for(let m=0;m<i;m++)f[m]&&c.set(m,u)}return c}static parseFromString(e,n,i){if(e===null)throw new A("stringRepresentation cannot be null");const c=new Array(e.length);let u=0,f=0,m=-1,y=0,N=0;for(;N<e.length;)if(e.charAt(N)===`
`||e.charAt(N)==="\r"){if(u>f){if(m===-1)m=u-f;else if(u-f!==m)throw new A("row lengths do not match");f=u,y++}N++}else if(e.substring(N,N+n.length)===n)N+=n.length,c[u]=!0,u++;else if(e.substring(N,N+i.length)===i)N+=i.length,c[u]=!1,u++;else throw new A("illegal character encountered: "+e.substring(N));if(u>f){if(m===-1)m=u-f;else if(u-f!==m)throw new A("row lengths do not match");y++}const j=new he(m,y);for(let D=0;D<u;D++)c[D]&&j.set(Math.floor(D%m),Math.floor(D/m));return j}get(e,n){const i=n*this.rowSize+Math.floor(e/32);return(this.bits[i]>>>(e&31)&1)!==0}set(e,n){const i=n*this.rowSize+Math.floor(e/32);this.bits[i]|=1<<(e&31)&4294967295}unset(e,n){const i=n*this.rowSize+Math.floor(e/32);this.bits[i]&=~(1<<(e&31)&4294967295)}flip(e,n){const i=n*this.rowSize+Math.floor(e/32);this.bits[i]^=1<<(e&31)&4294967295}xor(e){if(this.width!==e.getWidth()||this.height!==e.getHeight()||this.rowSize!==e.getRowSize())throw new A("input matrix dimensions do not match");const n=new K(Math.floor(this.width/32)+1),i=this.rowSize,c=this.bits;for(let u=0,f=this.height;u<f;u++){const m=u*i,y=e.getRow(u,n).getBitArray();for(let N=0;N<i;N++)c[m+N]^=y[N]}}clear(){const e=this.bits,n=e.length;for(let i=0;i<n;i++)e[i]=0}setRegion(e,n,i,c){if(n<0||e<0)throw new A("Left and top must be nonnegative");if(c<1||i<1)throw new A("Height and width must be at least 1");const u=e+i,f=n+c;if(f>this.height||u>this.width)throw new A("The region must fit inside the matrix");const m=this.rowSize,y=this.bits;for(let N=n;N<f;N++){const j=N*m;for(let D=e;D<u;D++)y[j+Math.floor(D/32)]|=1<<(D&31)&4294967295}}getRow(e,n){n==null||n.getSize()<this.width?n=new K(this.width):n.clear();const i=this.rowSize,c=this.bits,u=e*i;for(let f=0;f<i;f++)n.setBulk(f*32,c[u+f]);return n}setRow(e,n){R.arraycopy(n.getBitArray(),0,this.bits,e*this.rowSize,this.rowSize)}rotate180(){const e=this.getWidth(),n=this.getHeight();let i=new K(e),c=new K(e);for(let u=0,f=Math.floor((n+1)/2);u<f;u++)i=this.getRow(u,i),c=this.getRow(n-1-u,c),i.reverse(),c.reverse(),this.setRow(u,c),this.setRow(n-1-u,i)}getEnclosingRectangle(){const e=this.width,n=this.height,i=this.rowSize,c=this.bits;let u=e,f=n,m=-1,y=-1;for(let N=0;N<n;N++)for(let j=0;j<i;j++){const D=c[N*i+j];if(D!==0){if(N<f&&(f=N),N>y&&(y=N),j*32<u){let k=0;for(;(D<<31-k&4294967295)===0;)k++;j*32+k<u&&(u=j*32+k)}if(j*32+31>m){let k=31;for(;!(D>>>k);)k--;j*32+k>m&&(m=j*32+k)}}}return m<u||y<f?null:Int32Array.from([u,f,m-u+1,y-f+1])}getTopLeftOnBit(){const e=this.rowSize,n=this.bits;let i=0;for(;i<n.length&&n[i]===0;)i++;if(i===n.length)return null;const c=i/e;let u=i%e*32;const f=n[i];let m=0;for(;(f<<31-m&4294967295)===0;)m++;return u+=m,Int32Array.from([u,c])}getBottomRightOnBit(){const e=this.rowSize,n=this.bits;let i=n.length-1;for(;i>=0&&n[i]===0;)i--;if(i<0)return null;const c=Math.floor(i/e);let u=Math.floor(i%e)*32;const f=n[i];let m=31;for(;!(f>>>m);)m--;return u+=m,Int32Array.from([u,c])}getWidth(){return this.width}getHeight(){return this.height}getRowSize(){return this.rowSize}equals(e){if(!(e instanceof he))return!1;const n=e;return this.width===n.width&&this.height===n.height&&this.rowSize===n.rowSize&&H.equals(this.bits,n.bits)}hashCode(){let e=this.width;return e=31*e+this.width,e=31*e+this.height,e=31*e+this.rowSize,e=31*e+H.hashCode(this.bits),e}toString(e="X ",n="  ",i=`
`){return this.buildToString(e,n,i)}buildToString(e,n,i){let c=new Ie;for(let u=0,f=this.height;u<f;u++){for(let m=0,y=this.width;m<y;m++)c.append(this.get(m,u)?e:n);c.append(i)}return c.toString()}clone(){return new he(this.width,this.height,this.rowSize,this.bits.slice())}}class W extends w{static getNotFoundInstance(){return new W}}W.kind="NotFoundException";class xe extends F{constructor(e){super(e),this.luminances=xe.EMPTY,this.buckets=new Int32Array(xe.LUMINANCE_BUCKETS)}getBlackRow(e,n){const i=this.getLuminanceSource(),c=i.getWidth();n==null||n.getSize()<c?n=new K(c):n.clear(),this.initArrays(c);const u=i.getRow(e,this.luminances),f=this.buckets;for(let y=0;y<c;y++)f[(u[y]&255)>>xe.LUMINANCE_SHIFT]++;const m=xe.estimateBlackPoint(f);if(c<3)for(let y=0;y<c;y++)(u[y]&255)<m&&n.set(y);else{let y=u[0]&255,N=u[1]&255;for(let j=1;j<c-1;j++){const D=u[j+1]&255;(N*4-y-D)/2<m&&n.set(j),y=N,N=D}}return n}getBlackMatrix(){const e=this.getLuminanceSource(),n=e.getWidth(),i=e.getHeight(),c=new he(n,i);this.initArrays(n);const u=this.buckets;for(let y=1;y<5;y++){const N=Math.floor(i*y/5),j=e.getRow(N,this.luminances),D=Math.floor(n*4/5);for(let k=Math.floor(n/5);k<D;k++){const U=j[k]&255;u[U>>xe.LUMINANCE_SHIFT]++}}const f=xe.estimateBlackPoint(u),m=e.getMatrix();for(let y=0;y<i;y++){const N=y*n;for(let j=0;j<n;j++)(m[N+j]&255)<f&&c.set(j,y)}return c}createBinarizer(e){return new xe(e)}initArrays(e){this.luminances.length<e&&(this.luminances=new Uint8ClampedArray(e));const n=this.buckets;for(let i=0;i<xe.LUMINANCE_BUCKETS;i++)n[i]=0}static estimateBlackPoint(e){const n=e.length;let i=0,c=0,u=0;for(let j=0;j<n;j++)e[j]>u&&(c=j,u=e[j]),e[j]>i&&(i=e[j]);let f=0,m=0;for(let j=0;j<n;j++){const D=j-c,k=e[j]*D*D;k>m&&(f=j,m=k)}if(c>f){const j=c;c=f,f=j}if(f-c<=n/16)throw new W;let y=f-1,N=-1;for(let j=f-1;j>c;j--){const D=j-c,k=D*D*(f-j)*(i-e[j]);k>N&&(y=j,N=k)}return y<<xe.LUMINANCE_SHIFT}}xe.LUMINANCE_BITS=5,xe.LUMINANCE_SHIFT=8-xe.LUMINANCE_BITS,xe.LUMINANCE_BUCKETS=1<<xe.LUMINANCE_BITS,xe.EMPTY=Uint8ClampedArray.from([0]);class me extends xe{constructor(e){super(e),this.matrix=null}getBlackMatrix(){if(this.matrix!==null)return this.matrix;const e=this.getLuminanceSource(),n=e.getWidth(),i=e.getHeight();if(n>=me.MINIMUM_DIMENSION&&i>=me.MINIMUM_DIMENSION){const c=e.getMatrix();let u=n>>me.BLOCK_SIZE_POWER;(n&me.BLOCK_SIZE_MASK)!==0&&u++;let f=i>>me.BLOCK_SIZE_POWER;(i&me.BLOCK_SIZE_MASK)!==0&&f++;const m=me.calculateBlackPoints(c,u,f,n,i),y=new he(n,i);me.calculateThresholdForBlock(c,u,f,n,i,m,y),this.matrix=y}else this.matrix=super.getBlackMatrix();return this.matrix}createBinarizer(e){return new me(e)}static calculateThresholdForBlock(e,n,i,c,u,f,m){const y=u-me.BLOCK_SIZE,N=c-me.BLOCK_SIZE;for(let j=0;j<i;j++){let D=j<<me.BLOCK_SIZE_POWER;D>y&&(D=y);const k=me.cap(j,2,i-3);for(let U=0;U<n;U++){let X=U<<me.BLOCK_SIZE_POWER;X>N&&(X=N);const q=me.cap(U,2,n-3);let J=0;for(let be=-2;be<=2;be++){const Ne=f[k+be];J+=Ne[q-2]+Ne[q-1]+Ne[q]+Ne[q+1]+Ne[q+2]}const ie=J/25;me.thresholdBlock(e,X,D,ie,c,m)}}}static cap(e,n,i){return e<n?n:e>i?i:e}static thresholdBlock(e,n,i,c,u,f){for(let m=0,y=i*u+n;m<me.BLOCK_SIZE;m++,y+=u)for(let N=0;N<me.BLOCK_SIZE;N++)(e[y+N]&255)<=c&&f.set(n+N,i+m)}static calculateBlackPoints(e,n,i,c,u){const f=u-me.BLOCK_SIZE,m=c-me.BLOCK_SIZE,y=new Array(i);for(let N=0;N<i;N++){y[N]=new Int32Array(n);let j=N<<me.BLOCK_SIZE_POWER;j>f&&(j=f);for(let D=0;D<n;D++){let k=D<<me.BLOCK_SIZE_POWER;k>m&&(k=m);let U=0,X=255,q=0;for(let ie=0,be=j*c+k;ie<me.BLOCK_SIZE;ie++,be+=c){for(let Ne=0;Ne<me.BLOCK_SIZE;Ne++){const ye=e[be+Ne]&255;U+=ye,ye<X&&(X=ye),ye>q&&(q=ye)}if(q-X>me.MIN_DYNAMIC_RANGE)for(ie++,be+=c;ie<me.BLOCK_SIZE;ie++,be+=c)for(let Ne=0;Ne<me.BLOCK_SIZE;Ne++)U+=e[be+Ne]&255}let J=U>>me.BLOCK_SIZE_POWER*2;if(q-X<=me.MIN_DYNAMIC_RANGE&&(J=X/2,N>0&&D>0)){const ie=(y[N-1][D]+2*y[N][D-1]+y[N-1][D-1])/4;X<ie&&(J=ie)}y[N][D]=J}}return y}}me.BLOCK_SIZE_POWER=3,me.BLOCK_SIZE=1<<me.BLOCK_SIZE_POWER,me.BLOCK_SIZE_MASK=me.BLOCK_SIZE-1,me.MINIMUM_DIMENSION=me.BLOCK_SIZE*5,me.MIN_DYNAMIC_RANGE=24;class ce{constructor(e,n){this.width=e,this.height=n}getWidth(){return this.width}getHeight(){return this.height}isCropSupported(){return!1}crop(e,n,i,c){throw new Le("This luminance source does not support cropping.")}isRotateSupported(){return!1}rotateCounterClockwise(){throw new Le("This luminance source does not support rotation by 90 degrees.")}rotateCounterClockwise45(){throw new Le("This luminance source does not support rotation by 45 degrees.")}toString(){const e=new Uint8ClampedArray(this.width);let n=new Ie;for(let i=0;i<this.height;i++){const c=this.getRow(i,e);for(let u=0;u<this.width;u++){const f=c[u]&255;let m;f<64?m="#":f<128?m="+":f<192?m=".":m=" ",n.append(m)}n.append(`
`)}return n.toString()}}class ve extends ce{constructor(e){super(e.getWidth(),e.getHeight()),this.delegate=e}getRow(e,n){const i=this.delegate.getRow(e,n),c=this.getWidth();for(let u=0;u<c;u++)i[u]=255-(i[u]&255);return i}getMatrix(){const e=this.delegate.getMatrix(),n=this.getWidth()*this.getHeight(),i=new Uint8ClampedArray(n);for(let c=0;c<n;c++)i[c]=255-(e[c]&255);return i}isCropSupported(){return this.delegate.isCropSupported()}crop(e,n,i,c){return new ve(this.delegate.crop(e,n,i,c))}isRotateSupported(){return this.delegate.isRotateSupported()}invert(){return this.delegate}rotateCounterClockwise(){return new ve(this.delegate.rotateCounterClockwise())}rotateCounterClockwise45(){return new ve(this.delegate.rotateCounterClockwise45())}}class Ce extends ce{constructor(e){super(e.width,e.height),this.canvas=e,this.tempCanvasElement=null,this.buffer=Ce.makeBufferFromCanvasImageData(e)}static makeBufferFromCanvasImageData(e){const n=e.getContext("2d").getImageData(0,0,e.width,e.height);return Ce.toGrayscaleBuffer(n.data,e.width,e.height)}static toGrayscaleBuffer(e,n,i){const c=new Uint8ClampedArray(n*i);for(let u=0,f=0,m=e.length;u<m;u+=4,f++){let y;if(e[u+3]===0)y=255;else{const j=e[u],D=e[u+1],k=e[u+2];y=306*j+601*D+117*k+512>>10}c[f]=y}return c}getRow(e,n){if(e<0||e>=this.getHeight())throw new A("Requested row is outside the image: "+e);const i=this.getWidth(),c=e*i;return n===null?n=this.buffer.slice(c,c+i):(n.length<i&&(n=new Uint8ClampedArray(i)),n.set(this.buffer.slice(c,c+i))),n}getMatrix(){return this.buffer}isCropSupported(){return!0}crop(e,n,i,c){return super.crop(e,n,i,c),this}isRotateSupported(){return!0}rotateCounterClockwise(){return this.rotate(-90),this}rotateCounterClockwise45(){return this.rotate(-45),this}getTempCanvasElement(){if(this.tempCanvasElement===null){const e=this.canvas.ownerDocument.createElement("canvas");e.width=this.canvas.width,e.height=this.canvas.height,this.tempCanvasElement=e}return this.tempCanvasElement}rotate(e){const n=this.getTempCanvasElement(),i=n.getContext("2d"),c=e*Ce.DEGREE_TO_RADIANS,u=this.canvas.width,f=this.canvas.height,m=Math.ceil(Math.abs(Math.cos(c))*u+Math.abs(Math.sin(c))*f),y=Math.ceil(Math.abs(Math.sin(c))*u+Math.abs(Math.cos(c))*f);return n.width=m,n.height=y,i.translate(m/2,y/2),i.rotate(c),i.drawImage(this.canvas,u/-2,f/-2),this.buffer=Ce.makeBufferFromCanvasImageData(n),this}invert(){return new ve(this)}}Ce.DEGREE_TO_RADIANS=Math.PI/180;class Z{constructor(e,n,i){this.deviceId=e,this.label=n,this.kind="videoinput",this.groupId=i||void 0}toJSON(){return{kind:this.kind,groupId:this.groupId,deviceId:this.deviceId,label:this.label}}}var ue=(globalThis||Yc||self||window||void 0)&&(globalThis||Yc||self||window||void 0).__awaiter||function(_,e,n,i){function c(u){return u instanceof n?u:new n(function(f){f(u)})}return new(n||(n=Promise))(function(u,f){function m(j){try{N(i.next(j))}catch(D){f(D)}}function y(j){try{N(i.throw(j))}catch(D){f(D)}}function N(j){j.done?u(j.value):c(j.value).then(m,y)}N((i=i.apply(_,e||[])).next())})};class Ge{constructor(e,n=500,i){this.reader=e,this.timeBetweenScansMillis=n,this._hints=i,this._stopContinuousDecode=!1,this._stopAsyncDecode=!1,this._timeBetweenDecodingAttempts=0}get hasNavigator(){return typeof navigator<"u"}get isMediaDevicesSuported(){return this.hasNavigator&&!!navigator.mediaDevices}get canEnumerateDevices(){return!!(this.isMediaDevicesSuported&&navigator.mediaDevices.enumerateDevices)}get timeBetweenDecodingAttempts(){return this._timeBetweenDecodingAttempts}set timeBetweenDecodingAttempts(e){this._timeBetweenDecodingAttempts=e<0?0:e}set hints(e){this._hints=e||null}get hints(){return this._hints}listVideoInputDevices(){return ue(this,void 0,void 0,function*(){if(!this.hasNavigator)throw new Error("Can't enumerate devices, navigator is not present.");if(!this.canEnumerateDevices)throw new Error("Can't enumerate devices, method not supported.");const e=yield navigator.mediaDevices.enumerateDevices(),n=[];for(const i of e){const c=i.kind==="video"?"videoinput":i.kind;if(c!=="videoinput")continue;const u=i.deviceId||i.id,f=i.label||`Video device ${n.length+1}`,m=i.groupId,y={deviceId:u,label:f,kind:c,groupId:m};n.push(y)}return n})}getVideoInputDevices(){return ue(this,void 0,void 0,function*(){return(yield this.listVideoInputDevices()).map(n=>new Z(n.deviceId,n.label))})}findDeviceById(e){return ue(this,void 0,void 0,function*(){const n=yield this.listVideoInputDevices();return n?n.find(i=>i.deviceId===e):null})}decodeFromInputVideoDevice(e,n){return ue(this,void 0,void 0,function*(){return yield this.decodeOnceFromVideoDevice(e,n)})}decodeOnceFromVideoDevice(e,n){return ue(this,void 0,void 0,function*(){this.reset();let i;e?i={deviceId:{exact:e}}:i={facingMode:"environment"};const c={video:i};return yield this.decodeOnceFromConstraints(c,n)})}decodeOnceFromConstraints(e,n){return ue(this,void 0,void 0,function*(){const i=yield navigator.mediaDevices.getUserMedia(e);return yield this.decodeOnceFromStream(i,n)})}decodeOnceFromStream(e,n){return ue(this,void 0,void 0,function*(){this.reset();const i=yield this.attachStreamToVideo(e,n);return yield this.decodeOnce(i)})}decodeFromInputVideoDeviceContinuously(e,n,i){return ue(this,void 0,void 0,function*(){return yield this.decodeFromVideoDevice(e,n,i)})}decodeFromVideoDevice(e,n,i){return ue(this,void 0,void 0,function*(){let c;e?c={deviceId:{exact:e}}:c={facingMode:"environment"};const u={video:c};return yield this.decodeFromConstraints(u,n,i)})}decodeFromConstraints(e,n,i){return ue(this,void 0,void 0,function*(){const c=yield navigator.mediaDevices.getUserMedia(e);return yield this.decodeFromStream(c,n,i)})}decodeFromStream(e,n,i){return ue(this,void 0,void 0,function*(){this.reset();const c=yield this.attachStreamToVideo(e,n);return yield this.decodeContinuously(c,i)})}stopAsyncDecode(){this._stopAsyncDecode=!0}stopContinuousDecode(){this._stopContinuousDecode=!0}attachStreamToVideo(e,n){return ue(this,void 0,void 0,function*(){const i=this.prepareVideoElement(n);return this.addVideoSource(i,e),this.videoElement=i,this.stream=e,yield this.playVideoOnLoadAsync(i),i})}playVideoOnLoadAsync(e){return new Promise((n,i)=>this.playVideoOnLoad(e,()=>n()))}playVideoOnLoad(e,n){this.videoEndedListener=()=>this.stopStreams(),this.videoCanPlayListener=()=>this.tryPlayVideo(e),e.addEventListener("ended",this.videoEndedListener),e.addEventListener("canplay",this.videoCanPlayListener),e.addEventListener("playing",n),this.tryPlayVideo(e)}isVideoPlaying(e){return e.currentTime>0&&!e.paused&&!e.ended&&e.readyState>2}tryPlayVideo(e){return ue(this,void 0,void 0,function*(){if(this.isVideoPlaying(e)){console.warn("Trying to play video that is already playing.");return}try{yield e.play()}catch{console.warn("It was not possible to play the video.")}})}getMediaElement(e,n){const i=document.getElementById(e);if(!i)throw new b(`element with id '${e}' not found`);if(i.nodeName.toLowerCase()!==n.toLowerCase())throw new b(`element with id '${e}' must be an ${n} element`);return i}decodeFromImage(e,n){if(!e&&!n)throw new b("either imageElement with a src set or an url must be provided");return n&&!e?this.decodeFromImageUrl(n):this.decodeFromImageElement(e)}decodeFromVideo(e,n){if(!e&&!n)throw new b("Either an element with a src set or an URL must be provided");return n&&!e?this.decodeFromVideoUrl(n):this.decodeFromVideoElement(e)}decodeFromVideoContinuously(e,n,i){if(e===void 0&&n===void 0)throw new b("Either an element with a src set or an URL must be provided");return n&&!e?this.decodeFromVideoUrlContinuously(n,i):this.decodeFromVideoElementContinuously(e,i)}decodeFromImageElement(e){if(!e)throw new b("An image element must be provided.");this.reset();const n=this.prepareImageElement(e);this.imageElement=n;let i;return this.isImageLoaded(n)?i=this.decodeOnce(n,!1,!0):i=this._decodeOnLoadImage(n),i}decodeFromVideoElement(e){const n=this._decodeFromVideoElementSetup(e);return this._decodeOnLoadVideo(n)}decodeFromVideoElementContinuously(e,n){const i=this._decodeFromVideoElementSetup(e);return this._decodeOnLoadVideoContinuously(i,n)}_decodeFromVideoElementSetup(e){if(!e)throw new b("A video element must be provided.");this.reset();const n=this.prepareVideoElement(e);return this.videoElement=n,n}decodeFromImageUrl(e){if(!e)throw new b("An URL must be provided.");this.reset();const n=this.prepareImageElement();this.imageElement=n;const i=this._decodeOnLoadImage(n);return n.src=e,i}decodeFromVideoUrl(e){if(!e)throw new b("An URL must be provided.");this.reset();const n=this.prepareVideoElement(),i=this.decodeFromVideoElement(n);return n.src=e,i}decodeFromVideoUrlContinuously(e,n){if(!e)throw new b("An URL must be provided.");this.reset();const i=this.prepareVideoElement(),c=this.decodeFromVideoElementContinuously(i,n);return i.src=e,c}_decodeOnLoadImage(e){return new Promise((n,i)=>{this.imageLoadedListener=()=>this.decodeOnce(e,!1,!0).then(n,i),e.addEventListener("load",this.imageLoadedListener)})}_decodeOnLoadVideo(e){return ue(this,void 0,void 0,function*(){return yield this.playVideoOnLoadAsync(e),yield this.decodeOnce(e)})}_decodeOnLoadVideoContinuously(e,n){return ue(this,void 0,void 0,function*(){yield this.playVideoOnLoadAsync(e),this.decodeContinuously(e,n)})}isImageLoaded(e){return!(!e.complete||e.naturalWidth===0)}prepareImageElement(e){let n;return typeof e>"u"&&(n=document.createElement("img"),n.width=200,n.height=200),typeof e=="string"&&(n=this.getMediaElement(e,"img")),e instanceof HTMLImageElement&&(n=e),n}prepareVideoElement(e){let n;return!e&&typeof document<"u"&&(n=document.createElement("video"),n.width=200,n.height=200),typeof e=="string"&&(n=this.getMediaElement(e,"video")),e instanceof HTMLVideoElement&&(n=e),n.setAttribute("autoplay","true"),n.setAttribute("muted","true"),n.setAttribute("playsinline","true"),n}decodeOnce(e,n=!0,i=!0){this._stopAsyncDecode=!1;const c=(u,f)=>{if(this._stopAsyncDecode){f(new W("Video stream has ended before any code could be detected.")),this._stopAsyncDecode=void 0;return}try{const m=this.decode(e);u(m)}catch(m){const y=n&&m instanceof W,j=(m instanceof P||m instanceof Q)&&i;if(y||j)return setTimeout(c,this._timeBetweenDecodingAttempts,u,f);f(m)}};return new Promise((u,f)=>c(u,f))}decodeContinuously(e,n){this._stopContinuousDecode=!1;const i=()=>{if(this._stopContinuousDecode){this._stopContinuousDecode=void 0;return}try{const c=this.decode(e);n(c,null),setTimeout(i,this.timeBetweenScansMillis)}catch(c){n(null,c);const u=c instanceof P||c instanceof Q,f=c instanceof W;(u||f)&&setTimeout(i,this._timeBetweenDecodingAttempts)}};i()}decode(e){const n=this.createBinaryBitmap(e);return this.decodeBitmap(n)}_isHTMLVideoElement(e){return e.videoWidth!==0}drawFrameOnCanvas(e,n,i){n||(n={sx:0,sy:0,sWidth:e.videoWidth,sHeight:e.videoHeight,dx:0,dy:0,dWidth:e.videoWidth,dHeight:e.videoHeight}),i||(i=this.captureCanvasContext),i.drawImage(e,n.sx,n.sy,n.sWidth,n.sHeight,n.dx,n.dy,n.dWidth,n.dHeight)}drawImageOnCanvas(e,n,i=this.captureCanvasContext){n||(n={sx:0,sy:0,sWidth:e.naturalWidth,sHeight:e.naturalHeight,dx:0,dy:0,dWidth:e.naturalWidth,dHeight:e.naturalHeight}),i||(i=this.captureCanvasContext),i.drawImage(e,n.sx,n.sy,n.sWidth,n.sHeight,n.dx,n.dy,n.dWidth,n.dHeight)}createBinaryBitmap(e){this.getCaptureCanvasContext(e),this._isHTMLVideoElement(e)?this.drawFrameOnCanvas(e):this.drawImageOnCanvas(e);const n=this.getCaptureCanvas(e),i=new Ce(n),c=new me(i);return new O(c)}getCaptureCanvasContext(e){if(!this.captureCanvasContext){const i=this.getCaptureCanvas(e).getContext("2d");this.captureCanvasContext=i}return this.captureCanvasContext}getCaptureCanvas(e){if(!this.captureCanvas){const n=this.createCaptureCanvas(e);this.captureCanvas=n}return this.captureCanvas}decodeBitmap(e){return this.reader.decode(e,this._hints)}createCaptureCanvas(e){if(typeof document>"u")return this._destroyCaptureCanvas(),null;const n=document.createElement("canvas");let i,c;return typeof e<"u"&&(e instanceof HTMLVideoElement?(i=e.videoWidth,c=e.videoHeight):e instanceof HTMLImageElement&&(i=e.naturalWidth||e.width,c=e.naturalHeight||e.height)),n.style.width=i+"px",n.style.height=c+"px",n.width=i,n.height=c,n}stopStreams(){this.stream&&(this.stream.getVideoTracks().forEach(e=>e.stop()),this.stream=void 0),this._stopAsyncDecode===!1&&this.stopAsyncDecode(),this._stopContinuousDecode===!1&&this.stopContinuousDecode()}reset(){this.stopStreams(),this._destroyVideoElement(),this._destroyImageElement(),this._destroyCaptureCanvas()}_destroyVideoElement(){this.videoElement&&(typeof this.videoEndedListener<"u"&&this.videoElement.removeEventListener("ended",this.videoEndedListener),typeof this.videoPlayingEventListener<"u"&&this.videoElement.removeEventListener("playing",this.videoPlayingEventListener),typeof this.videoCanPlayListener<"u"&&this.videoElement.removeEventListener("loadedmetadata",this.videoCanPlayListener),this.cleanVideoSource(this.videoElement),this.videoElement=void 0)}_destroyImageElement(){this.imageElement&&(this.imageLoadedListener!==void 0&&this.imageElement.removeEventListener("load",this.imageLoadedListener),this.imageElement.src=void 0,this.imageElement.removeAttribute("src"),this.imageElement=void 0)}_destroyCaptureCanvas(){this.captureCanvasContext=void 0,this.captureCanvas=void 0}addVideoSource(e,n){try{e.srcObject=n}catch{e.src=URL.createObjectURL(n)}}cleanVideoSource(e){try{e.srcObject=null}catch{e.src=""}this.videoElement.removeAttribute("src")}}class Be{constructor(e,n,i=n==null?0:8*n.length,c,u,f=R.currentTimeMillis()){this.text=e,this.rawBytes=n,this.numBits=i,this.resultPoints=c,this.format=u,this.timestamp=f,this.text=e,this.rawBytes=n,i==null?this.numBits=n==null?0:8*n.length:this.numBits=i,this.resultPoints=c,this.format=u,this.resultMetadata=null,f==null?this.timestamp=R.currentTimeMillis():this.timestamp=f}getText(){return this.text}getRawBytes(){return this.rawBytes}getNumBits(){return this.numBits}getResultPoints(){return this.resultPoints}getBarcodeFormat(){return this.format}getResultMetadata(){return this.resultMetadata}putMetadata(e,n){this.resultMetadata===null&&(this.resultMetadata=new Map),this.resultMetadata.set(e,n)}putAllMetadata(e){e!==null&&(this.resultMetadata===null?this.resultMetadata=e:this.resultMetadata=new Map(e))}addResultPoints(e){const n=this.resultPoints;if(n===null)this.resultPoints=e;else if(e!==null&&e.length>0){const i=new Array(n.length+e.length);R.arraycopy(n,0,i,0,n.length),R.arraycopy(e,0,i,n.length,e.length),this.resultPoints=i}}getTimestamp(){return this.timestamp}toString(){return this.text}}var pt;(function(_){_[_.AZTEC=0]="AZTEC",_[_.CODABAR=1]="CODABAR",_[_.CODE_39=2]="CODE_39",_[_.CODE_93=3]="CODE_93",_[_.CODE_128=4]="CODE_128",_[_.DATA_MATRIX=5]="DATA_MATRIX",_[_.EAN_8=6]="EAN_8",_[_.EAN_13=7]="EAN_13",_[_.ITF=8]="ITF",_[_.MAXICODE=9]="MAXICODE",_[_.PDF_417=10]="PDF_417",_[_.QR_CODE=11]="QR_CODE",_[_.RSS_14=12]="RSS_14",_[_.RSS_EXPANDED=13]="RSS_EXPANDED",_[_.UPC_A=14]="UPC_A",_[_.UPC_E=15]="UPC_E",_[_.UPC_EAN_EXTENSION=16]="UPC_EAN_EXTENSION"})(pt||(pt={}));var Se=pt,Re;(function(_){_[_.OTHER=0]="OTHER",_[_.ORIENTATION=1]="ORIENTATION",_[_.BYTE_SEGMENTS=2]="BYTE_SEGMENTS",_[_.ERROR_CORRECTION_LEVEL=3]="ERROR_CORRECTION_LEVEL",_[_.ISSUE_NUMBER=4]="ISSUE_NUMBER",_[_.SUGGESTED_PRICE=5]="SUGGESTED_PRICE",_[_.POSSIBLE_COUNTRY=6]="POSSIBLE_COUNTRY",_[_.UPC_EAN_EXTENSION=7]="UPC_EAN_EXTENSION",_[_.PDF417_EXTRA_METADATA=8]="PDF417_EXTRA_METADATA",_[_.STRUCTURED_APPEND_SEQUENCE=9]="STRUCTURED_APPEND_SEQUENCE",_[_.STRUCTURED_APPEND_PARITY=10]="STRUCTURED_APPEND_PARITY"})(Re||(Re={}));var Me=Re;class lt{constructor(e,n,i,c,u=-1,f=-1){this.rawBytes=e,this.text=n,this.byteSegments=i,this.ecLevel=c,this.structuredAppendSequenceNumber=u,this.structuredAppendParity=f,this.numBits=e==null?0:8*e.length}getRawBytes(){return this.rawBytes}getNumBits(){return this.numBits}setNumBits(e){this.numBits=e}getText(){return this.text}getByteSegments(){return this.byteSegments}getECLevel(){return this.ecLevel}getErrorsCorrected(){return this.errorsCorrected}setErrorsCorrected(e){this.errorsCorrected=e}getErasures(){return this.erasures}setErasures(e){this.erasures=e}getOther(){return this.other}setOther(e){this.other=e}hasStructuredAppend(){return this.structuredAppendParity>=0&&this.structuredAppendSequenceNumber>=0}getStructuredAppendParity(){return this.structuredAppendParity}getStructuredAppendSequenceNumber(){return this.structuredAppendSequenceNumber}}class dt{exp(e){return this.expTable[e]}log(e){if(e===0)throw new A;return this.logTable[e]}static addOrSubtract(e,n){return e^n}}class mt{constructor(e,n){if(n.length===0)throw new A;this.field=e;const i=n.length;if(i>1&&n[0]===0){let c=1;for(;c<i&&n[c]===0;)c++;c===i?this.coefficients=Int32Array.from([0]):(this.coefficients=new Int32Array(i-c),R.arraycopy(n,c,this.coefficients,0,this.coefficients.length))}else this.coefficients=n}getCoefficients(){return this.coefficients}getDegree(){return this.coefficients.length-1}isZero(){return this.coefficients[0]===0}getCoefficient(e){return this.coefficients[this.coefficients.length-1-e]}evaluateAt(e){if(e===0)return this.getCoefficient(0);const n=this.coefficients;let i;if(e===1){i=0;for(let f=0,m=n.length;f!==m;f++){const y=n[f];i=dt.addOrSubtract(i,y)}return i}i=n[0];const c=n.length,u=this.field;for(let f=1;f<c;f++)i=dt.addOrSubtract(u.multiply(e,i),n[f]);return i}addOrSubtract(e){if(!this.field.equals(e.field))throw new A("GenericGFPolys do not have same GenericGF field");if(this.isZero())return e;if(e.isZero())return this;let n=this.coefficients,i=e.coefficients;if(n.length>i.length){const f=n;n=i,i=f}let c=new Int32Array(i.length);const u=i.length-n.length;R.arraycopy(i,0,c,0,u);for(let f=u;f<i.length;f++)c[f]=dt.addOrSubtract(n[f-u],i[f]);return new mt(this.field,c)}multiply(e){if(!this.field.equals(e.field))throw new A("GenericGFPolys do not have same GenericGF field");if(this.isZero()||e.isZero())return this.field.getZero();const n=this.coefficients,i=n.length,c=e.coefficients,u=c.length,f=new Int32Array(i+u-1),m=this.field;for(let y=0;y<i;y++){const N=n[y];for(let j=0;j<u;j++)f[y+j]=dt.addOrSubtract(f[y+j],m.multiply(N,c[j]))}return new mt(m,f)}multiplyScalar(e){if(e===0)return this.field.getZero();if(e===1)return this;const n=this.coefficients.length,i=this.field,c=new Int32Array(n),u=this.coefficients;for(let f=0;f<n;f++)c[f]=i.multiply(u[f],e);return new mt(i,c)}multiplyByMonomial(e,n){if(e<0)throw new A;if(n===0)return this.field.getZero();const i=this.coefficients,c=i.length,u=new Int32Array(c+e),f=this.field;for(let m=0;m<c;m++)u[m]=f.multiply(i[m],n);return new mt(f,u)}divide(e){if(!this.field.equals(e.field))throw new A("GenericGFPolys do not have same GenericGF field");if(e.isZero())throw new A("Divide by 0");const n=this.field;let i=n.getZero(),c=this;const u=e.getCoefficient(e.getDegree()),f=n.inverse(u);for(;c.getDegree()>=e.getDegree()&&!c.isZero();){const m=c.getDegree()-e.getDegree(),y=n.multiply(c.getCoefficient(c.getDegree()),f),N=e.multiplyByMonomial(m,y),j=n.buildMonomial(m,y);i=i.addOrSubtract(j),c=c.addOrSubtract(N)}return[i,c]}toString(){let e="";for(let n=this.getDegree();n>=0;n--){let i=this.getCoefficient(n);if(i!==0){if(i<0?(e+=" - ",i=-i):e.length>0&&(e+=" + "),n===0||i!==1){const c=this.field.log(i);c===0?e+="1":c===1?e+="a":(e+="a^",e+=c)}n!==0&&(n===1?e+="x":(e+="x^",e+=n))}}return e}}class Bt extends w{}Bt.kind="ArithmeticException";class it extends dt{constructor(e,n,i){super(),this.primitive=e,this.size=n,this.generatorBase=i;const c=new Int32Array(n);let u=1;for(let m=0;m<n;m++)c[m]=u,u*=2,u>=n&&(u^=e,u&=n-1);this.expTable=c;const f=new Int32Array(n);for(let m=0;m<n-1;m++)f[c[m]]=m;this.logTable=f,this.zero=new mt(this,Int32Array.from([0])),this.one=new mt(this,Int32Array.from([1]))}getZero(){return this.zero}getOne(){return this.one}buildMonomial(e,n){if(e<0)throw new A;if(n===0)return this.zero;const i=new Int32Array(e+1);return i[0]=n,new mt(this,i)}inverse(e){if(e===0)throw new Bt;return this.expTable[this.size-this.logTable[e]-1]}multiply(e,n){return e===0||n===0?0:this.expTable[(this.logTable[e]+this.logTable[n])%(this.size-1)]}getSize(){return this.size}getGeneratorBase(){return this.generatorBase}toString(){return"GF(0x"+V.toHexString(this.primitive)+","+this.size+")"}equals(e){return e===this}}it.AZTEC_DATA_12=new it(4201,4096,1),it.AZTEC_DATA_10=new it(1033,1024,1),it.AZTEC_DATA_6=new it(67,64,1),it.AZTEC_PARAM=new it(19,16,1),it.QR_CODE_FIELD_256=new it(285,256,0),it.DATA_MATRIX_FIELD_256=new it(301,256,1),it.AZTEC_DATA_8=it.DATA_MATRIX_FIELD_256,it.MAXICODE_FIELD_64=it.AZTEC_DATA_6;class Ln extends w{}Ln.kind="ReedSolomonException";class Kn extends w{}Kn.kind="IllegalStateException";class Kr{constructor(e){this.field=e}decode(e,n){const i=this.field,c=new mt(i,e),u=new Int32Array(n);let f=!0;for(let U=0;U<n;U++){const X=c.evaluateAt(i.exp(U+i.getGeneratorBase()));u[u.length-1-U]=X,X!==0&&(f=!1)}if(f)return;const m=new mt(i,u),y=this.runEuclideanAlgorithm(i.buildMonomial(n,1),m,n),N=y[0],j=y[1],D=this.findErrorLocations(N),k=this.findErrorMagnitudes(j,D);for(let U=0;U<D.length;U++){const X=e.length-1-i.log(D[U]);if(X<0)throw new Ln("Bad error location");e[X]=it.addOrSubtract(e[X],k[U])}}runEuclideanAlgorithm(e,n,i){if(e.getDegree()<n.getDegree()){const U=e;e=n,n=U}const c=this.field;let u=e,f=n,m=c.getZero(),y=c.getOne();for(;f.getDegree()>=(i/2|0);){let U=u,X=m;if(u=f,m=y,u.isZero())throw new Ln("r_{i-1} was zero");f=U;let q=c.getZero();const J=u.getCoefficient(u.getDegree()),ie=c.inverse(J);for(;f.getDegree()>=u.getDegree()&&!f.isZero();){const be=f.getDegree()-u.getDegree(),Ne=c.multiply(f.getCoefficient(f.getDegree()),ie);q=q.addOrSubtract(c.buildMonomial(be,Ne)),f=f.addOrSubtract(u.multiplyByMonomial(be,Ne))}if(y=q.multiply(m).addOrSubtract(X),f.getDegree()>=u.getDegree())throw new Kn("Division algorithm failed to reduce polynomial?")}const N=y.getCoefficient(0);if(N===0)throw new Ln("sigmaTilde(0) was zero");const j=c.inverse(N),D=y.multiplyScalar(j),k=f.multiplyScalar(j);return[D,k]}findErrorLocations(e){const n=e.getDegree();if(n===1)return Int32Array.from([e.getCoefficient(1)]);const i=new Int32Array(n);let c=0;const u=this.field;for(let f=1;f<u.getSize()&&c<n;f++)e.evaluateAt(f)===0&&(i[c]=u.inverse(f),c++);if(c!==n)throw new Ln("Error locator degree does not match number of roots");return i}findErrorMagnitudes(e,n){const i=n.length,c=new Int32Array(i),u=this.field;for(let f=0;f<i;f++){const m=u.inverse(n[f]);let y=1;for(let N=0;N<i;N++)if(f!==N){const j=u.multiply(n[N],m),D=(j&1)===0?j|1:j&-2;y=u.multiply(y,D)}c[f]=u.multiply(e.evaluateAt(m),u.inverse(y)),u.getGeneratorBase()!==0&&(c[f]=u.multiply(c[f],m))}return c}}var Jt;(function(_){_[_.UPPER=0]="UPPER",_[_.LOWER=1]="LOWER",_[_.MIXED=2]="MIXED",_[_.DIGIT=3]="DIGIT",_[_.PUNCT=4]="PUNCT",_[_.BINARY=5]="BINARY"})(Jt||(Jt={}));class Pt{decode(e){this.ddata=e;let n=e.getBits(),i=this.extractBits(n),c=this.correctBits(i),u=Pt.convertBoolArrayToByteArray(c),f=Pt.getEncodedData(c),m=new lt(u,f,null,null);return m.setNumBits(c.length),m}static highLevelDecode(e){return this.getEncodedData(e)}static getEncodedData(e){let n=e.length,i=Jt.UPPER,c=Jt.UPPER,u="",f=0;for(;f<n;)if(c===Jt.BINARY){if(n-f<5)break;let m=Pt.readCode(e,f,5);if(f+=5,m===0){if(n-f<11)break;m=Pt.readCode(e,f,11)+31,f+=11}for(let y=0;y<m;y++){if(n-f<8){f=n;break}const N=Pt.readCode(e,f,8);u+=de.castAsNonUtf8Char(N),f+=8}c=i}else{let m=c===Jt.DIGIT?4:5;if(n-f<m)break;let y=Pt.readCode(e,f,m);f+=m;let N=Pt.getCharacter(c,y);N.startsWith("CTRL_")?(i=c,c=Pt.getTable(N.charAt(5)),N.charAt(6)==="L"&&(i=c)):(u+=N,c=i)}return u}static getTable(e){switch(e){case"L":return Jt.LOWER;case"P":return Jt.PUNCT;case"M":return Jt.MIXED;case"D":return Jt.DIGIT;case"B":return Jt.BINARY;case"U":default:return Jt.UPPER}}static getCharacter(e,n){switch(e){case Jt.UPPER:return Pt.UPPER_TABLE[n];case Jt.LOWER:return Pt.LOWER_TABLE[n];case Jt.MIXED:return Pt.MIXED_TABLE[n];case Jt.PUNCT:return Pt.PUNCT_TABLE[n];case Jt.DIGIT:return Pt.DIGIT_TABLE[n];default:throw new Kn("Bad table")}}correctBits(e){let n,i;this.ddata.getNbLayers()<=2?(i=6,n=it.AZTEC_DATA_6):this.ddata.getNbLayers()<=8?(i=8,n=it.AZTEC_DATA_8):this.ddata.getNbLayers()<=22?(i=10,n=it.AZTEC_DATA_10):(i=12,n=it.AZTEC_DATA_12);let c=this.ddata.getNbDatablocks(),u=e.length/i;if(u<c)throw new Q;let f=e.length%i,m=new Int32Array(u);for(let k=0;k<u;k++,f+=i)m[k]=Pt.readCode(e,f,i);try{new Kr(n).decode(m,u-c)}catch(k){throw new Q(k)}let y=(1<<i)-1,N=0;for(let k=0;k<c;k++){let U=m[k];if(U===0||U===y)throw new Q;(U===1||U===y-1)&&N++}let j=new Array(c*i-N),D=0;for(let k=0;k<c;k++){let U=m[k];if(U===1||U===y-1)j.fill(U>1,D,D+i-1),D+=i-1;else for(let X=i-1;X>=0;--X)j[D++]=(U&1<<X)!==0}return j}extractBits(e){let n=this.ddata.isCompact(),i=this.ddata.getNbLayers(),c=(n?11:14)+i*4,u=new Int32Array(c),f=new Array(this.totalBitsInLayer(i,n));if(n)for(let m=0;m<u.length;m++)u[m]=m;else{let m=c+1+2*V.truncDivision(V.truncDivision(c,2)-1,15),y=c/2,N=V.truncDivision(m,2);for(let j=0;j<y;j++){let D=j+V.truncDivision(j,15);u[y-j-1]=N-D-1,u[y+j]=N+D+1}}for(let m=0,y=0;m<i;m++){let N=(i-m)*4+(n?9:12),j=m*2,D=c-1-j;for(let k=0;k<N;k++){let U=k*2;for(let X=0;X<2;X++)f[y+U+X]=e.get(u[j+X],u[j+k]),f[y+2*N+U+X]=e.get(u[j+k],u[D-X]),f[y+4*N+U+X]=e.get(u[D-X],u[D-k]),f[y+6*N+U+X]=e.get(u[D-k],u[j+X])}y+=N*8}return f}static readCode(e,n,i){let c=0;for(let u=n;u<n+i;u++)c<<=1,e[u]&&(c|=1);return c}static readByte(e,n){let i=e.length-n;return i>=8?Pt.readCode(e,n,8):Pt.readCode(e,n,i)<<8-i}static convertBoolArrayToByteArray(e){let n=new Uint8Array((e.length+7)/8);for(let i=0;i<n.length;i++)n[i]=Pt.readByte(e,8*i);return n}totalBitsInLayer(e,n){return((n?88:112)+16*e)*e}}Pt.UPPER_TABLE=["CTRL_PS"," ","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","CTRL_LL","CTRL_ML","CTRL_DL","CTRL_BS"],Pt.LOWER_TABLE=["CTRL_PS"," ","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","CTRL_US","CTRL_ML","CTRL_DL","CTRL_BS"],Pt.MIXED_TABLE=["CTRL_PS"," ","\\1","\\2","\\3","\\4","\\5","\\6","\\7","\b","	",`
`,"\\13","\f","\r","\\33","\\34","\\35","\\36","\\37","@","\\","^","_","`","|","~","\\177","CTRL_LL","CTRL_UL","CTRL_PL","CTRL_BS"],Pt.PUNCT_TABLE=["","\r",`\r
`,". ",", ",": ","!",'"',"#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","[","]","{","}","CTRL_UL"],Pt.DIGIT_TABLE=["CTRL_PS"," ","0","1","2","3","4","5","6","7","8","9",",",".","CTRL_UL","CTRL_US"];class bt{constructor(){}static round(e){return e===NaN?0:e<=Number.MIN_SAFE_INTEGER?Number.MIN_SAFE_INTEGER:e>=Number.MAX_SAFE_INTEGER?Number.MAX_SAFE_INTEGER:e+(e<0?-.5:.5)|0}static distance(e,n,i,c){const u=e-i,f=n-c;return Math.sqrt(u*u+f*f)}static sum(e){let n=0;for(let i=0,c=e.length;i!==c;i++){const u=e[i];n+=u}return n}}class Es{static floatToIntBits(e){return e}}Es.MAX_VALUE=Number.MAX_SAFE_INTEGER;class Fe{constructor(e,n){this.x=e,this.y=n}getX(){return this.x}getY(){return this.y}equals(e){if(e instanceof Fe){const n=e;return this.x===n.x&&this.y===n.y}return!1}hashCode(){return 31*Es.floatToIntBits(this.x)+Es.floatToIntBits(this.y)}toString(){return"("+this.x+","+this.y+")"}static orderBestPatterns(e){const n=this.distance(e[0],e[1]),i=this.distance(e[1],e[2]),c=this.distance(e[0],e[2]);let u,f,m;if(i>=n&&i>=c?(f=e[0],u=e[1],m=e[2]):c>=i&&c>=n?(f=e[1],u=e[0],m=e[2]):(f=e[2],u=e[0],m=e[1]),this.crossProductZ(u,f,m)<0){const y=u;u=m,m=y}e[0]=u,e[1]=f,e[2]=m}static distance(e,n){return bt.distance(e.x,e.y,n.x,n.y)}static crossProductZ(e,n,i){const c=n.x,u=n.y;return(i.x-c)*(e.y-u)-(i.y-u)*(e.x-c)}}class ai{constructor(e,n){this.bits=e,this.points=n}getBits(){return this.bits}getPoints(){return this.points}}class Ia extends ai{constructor(e,n,i,c,u){super(e,n),this.compact=i,this.nbDatablocks=c,this.nbLayers=u}getNbLayers(){return this.nbLayers}getNbDatablocks(){return this.nbDatablocks}isCompact(){return this.compact}}class Yr{constructor(e,n,i,c){this.image=e,this.height=e.getHeight(),this.width=e.getWidth(),n==null&&(n=Yr.INIT_SIZE),i==null&&(i=e.getWidth()/2|0),c==null&&(c=e.getHeight()/2|0);const u=n/2|0;if(this.leftInit=i-u,this.rightInit=i+u,this.upInit=c-u,this.downInit=c+u,this.upInit<0||this.leftInit<0||this.downInit>=this.height||this.rightInit>=this.width)throw new W}detect(){let e=this.leftInit,n=this.rightInit,i=this.upInit,c=this.downInit,u=!1,f=!0,m=!1,y=!1,N=!1,j=!1,D=!1;const k=this.width,U=this.height;for(;f;){f=!1;let X=!0;for(;(X||!y)&&n<k;)X=this.containsBlackPoint(i,c,n,!1),X?(n++,f=!0,y=!0):y||n++;if(n>=k){u=!0;break}let q=!0;for(;(q||!N)&&c<U;)q=this.containsBlackPoint(e,n,c,!0),q?(c++,f=!0,N=!0):N||c++;if(c>=U){u=!0;break}let J=!0;for(;(J||!j)&&e>=0;)J=this.containsBlackPoint(i,c,e,!1),J?(e--,f=!0,j=!0):j||e--;if(e<0){u=!0;break}let ie=!0;for(;(ie||!D)&&i>=0;)ie=this.containsBlackPoint(e,n,i,!0),ie?(i--,f=!0,D=!0):D||i--;if(i<0){u=!0;break}f&&(m=!0)}if(!u&&m){const X=n-e;let q=null;for(let Ne=1;q===null&&Ne<X;Ne++)q=this.getBlackPointOnSegment(e,c-Ne,e+Ne,c);if(q==null)throw new W;let J=null;for(let Ne=1;J===null&&Ne<X;Ne++)J=this.getBlackPointOnSegment(e,i+Ne,e+Ne,i);if(J==null)throw new W;let ie=null;for(let Ne=1;ie===null&&Ne<X;Ne++)ie=this.getBlackPointOnSegment(n,i+Ne,n-Ne,i);if(ie==null)throw new W;let be=null;for(let Ne=1;be===null&&Ne<X;Ne++)be=this.getBlackPointOnSegment(n,c-Ne,n-Ne,c);if(be==null)throw new W;return this.centerEdges(be,q,ie,J)}else throw new W}getBlackPointOnSegment(e,n,i,c){const u=bt.round(bt.distance(e,n,i,c)),f=(i-e)/u,m=(c-n)/u,y=this.image;for(let N=0;N<u;N++){const j=bt.round(e+N*f),D=bt.round(n+N*m);if(y.get(j,D))return new Fe(j,D)}return null}centerEdges(e,n,i,c){const u=e.getX(),f=e.getY(),m=n.getX(),y=n.getY(),N=i.getX(),j=i.getY(),D=c.getX(),k=c.getY(),U=Yr.CORR;return u<this.width/2?[new Fe(D-U,k+U),new Fe(m+U,y+U),new Fe(N-U,j-U),new Fe(u+U,f-U)]:[new Fe(D+U,k+U),new Fe(m+U,y-U),new Fe(N-U,j+U),new Fe(u-U,f-U)]}containsBlackPoint(e,n,i,c){const u=this.image;if(c){for(let f=e;f<=n;f++)if(u.get(f,i))return!0}else for(let f=e;f<=n;f++)if(u.get(i,f))return!0;return!1}}Yr.INIT_SIZE=10,Yr.CORR=1;class Io{static checkAndNudgePoints(e,n){const i=e.getWidth(),c=e.getHeight();let u=!0;for(let f=0;f<n.length&&u;f+=2){const m=Math.floor(n[f]),y=Math.floor(n[f+1]);if(m<-1||m>i||y<-1||y>c)throw new W;u=!1,m===-1?(n[f]=0,u=!0):m===i&&(n[f]=i-1,u=!0),y===-1?(n[f+1]=0,u=!0):y===c&&(n[f+1]=c-1,u=!0)}u=!0;for(let f=n.length-2;f>=0&&u;f-=2){const m=Math.floor(n[f]),y=Math.floor(n[f+1]);if(m<-1||m>i||y<-1||y>c)throw new W;u=!1,m===-1?(n[f]=0,u=!0):m===i&&(n[f]=i-1,u=!0),y===-1?(n[f+1]=0,u=!0):y===c&&(n[f+1]=c-1,u=!0)}}}class vr{constructor(e,n,i,c,u,f,m,y,N){this.a11=e,this.a21=n,this.a31=i,this.a12=c,this.a22=u,this.a32=f,this.a13=m,this.a23=y,this.a33=N}static quadrilateralToQuadrilateral(e,n,i,c,u,f,m,y,N,j,D,k,U,X,q,J){const ie=vr.quadrilateralToSquare(e,n,i,c,u,f,m,y);return vr.squareToQuadrilateral(N,j,D,k,U,X,q,J).times(ie)}transformPoints(e){const n=e.length,i=this.a11,c=this.a12,u=this.a13,f=this.a21,m=this.a22,y=this.a23,N=this.a31,j=this.a32,D=this.a33;for(let k=0;k<n;k+=2){const U=e[k],X=e[k+1],q=u*U+y*X+D;e[k]=(i*U+f*X+N)/q,e[k+1]=(c*U+m*X+j)/q}}transformPointsWithValues(e,n){const i=this.a11,c=this.a12,u=this.a13,f=this.a21,m=this.a22,y=this.a23,N=this.a31,j=this.a32,D=this.a33,k=e.length;for(let U=0;U<k;U++){const X=e[U],q=n[U],J=u*X+y*q+D;e[U]=(i*X+f*q+N)/J,n[U]=(c*X+m*q+j)/J}}static squareToQuadrilateral(e,n,i,c,u,f,m,y){const N=e-i+u-m,j=n-c+f-y;if(N===0&&j===0)return new vr(i-e,u-i,e,c-n,f-c,n,0,0,1);{const D=i-u,k=m-u,U=c-f,X=y-f,q=D*X-k*U,J=(N*X-k*j)/q,ie=(D*j-N*U)/q;return new vr(i-e+J*i,m-e+ie*m,e,c-n+J*c,y-n+ie*y,n,J,ie,1)}}static quadrilateralToSquare(e,n,i,c,u,f,m,y){return vr.squareToQuadrilateral(e,n,i,c,u,f,m,y).buildAdjoint()}buildAdjoint(){return new vr(this.a22*this.a33-this.a23*this.a32,this.a23*this.a31-this.a21*this.a33,this.a21*this.a32-this.a22*this.a31,this.a13*this.a32-this.a12*this.a33,this.a11*this.a33-this.a13*this.a31,this.a12*this.a31-this.a11*this.a32,this.a12*this.a23-this.a13*this.a22,this.a13*this.a21-this.a11*this.a23,this.a11*this.a22-this.a12*this.a21)}times(e){return new vr(this.a11*e.a11+this.a21*e.a12+this.a31*e.a13,this.a11*e.a21+this.a21*e.a22+this.a31*e.a23,this.a11*e.a31+this.a21*e.a32+this.a31*e.a33,this.a12*e.a11+this.a22*e.a12+this.a32*e.a13,this.a12*e.a21+this.a22*e.a22+this.a32*e.a23,this.a12*e.a31+this.a22*e.a32+this.a32*e.a33,this.a13*e.a11+this.a23*e.a12+this.a33*e.a13,this.a13*e.a21+this.a23*e.a22+this.a33*e.a23,this.a13*e.a31+this.a23*e.a32+this.a33*e.a33)}}class To extends Io{sampleGrid(e,n,i,c,u,f,m,y,N,j,D,k,U,X,q,J,ie,be,Ne){const ye=vr.quadrilateralToQuadrilateral(c,u,f,m,y,N,j,D,k,U,X,q,J,ie,be,Ne);return this.sampleGridWithTransform(e,n,i,ye)}sampleGridWithTransform(e,n,i,c){if(n<=0||i<=0)throw new W;const u=new he(n,i),f=new Float32Array(2*n);for(let m=0;m<i;m++){const y=f.length,N=m+.5;for(let j=0;j<y;j+=2)f[j]=j/2+.5,f[j+1]=N;c.transformPoints(f),Io.checkAndNudgePoints(e,f);try{for(let j=0;j<y;j+=2)e.get(Math.floor(f[j]),Math.floor(f[j+1]))&&u.set(j/2,m)}catch{throw new W}}return u}}class Dr{static setGridSampler(e){Dr.gridSampler=e}static getInstance(){return Dr.gridSampler}}Dr.gridSampler=new To;class Fn{constructor(e,n){this.x=e,this.y=n}toResultPoint(){return new Fe(this.getX(),this.getY())}getX(){return this.x}getY(){return this.y}}class li{constructor(e){this.EXPECTED_CORNER_BITS=new Int32Array([3808,476,2107,1799]),this.image=e}detect(){return this.detectMirror(!1)}detectMirror(e){let n=this.getMatrixCenter(),i=this.getBullsEyeCorners(n);if(e){let f=i[0];i[0]=i[2],i[2]=f}this.extractParameters(i);let c=this.sampleGrid(this.image,i[this.shift%4],i[(this.shift+1)%4],i[(this.shift+2)%4],i[(this.shift+3)%4]),u=this.getMatrixCornerPoints(i);return new Ia(c,u,this.compact,this.nbDataBlocks,this.nbLayers)}extractParameters(e){if(!this.isValidPoint(e[0])||!this.isValidPoint(e[1])||!this.isValidPoint(e[2])||!this.isValidPoint(e[3]))throw new W;let n=2*this.nbCenterLayers,i=new Int32Array([this.sampleLine(e[0],e[1],n),this.sampleLine(e[1],e[2],n),this.sampleLine(e[2],e[3],n),this.sampleLine(e[3],e[0],n)]);this.shift=this.getRotation(i,n);let c=0;for(let f=0;f<4;f++){let m=i[(this.shift+f)%4];this.compact?(c<<=7,c+=m>>1&127):(c<<=10,c+=(m>>2&992)+(m>>1&31))}let u=this.getCorrectedParameterData(c,this.compact);this.compact?(this.nbLayers=(u>>6)+1,this.nbDataBlocks=(u&63)+1):(this.nbLayers=(u>>11)+1,this.nbDataBlocks=(u&2047)+1)}getRotation(e,n){let i=0;e.forEach((c,u,f)=>{let m=(c>>n-2<<1)+(c&1);i=(i<<3)+m}),i=((i&1)<<11)+(i>>1);for(let c=0;c<4;c++)if(V.bitCount(i^this.EXPECTED_CORNER_BITS[c])<=2)return c;throw new W}getCorrectedParameterData(e,n){let i,c;n?(i=7,c=2):(i=10,c=4);let u=i-c,f=new Int32Array(i);for(let y=i-1;y>=0;--y)f[y]=e&15,e>>=4;try{new Kr(it.AZTEC_PARAM).decode(f,u)}catch{throw new W}let m=0;for(let y=0;y<c;y++)m=(m<<4)+f[y];return m}getBullsEyeCorners(e){let n=e,i=e,c=e,u=e,f=!0;for(this.nbCenterLayers=1;this.nbCenterLayers<9;this.nbCenterLayers++){let D=this.getFirstDifferent(n,f,1,-1),k=this.getFirstDifferent(i,f,1,1),U=this.getFirstDifferent(c,f,-1,1),X=this.getFirstDifferent(u,f,-1,-1);if(this.nbCenterLayers>2){let q=this.distancePoint(X,D)*this.nbCenterLayers/(this.distancePoint(u,n)*(this.nbCenterLayers+2));if(q<.75||q>1.25||!this.isWhiteOrBlackRectangle(D,k,U,X))break}n=D,i=k,c=U,u=X,f=!f}if(this.nbCenterLayers!==5&&this.nbCenterLayers!==7)throw new W;this.compact=this.nbCenterLayers===5;let m=new Fe(n.getX()+.5,n.getY()-.5),y=new Fe(i.getX()+.5,i.getY()+.5),N=new Fe(c.getX()-.5,c.getY()+.5),j=new Fe(u.getX()-.5,u.getY()-.5);return this.expandSquare([m,y,N,j],2*this.nbCenterLayers-3,2*this.nbCenterLayers)}getMatrixCenter(){let e,n,i,c;try{let m=new Yr(this.image).detect();e=m[0],n=m[1],i=m[2],c=m[3]}catch{let y=this.image.getWidth()/2,N=this.image.getHeight()/2;e=this.getFirstDifferent(new Fn(y+7,N-7),!1,1,-1).toResultPoint(),n=this.getFirstDifferent(new Fn(y+7,N+7),!1,1,1).toResultPoint(),i=this.getFirstDifferent(new Fn(y-7,N+7),!1,-1,1).toResultPoint(),c=this.getFirstDifferent(new Fn(y-7,N-7),!1,-1,-1).toResultPoint()}let u=bt.round((e.getX()+c.getX()+n.getX()+i.getX())/4),f=bt.round((e.getY()+c.getY()+n.getY()+i.getY())/4);try{let m=new Yr(this.image,15,u,f).detect();e=m[0],n=m[1],i=m[2],c=m[3]}catch{e=this.getFirstDifferent(new Fn(u+7,f-7),!1,1,-1).toResultPoint(),n=this.getFirstDifferent(new Fn(u+7,f+7),!1,1,1).toResultPoint(),i=this.getFirstDifferent(new Fn(u-7,f+7),!1,-1,1).toResultPoint(),c=this.getFirstDifferent(new Fn(u-7,f-7),!1,-1,-1).toResultPoint()}return u=bt.round((e.getX()+c.getX()+n.getX()+i.getX())/4),f=bt.round((e.getY()+c.getY()+n.getY()+i.getY())/4),new Fn(u,f)}getMatrixCornerPoints(e){return this.expandSquare(e,2*this.nbCenterLayers,this.getDimension())}sampleGrid(e,n,i,c,u){let f=Dr.getInstance(),m=this.getDimension(),y=m/2-this.nbCenterLayers,N=m/2+this.nbCenterLayers;return f.sampleGrid(e,m,m,y,y,N,y,N,N,y,N,n.getX(),n.getY(),i.getX(),i.getY(),c.getX(),c.getY(),u.getX(),u.getY())}sampleLine(e,n,i){let c=0,u=this.distanceResultPoint(e,n),f=u/i,m=e.getX(),y=e.getY(),N=f*(n.getX()-e.getX())/u,j=f*(n.getY()-e.getY())/u;for(let D=0;D<i;D++)this.image.get(bt.round(m+D*N),bt.round(y+D*j))&&(c|=1<<i-D-1);return c}isWhiteOrBlackRectangle(e,n,i,c){let u=3;e=new Fn(e.getX()-u,e.getY()+u),n=new Fn(n.getX()-u,n.getY()-u),i=new Fn(i.getX()+u,i.getY()-u),c=new Fn(c.getX()+u,c.getY()+u);let f=this.getColor(c,e);if(f===0)return!1;let m=this.getColor(e,n);return m!==f||(m=this.getColor(n,i),m!==f)?!1:(m=this.getColor(i,c),m===f)}getColor(e,n){let i=this.distancePoint(e,n),c=(n.getX()-e.getX())/i,u=(n.getY()-e.getY())/i,f=0,m=e.getX(),y=e.getY(),N=this.image.get(e.getX(),e.getY()),j=Math.ceil(i);for(let k=0;k<j;k++)m+=c,y+=u,this.image.get(bt.round(m),bt.round(y))!==N&&f++;let D=f/i;return D>.1&&D<.9?0:D<=.1===N?1:-1}getFirstDifferent(e,n,i,c){let u=e.getX()+i,f=e.getY()+c;for(;this.isValid(u,f)&&this.image.get(u,f)===n;)u+=i,f+=c;for(u-=i,f-=c;this.isValid(u,f)&&this.image.get(u,f)===n;)u+=i;for(u-=i;this.isValid(u,f)&&this.image.get(u,f)===n;)f+=c;return f-=c,new Fn(u,f)}expandSquare(e,n,i){let c=i/(2*n),u=e[0].getX()-e[2].getX(),f=e[0].getY()-e[2].getY(),m=(e[0].getX()+e[2].getX())/2,y=(e[0].getY()+e[2].getY())/2,N=new Fe(m+c*u,y+c*f),j=new Fe(m-c*u,y-c*f);u=e[1].getX()-e[3].getX(),f=e[1].getY()-e[3].getY(),m=(e[1].getX()+e[3].getX())/2,y=(e[1].getY()+e[3].getY())/2;let D=new Fe(m+c*u,y+c*f),k=new Fe(m-c*u,y-c*f);return[N,D,j,k]}isValid(e,n){return e>=0&&e<this.image.getWidth()&&n>0&&n<this.image.getHeight()}isValidPoint(e){let n=bt.round(e.getX()),i=bt.round(e.getY());return this.isValid(n,i)}distancePoint(e,n){return bt.distance(e.getX(),e.getY(),n.getX(),n.getY())}distanceResultPoint(e,n){return bt.distance(e.getX(),e.getY(),n.getX(),n.getY())}getDimension(){return this.compact?4*this.nbLayers+11:this.nbLayers<=4?4*this.nbLayers+15:4*this.nbLayers+2*(V.truncDivision(this.nbLayers-4,8)+1)+15}}class bs{decode(e,n=null){let i=null,c=new li(e.getBlackMatrix()),u=null,f=null;try{let j=c.detectMirror(!1);u=j.getPoints(),this.reportFoundResultPoints(n,u),f=new Pt().decode(j)}catch(j){i=j}if(f==null)try{let j=c.detectMirror(!0);u=j.getPoints(),this.reportFoundResultPoints(n,u),f=new Pt().decode(j)}catch(j){throw i??j}let m=new Be(f.getText(),f.getRawBytes(),f.getNumBits(),u,Se.AZTEC,R.currentTimeMillis()),y=f.getByteSegments();y!=null&&m.putMetadata(Me.BYTE_SEGMENTS,y);let N=f.getECLevel();return N!=null&&m.putMetadata(Me.ERROR_CORRECTION_LEVEL,N),m}reportFoundResultPoints(e,n){if(e!=null){let i=e.get(le.NEED_RESULT_POINT_CALLBACK);i!=null&&n.forEach((c,u,f)=>{i.foundPossibleResultPoint(c)})}}reset(){}}class Qu extends Ge{constructor(e=500){super(new bs,e)}}class cn{decode(e,n){try{return this.doDecode(e,n)}catch{if(n&&n.get(le.TRY_HARDER)===!0&&e.isRotateSupported()){const u=e.rotateCounterClockwise(),f=this.doDecode(u,n),m=f.getResultMetadata();let y=270;m!==null&&m.get(Me.ORIENTATION)===!0&&(y=y+m.get(Me.ORIENTATION)%360),f.putMetadata(Me.ORIENTATION,y);const N=f.getResultPoints();if(N!==null){const j=u.getHeight();for(let D=0;D<N.length;D++)N[D]=new Fe(j-N[D].getY()-1,N[D].getX())}return f}else throw new W}}reset(){}doDecode(e,n){const i=e.getWidth(),c=e.getHeight();let u=new K(i);const f=n&&n.get(le.TRY_HARDER)===!0,m=Math.max(1,c>>(f?8:5));let y;f?y=c:y=15;const N=Math.trunc(c/2);for(let j=0;j<y;j++){const D=Math.trunc((j+1)/2),k=(j&1)===0,U=N+m*(k?D:-D);if(U<0||U>=c)break;try{u=e.getBlackRow(U,u)}catch{continue}for(let X=0;X<2;X++){if(X===1&&(u.reverse(),n&&n.get(le.NEED_RESULT_POINT_CALLBACK)===!0)){const q=new Map;n.forEach((J,ie)=>q.set(ie,J)),q.delete(le.NEED_RESULT_POINT_CALLBACK),n=q}try{const q=this.decodeRow(U,u,n);if(X===1){q.putMetadata(Me.ORIENTATION,180);const J=q.getResultPoints();J!==null&&(J[0]=new Fe(i-J[0].getX()-1,J[0].getY()),J[1]=new Fe(i-J[1].getX()-1,J[1].getY()))}return q}catch{}}}throw new W}static recordPattern(e,n,i){const c=i.length;for(let N=0;N<c;N++)i[N]=0;const u=e.getSize();if(n>=u)throw new W;let f=!e.get(n),m=0,y=n;for(;y<u;){if(e.get(y)!==f)i[m]++;else{if(++m===c)break;i[m]=1,f=!f}y++}if(!(m===c||m===c-1&&y===u))throw new W}static recordPatternInReverse(e,n,i){let c=i.length,u=e.get(n);for(;n>0&&c>=0;)e.get(--n)!==u&&(c--,u=!u);if(c>=0)throw new W;cn.recordPattern(e,n+1,i)}static patternMatchVariance(e,n,i){const c=e.length;let u=0,f=0;for(let N=0;N<c;N++)u+=e[N],f+=n[N];if(u<f)return Number.POSITIVE_INFINITY;const m=u/f;i*=m;let y=0;for(let N=0;N<c;N++){const j=e[N],D=n[N]*m,k=j>D?j-D:D-j;if(k>i)return Number.POSITIVE_INFINITY;y+=k}return y/u}}class Te extends cn{static findStartPattern(e){const n=e.getSize(),i=e.getNextSet(0);let c=0,u=Int32Array.from([0,0,0,0,0,0]),f=i,m=!1;const y=6;for(let N=i;N<n;N++)if(e.get(N)!==m)u[c]++;else{if(c===y-1){let j=Te.MAX_AVG_VARIANCE,D=-1;for(let k=Te.CODE_START_A;k<=Te.CODE_START_C;k++){const U=cn.patternMatchVariance(u,Te.CODE_PATTERNS[k],Te.MAX_INDIVIDUAL_VARIANCE);U<j&&(j=U,D=k)}if(D>=0&&e.isRange(Math.max(0,f-(N-f)/2),f,!1))return Int32Array.from([f,N,D]);f+=u[0]+u[1],u=u.slice(2,u.length-1),u[c-1]=0,u[c]=0,c--}else c++;u[c]=1,m=!m}throw new W}static decodeCode(e,n,i){cn.recordPattern(e,i,n);let c=Te.MAX_AVG_VARIANCE,u=-1;for(let f=0;f<Te.CODE_PATTERNS.length;f++){const m=Te.CODE_PATTERNS[f],y=this.patternMatchVariance(n,m,Te.MAX_INDIVIDUAL_VARIANCE);y<c&&(c=y,u=f)}if(u>=0)return u;throw new W}decodeRow(e,n,i){const c=i&&i.get(le.ASSUME_GS1)===!0,u=Te.findStartPattern(n),f=u[2];let m=0;const y=new Uint8Array(20);y[m++]=f;let N;switch(f){case Te.CODE_START_A:N=Te.CODE_CODE_A;break;case Te.CODE_START_B:N=Te.CODE_CODE_B;break;case Te.CODE_START_C:N=Te.CODE_CODE_C;break;default:throw new Q}let j=!1,D=!1,k="",U=u[0],X=u[1];const q=Int32Array.from([0,0,0,0,0,0]);let J=0,ie=0,be=f,Ne=0,ye=!0,vt=!1,ut=!1;for(;!j;){const us=D;switch(D=!1,J=ie,ie=Te.decodeCode(n,q,X),y[m++]=ie,ie!==Te.CODE_STOP&&(ye=!0),ie!==Te.CODE_STOP&&(Ne++,be+=Ne*ie),U=X,X+=q.reduce((wi,Ya)=>wi+Ya,0),ie){case Te.CODE_START_A:case Te.CODE_START_B:case Te.CODE_START_C:throw new Q}switch(N){case Te.CODE_CODE_A:if(ie<64)ut===vt?k+=String.fromCharCode(32+ie):k+=String.fromCharCode(32+ie+128),ut=!1;else if(ie<96)ut===vt?k+=String.fromCharCode(ie-64):k+=String.fromCharCode(ie+64),ut=!1;else switch(ie!==Te.CODE_STOP&&(ye=!1),ie){case Te.CODE_FNC_1:c&&(k.length===0?k+="]C1":k+="");break;case Te.CODE_FNC_2:case Te.CODE_FNC_3:break;case Te.CODE_FNC_4_A:!vt&&ut?(vt=!0,ut=!1):vt&&ut?(vt=!1,ut=!1):ut=!0;break;case Te.CODE_SHIFT:D=!0,N=Te.CODE_CODE_B;break;case Te.CODE_CODE_B:N=Te.CODE_CODE_B;break;case Te.CODE_CODE_C:N=Te.CODE_CODE_C;break;case Te.CODE_STOP:j=!0;break}break;case Te.CODE_CODE_B:if(ie<96)ut===vt?k+=String.fromCharCode(32+ie):k+=String.fromCharCode(32+ie+128),ut=!1;else switch(ie!==Te.CODE_STOP&&(ye=!1),ie){case Te.CODE_FNC_1:c&&(k.length===0?k+="]C1":k+="");break;case Te.CODE_FNC_2:case Te.CODE_FNC_3:break;case Te.CODE_FNC_4_B:!vt&&ut?(vt=!0,ut=!1):vt&&ut?(vt=!1,ut=!1):ut=!0;break;case Te.CODE_SHIFT:D=!0,N=Te.CODE_CODE_A;break;case Te.CODE_CODE_A:N=Te.CODE_CODE_A;break;case Te.CODE_CODE_C:N=Te.CODE_CODE_C;break;case Te.CODE_STOP:j=!0;break}break;case Te.CODE_CODE_C:if(ie<100)ie<10&&(k+="0"),k+=ie;else switch(ie!==Te.CODE_STOP&&(ye=!1),ie){case Te.CODE_FNC_1:c&&(k.length===0?k+="]C1":k+="");break;case Te.CODE_CODE_A:N=Te.CODE_CODE_A;break;case Te.CODE_CODE_B:N=Te.CODE_CODE_B;break;case Te.CODE_STOP:j=!0;break}break}us&&(N=N===Te.CODE_CODE_A?Te.CODE_CODE_B:Te.CODE_CODE_A)}const ir=X-U;if(X=n.getNextUnset(X),!n.isRange(X,Math.min(n.getSize(),X+(X-U)/2),!1))throw new W;if(be-=Ne*J,be%103!==J)throw new P;const Ur=k.length;if(Ur===0)throw new W;Ur>0&&ye&&(N===Te.CODE_CODE_C?k=k.substring(0,Ur-2):k=k.substring(0,Ur-1));const Cn=(u[1]+u[0])/2,_t=U+ir/2,un=y.length,Zn=new Uint8Array(un);for(let us=0;us<un;us++)Zn[us]=y[us];const Xs=[new Fe(Cn,e),new Fe(_t,e)];return new Be(k,Zn,0,Xs,Se.CODE_128,new Date().getTime())}}Te.CODE_PATTERNS=[Int32Array.from([2,1,2,2,2,2]),Int32Array.from([2,2,2,1,2,2]),Int32Array.from([2,2,2,2,2,1]),Int32Array.from([1,2,1,2,2,3]),Int32Array.from([1,2,1,3,2,2]),Int32Array.from([1,3,1,2,2,2]),Int32Array.from([1,2,2,2,1,3]),Int32Array.from([1,2,2,3,1,2]),Int32Array.from([1,3,2,2,1,2]),Int32Array.from([2,2,1,2,1,3]),Int32Array.from([2,2,1,3,1,2]),Int32Array.from([2,3,1,2,1,2]),Int32Array.from([1,1,2,2,3,2]),Int32Array.from([1,2,2,1,3,2]),Int32Array.from([1,2,2,2,3,1]),Int32Array.from([1,1,3,2,2,2]),Int32Array.from([1,2,3,1,2,2]),Int32Array.from([1,2,3,2,2,1]),Int32Array.from([2,2,3,2,1,1]),Int32Array.from([2,2,1,1,3,2]),Int32Array.from([2,2,1,2,3,1]),Int32Array.from([2,1,3,2,1,2]),Int32Array.from([2,2,3,1,1,2]),Int32Array.from([3,1,2,1,3,1]),Int32Array.from([3,1,1,2,2,2]),Int32Array.from([3,2,1,1,2,2]),Int32Array.from([3,2,1,2,2,1]),Int32Array.from([3,1,2,2,1,2]),Int32Array.from([3,2,2,1,1,2]),Int32Array.from([3,2,2,2,1,1]),Int32Array.from([2,1,2,1,2,3]),Int32Array.from([2,1,2,3,2,1]),Int32Array.from([2,3,2,1,2,1]),Int32Array.from([1,1,1,3,2,3]),Int32Array.from([1,3,1,1,2,3]),Int32Array.from([1,3,1,3,2,1]),Int32Array.from([1,1,2,3,1,3]),Int32Array.from([1,3,2,1,1,3]),Int32Array.from([1,3,2,3,1,1]),Int32Array.from([2,1,1,3,1,3]),Int32Array.from([2,3,1,1,1,3]),Int32Array.from([2,3,1,3,1,1]),Int32Array.from([1,1,2,1,3,3]),Int32Array.from([1,1,2,3,3,1]),Int32Array.from([1,3,2,1,3,1]),Int32Array.from([1,1,3,1,2,3]),Int32Array.from([1,1,3,3,2,1]),Int32Array.from([1,3,3,1,2,1]),Int32Array.from([3,1,3,1,2,1]),Int32Array.from([2,1,1,3,3,1]),Int32Array.from([2,3,1,1,3,1]),Int32Array.from([2,1,3,1,1,3]),Int32Array.from([2,1,3,3,1,1]),Int32Array.from([2,1,3,1,3,1]),Int32Array.from([3,1,1,1,2,3]),Int32Array.from([3,1,1,3,2,1]),Int32Array.from([3,3,1,1,2,1]),Int32Array.from([3,1,2,1,1,3]),Int32Array.from([3,1,2,3,1,1]),Int32Array.from([3,3,2,1,1,1]),Int32Array.from([3,1,4,1,1,1]),Int32Array.from([2,2,1,4,1,1]),Int32Array.from([4,3,1,1,1,1]),Int32Array.from([1,1,1,2,2,4]),Int32Array.from([1,1,1,4,2,2]),Int32Array.from([1,2,1,1,2,4]),Int32Array.from([1,2,1,4,2,1]),Int32Array.from([1,4,1,1,2,2]),Int32Array.from([1,4,1,2,2,1]),Int32Array.from([1,1,2,2,1,4]),Int32Array.from([1,1,2,4,1,2]),Int32Array.from([1,2,2,1,1,4]),Int32Array.from([1,2,2,4,1,1]),Int32Array.from([1,4,2,1,1,2]),Int32Array.from([1,4,2,2,1,1]),Int32Array.from([2,4,1,2,1,1]),Int32Array.from([2,2,1,1,1,4]),Int32Array.from([4,1,3,1,1,1]),Int32Array.from([2,4,1,1,1,2]),Int32Array.from([1,3,4,1,1,1]),Int32Array.from([1,1,1,2,4,2]),Int32Array.from([1,2,1,1,4,2]),Int32Array.from([1,2,1,2,4,1]),Int32Array.from([1,1,4,2,1,2]),Int32Array.from([1,2,4,1,1,2]),Int32Array.from([1,2,4,2,1,1]),Int32Array.from([4,1,1,2,1,2]),Int32Array.from([4,2,1,1,1,2]),Int32Array.from([4,2,1,2,1,1]),Int32Array.from([2,1,2,1,4,1]),Int32Array.from([2,1,4,1,2,1]),Int32Array.from([4,1,2,1,2,1]),Int32Array.from([1,1,1,1,4,3]),Int32Array.from([1,1,1,3,4,1]),Int32Array.from([1,3,1,1,4,1]),Int32Array.from([1,1,4,1,1,3]),Int32Array.from([1,1,4,3,1,1]),Int32Array.from([4,1,1,1,1,3]),Int32Array.from([4,1,1,3,1,1]),Int32Array.from([1,1,3,1,4,1]),Int32Array.from([1,1,4,1,3,1]),Int32Array.from([3,1,1,1,4,1]),Int32Array.from([4,1,1,1,3,1]),Int32Array.from([2,1,1,4,1,2]),Int32Array.from([2,1,1,2,1,4]),Int32Array.from([2,1,1,2,3,2]),Int32Array.from([2,3,3,1,1,1,2])],Te.MAX_AVG_VARIANCE=.25,Te.MAX_INDIVIDUAL_VARIANCE=.7,Te.CODE_SHIFT=98,Te.CODE_CODE_C=99,Te.CODE_CODE_B=100,Te.CODE_CODE_A=101,Te.CODE_FNC_1=102,Te.CODE_FNC_2=97,Te.CODE_FNC_3=96,Te.CODE_FNC_4_A=101,Te.CODE_FNC_4_B=100,Te.CODE_START_A=103,Te.CODE_START_B=104,Te.CODE_START_C=105,Te.CODE_STOP=106;class yn extends cn{constructor(e=!1,n=!1){super(),this.usingCheckDigit=e,this.extendedMode=n,this.decodeRowResult="",this.counters=new Int32Array(9)}decodeRow(e,n,i){let c=this.counters;c.fill(0),this.decodeRowResult="";let u=yn.findAsteriskPattern(n,c),f=n.getNextSet(u[1]),m=n.getSize(),y,N;do{yn.recordPattern(n,f,c);let q=yn.toNarrowWidePattern(c);if(q<0)throw new W;y=yn.patternToChar(q),this.decodeRowResult+=y,N=f;for(let J of c)f+=J;f=n.getNextSet(f)}while(y!=="*");this.decodeRowResult=this.decodeRowResult.substring(0,this.decodeRowResult.length-1);let j=0;for(let q of c)j+=q;let D=f-N-j;if(f!==m&&D*2<j)throw new W;if(this.usingCheckDigit){let q=this.decodeRowResult.length-1,J=0;for(let ie=0;ie<q;ie++)J+=yn.ALPHABET_STRING.indexOf(this.decodeRowResult.charAt(ie));if(this.decodeRowResult.charAt(q)!==yn.ALPHABET_STRING.charAt(J%43))throw new P;this.decodeRowResult=this.decodeRowResult.substring(0,q)}if(this.decodeRowResult.length===0)throw new W;let k;this.extendedMode?k=yn.decodeExtended(this.decodeRowResult):k=this.decodeRowResult;let U=(u[1]+u[0])/2,X=N+j/2;return new Be(k,null,0,[new Fe(U,e),new Fe(X,e)],Se.CODE_39,new Date().getTime())}static findAsteriskPattern(e,n){let i=e.getSize(),c=e.getNextSet(0),u=0,f=c,m=!1,y=n.length;for(let N=c;N<i;N++)if(e.get(N)!==m)n[u]++;else{if(u===y-1){if(this.toNarrowWidePattern(n)===yn.ASTERISK_ENCODING&&e.isRange(Math.max(0,f-Math.floor((N-f)/2)),f,!1))return[f,N];f+=n[0]+n[1],n.copyWithin(0,2,2+u-1),n[u-1]=0,n[u]=0,u--}else u++;n[u]=1,m=!m}throw new W}static toNarrowWidePattern(e){let n=e.length,i=0,c;do{let u=2147483647;for(let y of e)y<u&&y>i&&(u=y);i=u,c=0;let f=0,m=0;for(let y=0;y<n;y++){let N=e[y];N>i&&(m|=1<<n-1-y,c++,f+=N)}if(c===3){for(let y=0;y<n&&c>0;y++){let N=e[y];if(N>i&&(c--,N*2>=f))return-1}return m}}while(c>3);return-1}static patternToChar(e){for(let n=0;n<yn.CHARACTER_ENCODINGS.length;n++)if(yn.CHARACTER_ENCODINGS[n]===e)return yn.ALPHABET_STRING.charAt(n);if(e===yn.ASTERISK_ENCODING)return"*";throw new W}static decodeExtended(e){let n=e.length,i="";for(let c=0;c<n;c++){let u=e.charAt(c);if(u==="+"||u==="$"||u==="%"||u==="/"){let f=e.charAt(c+1),m="\0";switch(u){case"+":if(f>="A"&&f<="Z")m=String.fromCharCode(f.charCodeAt(0)+32);else throw new Q;break;case"$":if(f>="A"&&f<="Z")m=String.fromCharCode(f.charCodeAt(0)-64);else throw new Q;break;case"%":if(f>="A"&&f<="E")m=String.fromCharCode(f.charCodeAt(0)-38);else if(f>="F"&&f<="J")m=String.fromCharCode(f.charCodeAt(0)-11);else if(f>="K"&&f<="O")m=String.fromCharCode(f.charCodeAt(0)+16);else if(f>="P"&&f<="T")m=String.fromCharCode(f.charCodeAt(0)+43);else if(f==="U")m="\0";else if(f==="V")m="@";else if(f==="W")m="`";else if(f==="X"||f==="Y"||f==="Z")m="";else throw new Q;break;case"/":if(f>="A"&&f<="O")m=String.fromCharCode(f.charCodeAt(0)-32);else if(f==="Z")m=":";else throw new Q;break}i+=m,c++}else i+=u}return i}}yn.ALPHABET_STRING="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ-. $/+%",yn.CHARACTER_ENCODINGS=[52,289,97,352,49,304,112,37,292,100,265,73,328,25,280,88,13,268,76,28,259,67,322,19,274,82,7,262,70,22,385,193,448,145,400,208,133,388,196,168,162,138,42],yn.ASTERISK_ENCODING=148;class Ot extends cn{constructor(){super(...arguments),this.narrowLineWidth=-1}decodeRow(e,n,i){let c=this.decodeStart(n),u=this.decodeEnd(n),f=new Ie;Ot.decodeMiddle(n,c[1],u[0],f);let m=f.toString(),y=null;i!=null&&(y=i.get(le.ALLOWED_LENGTHS)),y==null&&(y=Ot.DEFAULT_ALLOWED_LENGTHS);let N=m.length,j=!1,D=0;for(let X of y){if(N===X){j=!0;break}X>D&&(D=X)}if(!j&&N>D&&(j=!0),!j)throw new Q;const k=[new Fe(c[1],e),new Fe(u[0],e)];return new Be(m,null,0,k,Se.ITF,new Date().getTime())}static decodeMiddle(e,n,i,c){let u=new Int32Array(10),f=new Int32Array(5),m=new Int32Array(5);for(u.fill(0),f.fill(0),m.fill(0);n<i;){cn.recordPattern(e,n,u);for(let N=0;N<5;N++){let j=2*N;f[N]=u[j],m[N]=u[j+1]}let y=Ot.decodeDigit(f);c.append(y.toString()),y=this.decodeDigit(m),c.append(y.toString()),u.forEach(function(N){n+=N})}}decodeStart(e){let n=Ot.skipWhiteSpace(e),i=Ot.findGuardPattern(e,n,Ot.START_PATTERN);return this.narrowLineWidth=(i[1]-i[0])/4,this.validateQuietZone(e,i[0]),i}validateQuietZone(e,n){let i=this.narrowLineWidth*10;i=i<n?i:n;for(let c=n-1;i>0&&c>=0&&!e.get(c);c--)i--;if(i!==0)throw new W}static skipWhiteSpace(e){const n=e.getSize(),i=e.getNextSet(0);if(i===n)throw new W;return i}decodeEnd(e){e.reverse();try{let n=Ot.skipWhiteSpace(e),i;try{i=Ot.findGuardPattern(e,n,Ot.END_PATTERN_REVERSED[0])}catch(u){u instanceof W&&(i=Ot.findGuardPattern(e,n,Ot.END_PATTERN_REVERSED[1]))}this.validateQuietZone(e,i[0]);let c=i[0];return i[0]=e.getSize()-i[1],i[1]=e.getSize()-c,i}finally{e.reverse()}}static findGuardPattern(e,n,i){let c=i.length,u=new Int32Array(c),f=e.getSize(),m=!1,y=0,N=n;u.fill(0);for(let j=n;j<f;j++)if(e.get(j)!==m)u[y]++;else{if(y===c-1){if(cn.patternMatchVariance(u,i,Ot.MAX_INDIVIDUAL_VARIANCE)<Ot.MAX_AVG_VARIANCE)return[N,j];N+=u[0]+u[1],R.arraycopy(u,2,u,0,y-1),u[y-1]=0,u[y]=0,y--}else y++;u[y]=1,m=!m}throw new W}static decodeDigit(e){let n=Ot.MAX_AVG_VARIANCE,i=-1,c=Ot.PATTERNS.length;for(let u=0;u<c;u++){let f=Ot.PATTERNS[u],m=cn.patternMatchVariance(e,f,Ot.MAX_INDIVIDUAL_VARIANCE);m<n?(n=m,i=u):m===n&&(i=-1)}if(i>=0)return i%10;throw new W}}Ot.PATTERNS=[Int32Array.from([1,1,2,2,1]),Int32Array.from([2,1,1,1,2]),Int32Array.from([1,2,1,1,2]),Int32Array.from([2,2,1,1,1]),Int32Array.from([1,1,2,1,2]),Int32Array.from([2,1,2,1,1]),Int32Array.from([1,2,2,1,1]),Int32Array.from([1,1,1,2,2]),Int32Array.from([2,1,1,2,1]),Int32Array.from([1,2,1,2,1]),Int32Array.from([1,1,3,3,1]),Int32Array.from([3,1,1,1,3]),Int32Array.from([1,3,1,1,3]),Int32Array.from([3,3,1,1,1]),Int32Array.from([1,1,3,1,3]),Int32Array.from([3,1,3,1,1]),Int32Array.from([1,3,3,1,1]),Int32Array.from([1,1,1,3,3]),Int32Array.from([3,1,1,3,1]),Int32Array.from([1,3,1,3,1])],Ot.MAX_AVG_VARIANCE=.38,Ot.MAX_INDIVIDUAL_VARIANCE=.5,Ot.DEFAULT_ALLOWED_LENGTHS=[6,8,10,12,14],Ot.START_PATTERN=Int32Array.from([1,1,1,1]),Ot.END_PATTERN_REVERSED=[Int32Array.from([1,1,2]),Int32Array.from([1,1,3])];class Yt extends cn{constructor(){super(...arguments),this.decodeRowStringBuffer=""}static findStartGuardPattern(e){let n=!1,i,c=0,u=Int32Array.from([0,0,0]);for(;!n;){u=Int32Array.from([0,0,0]),i=Yt.findGuardPattern(e,c,!1,this.START_END_PATTERN,u);let f=i[0];c=i[1];let m=f-(c-f);m>=0&&(n=e.isRange(m,f,!1))}return i}static checkChecksum(e){return Yt.checkStandardUPCEANChecksum(e)}static checkStandardUPCEANChecksum(e){let n=e.length;if(n===0)return!1;let i=parseInt(e.charAt(n-1),10);return Yt.getStandardUPCEANChecksum(e.substring(0,n-1))===i}static getStandardUPCEANChecksum(e){let n=e.length,i=0;for(let c=n-1;c>=0;c-=2){let u=e.charAt(c).charCodeAt(0)-48;if(u<0||u>9)throw new Q;i+=u}i*=3;for(let c=n-2;c>=0;c-=2){let u=e.charAt(c).charCodeAt(0)-48;if(u<0||u>9)throw new Q;i+=u}return(1e3-i)%10}static decodeEnd(e,n){return Yt.findGuardPattern(e,n,!1,Yt.START_END_PATTERN,new Int32Array(Yt.START_END_PATTERN.length).fill(0))}static findGuardPatternWithoutCounters(e,n,i,c){return this.findGuardPattern(e,n,i,c,new Int32Array(c.length))}static findGuardPattern(e,n,i,c,u){let f=e.getSize();n=i?e.getNextUnset(n):e.getNextSet(n);let m=0,y=n,N=c.length,j=i;for(let D=n;D<f;D++)if(e.get(D)!==j)u[m]++;else{if(m===N-1){if(cn.patternMatchVariance(u,c,Yt.MAX_INDIVIDUAL_VARIANCE)<Yt.MAX_AVG_VARIANCE)return Int32Array.from([y,D]);y+=u[0]+u[1];let k=u.slice(2,u.length-1);for(let U=0;U<m-1;U++)u[U]=k[U];u[m-1]=0,u[m]=0,m--}else m++;u[m]=1,j=!j}throw new W}static decodeDigit(e,n,i,c){this.recordPattern(e,i,n);let u=this.MAX_AVG_VARIANCE,f=-1,m=c.length;for(let y=0;y<m;y++){let N=c[y],j=cn.patternMatchVariance(n,N,Yt.MAX_INDIVIDUAL_VARIANCE);j<u&&(u=j,f=y)}if(f>=0)return f;throw new W}}Yt.MAX_AVG_VARIANCE=.48,Yt.MAX_INDIVIDUAL_VARIANCE=.7,Yt.START_END_PATTERN=Int32Array.from([1,1,1]),Yt.MIDDLE_PATTERN=Int32Array.from([1,1,1,1,1]),Yt.END_PATTERN=Int32Array.from([1,1,1,1,1,1]),Yt.L_PATTERNS=[Int32Array.from([3,2,1,1]),Int32Array.from([2,2,2,1]),Int32Array.from([2,1,2,2]),Int32Array.from([1,4,1,1]),Int32Array.from([1,1,3,2]),Int32Array.from([1,2,3,1]),Int32Array.from([1,1,1,4]),Int32Array.from([1,3,1,2]),Int32Array.from([1,2,1,3]),Int32Array.from([3,1,1,2])];class Hs{constructor(){this.CHECK_DIGIT_ENCODINGS=[24,20,18,17,12,6,3,10,9,5],this.decodeMiddleCounters=Int32Array.from([0,0,0,0]),this.decodeRowStringBuffer=""}decodeRow(e,n,i){let c=this.decodeRowStringBuffer,u=this.decodeMiddle(n,i,c),f=c.toString(),m=Hs.parseExtensionString(f),y=[new Fe((i[0]+i[1])/2,e),new Fe(u,e)],N=new Be(f,null,0,y,Se.UPC_EAN_EXTENSION,new Date().getTime());return m!=null&&N.putAllMetadata(m),N}decodeMiddle(e,n,i){let c=this.decodeMiddleCounters;c[0]=0,c[1]=0,c[2]=0,c[3]=0;let u=e.getSize(),f=n[1],m=0;for(let N=0;N<5&&f<u;N++){let j=Yt.decodeDigit(e,c,f,Yt.L_AND_G_PATTERNS);i+=String.fromCharCode(48+j%10);for(let D of c)f+=D;j>=10&&(m|=1<<4-N),N!==4&&(f=e.getNextSet(f),f=e.getNextUnset(f))}if(i.length!==5)throw new W;let y=this.determineCheckDigit(m);if(Hs.extensionChecksum(i.toString())!==y)throw new W;return f}static extensionChecksum(e){let n=e.length,i=0;for(let c=n-2;c>=0;c-=2)i+=e.charAt(c).charCodeAt(0)-48;i*=3;for(let c=n-1;c>=0;c-=2)i+=e.charAt(c).charCodeAt(0)-48;return i*=3,i%10}determineCheckDigit(e){for(let n=0;n<10;n++)if(e===this.CHECK_DIGIT_ENCODINGS[n])return n;throw new W}static parseExtensionString(e){if(e.length!==5)return null;let n=Hs.parseExtension5String(e);return n==null?null:new Map([[Me.SUGGESTED_PRICE,n]])}static parseExtension5String(e){let n;switch(e.charAt(0)){case"0":n="";break;case"5":n="$";break;case"9":switch(e){case"90000":return null;case"99991":return"0.00";case"99990":return"Used"}n="";break;default:n="";break}let i=parseInt(e.substring(1)),c=(i/100).toString(),u=i%100,f=u<10?"0"+u:u.toString();return n+c+"."+f}}class Wi{constructor(){this.decodeMiddleCounters=Int32Array.from([0,0,0,0]),this.decodeRowStringBuffer=""}decodeRow(e,n,i){let c=this.decodeRowStringBuffer,u=this.decodeMiddle(n,i,c),f=c.toString(),m=Wi.parseExtensionString(f),y=[new Fe((i[0]+i[1])/2,e),new Fe(u,e)],N=new Be(f,null,0,y,Se.UPC_EAN_EXTENSION,new Date().getTime());return m!=null&&N.putAllMetadata(m),N}decodeMiddle(e,n,i){let c=this.decodeMiddleCounters;c[0]=0,c[1]=0,c[2]=0,c[3]=0;let u=e.getSize(),f=n[1],m=0;for(let y=0;y<2&&f<u;y++){let N=Yt.decodeDigit(e,c,f,Yt.L_AND_G_PATTERNS);i+=String.fromCharCode(48+N%10);for(let j of c)f+=j;N>=10&&(m|=1<<1-y),y!==1&&(f=e.getNextSet(f),f=e.getNextUnset(f))}if(i.length!==2)throw new W;if(parseInt(i.toString())%4!==m)throw new W;return f}static parseExtensionString(e){return e.length!==2?null:new Map([[Me.ISSUE_NUMBER,parseInt(e)]])}}class jo{static decodeRow(e,n,i){let c=Yt.findGuardPattern(n,i,!1,this.EXTENSION_START_PATTERN,new Int32Array(this.EXTENSION_START_PATTERN.length).fill(0));try{return new Hs().decodeRow(e,n,c)}catch{return new Wi().decodeRow(e,n,c)}}}jo.EXTENSION_START_PATTERN=Int32Array.from([1,1,2]);class Ct extends Yt{constructor(){super(),this.decodeRowStringBuffer="",Ct.L_AND_G_PATTERNS=Ct.L_PATTERNS.map(e=>Int32Array.from(e));for(let e=10;e<20;e++){let n=Ct.L_PATTERNS[e-10],i=new Int32Array(n.length);for(let c=0;c<n.length;c++)i[c]=n[n.length-c-1];Ct.L_AND_G_PATTERNS[e]=i}}decodeRow(e,n,i){let c=Ct.findStartGuardPattern(n),u=i==null?null:i.get(le.NEED_RESULT_POINT_CALLBACK);if(u!=null){const ye=new Fe((c[0]+c[1])/2,e);u.foundPossibleResultPoint(ye)}let f=this.decodeMiddle(n,c,this.decodeRowStringBuffer),m=f.rowOffset,y=f.resultString;if(u!=null){const ye=new Fe(m,e);u.foundPossibleResultPoint(ye)}let N=this.decodeEnd(n,m);if(u!=null){const ye=new Fe((N[0]+N[1])/2,e);u.foundPossibleResultPoint(ye)}let j=N[1],D=j+(j-N[0]);if(D>=n.getSize()||!n.isRange(j,D,!1))throw new W;let k=y.toString();if(k.length<8)throw new Q;if(!Ct.checkChecksum(k))throw new P;let U=(c[1]+c[0])/2,X=(N[1]+N[0])/2,q=this.getBarcodeFormat(),J=[new Fe(U,e),new Fe(X,e)],ie=new Be(k,null,0,J,q,new Date().getTime()),be=0;try{let ye=jo.decodeRow(e,n,N[1]);ie.putMetadata(Me.UPC_EAN_EXTENSION,ye.getText()),ie.putAllMetadata(ye.getResultMetadata()),ie.addResultPoints(ye.getResultPoints()),be=ye.getText().length}catch{}let Ne=i==null?null:i.get(le.ALLOWED_EAN_EXTENSIONS);if(Ne!=null){let ye=!1;for(let vt in Ne)if(be.toString()===vt){ye=!0;break}if(!ye)throw new W}return ie}decodeEnd(e,n){return Ct.findGuardPattern(e,n,!1,Ct.START_END_PATTERN,new Int32Array(Ct.START_END_PATTERN.length).fill(0))}static checkChecksum(e){return Ct.checkStandardUPCEANChecksum(e)}static checkStandardUPCEANChecksum(e){let n=e.length;if(n===0)return!1;let i=parseInt(e.charAt(n-1),10);return Ct.getStandardUPCEANChecksum(e.substring(0,n-1))===i}static getStandardUPCEANChecksum(e){let n=e.length,i=0;for(let c=n-1;c>=0;c-=2){let u=e.charAt(c).charCodeAt(0)-48;if(u<0||u>9)throw new Q;i+=u}i*=3;for(let c=n-2;c>=0;c-=2){let u=e.charAt(c).charCodeAt(0)-48;if(u<0||u>9)throw new Q;i+=u}return(1e3-i)%10}}class Cr extends Ct{constructor(){super(),this.decodeMiddleCounters=Int32Array.from([0,0,0,0])}decodeMiddle(e,n,i){let c=this.decodeMiddleCounters;c[0]=0,c[1]=0,c[2]=0,c[3]=0;let u=e.getSize(),f=n[1],m=0;for(let N=0;N<6&&f<u;N++){let j=Ct.decodeDigit(e,c,f,Ct.L_AND_G_PATTERNS);i+=String.fromCharCode(48+j%10);for(let D of c)f+=D;j>=10&&(m|=1<<5-N)}i=Cr.determineFirstDigit(i,m),f=Ct.findGuardPattern(e,f,!0,Ct.MIDDLE_PATTERN,new Int32Array(Ct.MIDDLE_PATTERN.length).fill(0))[1];for(let N=0;N<6&&f<u;N++){let j=Ct.decodeDigit(e,c,f,Ct.L_PATTERNS);i+=String.fromCharCode(48+j);for(let D of c)f+=D}return{rowOffset:f,resultString:i}}getBarcodeFormat(){return Se.EAN_13}static determineFirstDigit(e,n){for(let i=0;i<10;i++)if(n===this.FIRST_DIGIT_ENCODINGS[i])return e=String.fromCharCode(48+i)+e,e;throw new W}}Cr.FIRST_DIGIT_ENCODINGS=[0,11,13,14,19,25,28,21,22,26];class Ta extends Ct{constructor(){super(),this.decodeMiddleCounters=Int32Array.from([0,0,0,0])}decodeMiddle(e,n,i){const c=this.decodeMiddleCounters;c[0]=0,c[1]=0,c[2]=0,c[3]=0;let u=e.getSize(),f=n[1];for(let y=0;y<4&&f<u;y++){let N=Ct.decodeDigit(e,c,f,Ct.L_PATTERNS);i+=String.fromCharCode(48+N);for(let j of c)f+=j}f=Ct.findGuardPattern(e,f,!0,Ct.MIDDLE_PATTERN,new Int32Array(Ct.MIDDLE_PATTERN.length).fill(0))[1];for(let y=0;y<4&&f<u;y++){let N=Ct.decodeDigit(e,c,f,Ct.L_PATTERNS);i+=String.fromCharCode(48+N);for(let j of c)f+=j}return{rowOffset:f,resultString:i}}getBarcodeFormat(){return Se.EAN_8}}class ja extends Ct{constructor(){super(...arguments),this.ean13Reader=new Cr}getBarcodeFormat(){return Se.UPC_A}decode(e,n){return this.maybeReturnResult(this.ean13Reader.decode(e))}decodeRow(e,n,i){return this.maybeReturnResult(this.ean13Reader.decodeRow(e,n,i))}decodeMiddle(e,n,i){return this.ean13Reader.decodeMiddle(e,n,i)}maybeReturnResult(e){let n=e.getText();if(n.charAt(0)==="0"){let i=new Be(n.substring(1),null,null,e.getResultPoints(),Se.UPC_A);return e.getResultMetadata()!=null&&i.putAllMetadata(e.getResultMetadata()),i}else throw new W}reset(){this.ean13Reader.reset()}}class Er extends Ct{constructor(){super(),this.decodeMiddleCounters=new Int32Array(4)}decodeMiddle(e,n,i){const c=this.decodeMiddleCounters.map(N=>N);c[0]=0,c[1]=0,c[2]=0,c[3]=0;const u=e.getSize();let f=n[1],m=0;for(let N=0;N<6&&f<u;N++){const j=Er.decodeDigit(e,c,f,Er.L_AND_G_PATTERNS);i+=String.fromCharCode(48+j%10);for(let D of c)f+=D;j>=10&&(m|=1<<5-N)}let y=Er.determineNumSysAndCheckDigit(i,m);return{rowOffset:f,resultString:y}}decodeEnd(e,n){return Er.findGuardPatternWithoutCounters(e,n,!0,Er.MIDDLE_END_PATTERN)}checkChecksum(e){return Ct.checkChecksum(Er.convertUPCEtoUPCA(e))}static determineNumSysAndCheckDigit(e,n){for(let i=0;i<=1;i++)for(let c=0;c<10;c++)if(n===this.NUMSYS_AND_CHECK_DIGIT_PATTERNS[i][c]){let u=String.fromCharCode(48+i),f=String.fromCharCode(48+c);return u+e+f}throw W.getNotFoundInstance()}getBarcodeFormat(){return Se.UPC_E}static convertUPCEtoUPCA(e){const n=e.slice(1,7).split("").map(u=>u.charCodeAt(0)),i=new Ie;i.append(e.charAt(0));let c=n[5];switch(c){case 0:case 1:case 2:i.appendChars(n,0,2),i.append(c),i.append("0000"),i.appendChars(n,2,3);break;case 3:i.appendChars(n,0,3),i.append("00000"),i.appendChars(n,3,2);break;case 4:i.appendChars(n,0,4),i.append("00000"),i.append(n[4]);break;default:i.appendChars(n,0,5),i.append("0000"),i.append(c);break}return e.length>=8&&i.append(e.charAt(7)),i.toString()}}Er.MIDDLE_END_PATTERN=Int32Array.from([1,1,1,1,1,1]),Er.NUMSYS_AND_CHECK_DIGIT_PATTERNS=[Int32Array.from([56,52,50,49,44,38,35,42,41,37]),Int32Array.from([7,11,13,14,19,25,28,21,22,26])];class Ro extends cn{constructor(e){super();let n=e==null?null:e.get(le.POSSIBLE_FORMATS),i=[];d(n)?(i.push(new Cr),i.push(new ja),i.push(new Ta),i.push(new Er)):(n.indexOf(Se.EAN_13)>-1&&i.push(new Cr),n.indexOf(Se.UPC_A)>-1&&i.push(new ja),n.indexOf(Se.EAN_8)>-1&&i.push(new Ta),n.indexOf(Se.UPC_E)>-1&&i.push(new Er)),this.readers=i}decodeRow(e,n,i){for(let c of this.readers)try{const u=c.decodeRow(e,n,i),f=u.getBarcodeFormat()===Se.EAN_13&&u.getText().charAt(0)==="0",m=i==null?null:i.get(le.POSSIBLE_FORMATS),y=m==null||m.includes(Se.UPC_A);if(f&&y){const N=u.getRawBytes(),j=new Be(u.getText().substring(1),N,N?N.length:null,u.getResultPoints(),Se.UPC_A);return j.putAllMetadata(u.getResultMetadata()),j}return u}catch{}throw new W}reset(){for(let e of this.readers)e.reset()}}class In extends cn{constructor(){super(),this.decodeFinderCounters=new Int32Array(4),this.dataCharacterCounters=new Int32Array(8),this.oddRoundingErrors=new Array(4),this.evenRoundingErrors=new Array(4),this.oddCounts=new Array(this.dataCharacterCounters.length/2),this.evenCounts=new Array(this.dataCharacterCounters.length/2)}getDecodeFinderCounters(){return this.decodeFinderCounters}getDataCharacterCounters(){return this.dataCharacterCounters}getOddRoundingErrors(){return this.oddRoundingErrors}getEvenRoundingErrors(){return this.evenRoundingErrors}getOddCounts(){return this.oddCounts}getEvenCounts(){return this.evenCounts}parseFinderValue(e,n){for(let i=0;i<n.length;i++)if(cn.patternMatchVariance(e,n[i],In.MAX_INDIVIDUAL_VARIANCE)<In.MAX_AVG_VARIANCE)return i;throw new W}static count(e){return bt.sum(new Int32Array(e))}static increment(e,n){let i=0,c=n[0];for(let u=1;u<e.length;u++)n[u]>c&&(c=n[u],i=u);e[i]++}static decrement(e,n){let i=0,c=n[0];for(let u=1;u<e.length;u++)n[u]<c&&(c=n[u],i=u);e[i]--}static isFinderPattern(e){let n=e[0]+e[1],i=n+e[2]+e[3],c=n/i;if(c>=In.MIN_FINDER_PATTERN_RATIO&&c<=In.MAX_FINDER_PATTERN_RATIO){let u=Number.MAX_SAFE_INTEGER,f=Number.MIN_SAFE_INTEGER;for(let m of e)m>f&&(f=m),m<u&&(u=m);return f<10*u}return!1}}In.MAX_AVG_VARIANCE=.2,In.MAX_INDIVIDUAL_VARIANCE=.45,In.MIN_FINDER_PATTERN_RATIO=9.5/12,In.MAX_FINDER_PATTERN_RATIO=12.5/14;class Ns{constructor(e,n){this.value=e,this.checksumPortion=n}getValue(){return this.value}getChecksumPortion(){return this.checksumPortion}toString(){return this.value+"("+this.checksumPortion+")"}equals(e){if(!(e instanceof Ns))return!1;const n=e;return this.value===n.value&&this.checksumPortion===n.checksumPortion}hashCode(){return this.value^this.checksumPortion}}class Gi{constructor(e,n,i,c,u){this.value=e,this.startEnd=n,this.value=e,this.startEnd=n,this.resultPoints=new Array,this.resultPoints.push(new Fe(i,u)),this.resultPoints.push(new Fe(c,u))}getValue(){return this.value}getStartEnd(){return this.startEnd}getResultPoints(){return this.resultPoints}equals(e){if(!(e instanceof Gi))return!1;const n=e;return this.value===n.value}hashCode(){return this.value}}class nr{constructor(){}static getRSSvalue(e,n,i){let c=0;for(let y of e)c+=y;let u=0,f=0,m=e.length;for(let y=0;y<m-1;y++){let N;for(N=1,f|=1<<y;N<e[y];N++,f&=~(1<<y)){let j=nr.combins(c-N-1,m-y-2);if(i&&f===0&&c-N-(m-y-1)>=m-y-1&&(j-=nr.combins(c-N-(m-y),m-y-2)),m-y-1>1){let D=0;for(let k=c-N-(m-y-2);k>n;k--)D+=nr.combins(c-N-k-1,m-y-3);j-=D*(m-1-y)}else c-N>n&&j--;u+=j}c-=N}return u}static combins(e,n){let i,c;e-n>n?(c=n,i=e-n):(c=e-n,i=n);let u=1,f=1;for(let m=e;m>i;m--)u*=m,f<=c&&(u/=f,f++);for(;f<=c;)u/=f,f++;return u}}class Ra{static buildBitArray(e){let n=e.length*2-1;e[e.length-1].getRightChar()==null&&(n-=1);let i=12*n,c=new K(i),u=0,m=e[0].getRightChar().getValue();for(let y=11;y>=0;--y)(m&1<<y)!=0&&c.set(u),u++;for(let y=1;y<e.length;++y){let N=e[y],j=N.getLeftChar().getValue();for(let D=11;D>=0;--D)(j&1<<D)!=0&&c.set(u),u++;if(N.getRightChar()!=null){let D=N.getRightChar().getValue();for(let k=11;k>=0;--k)(D&1<<k)!=0&&c.set(u),u++}}return c}}class Mr{constructor(e,n){n?this.decodedInformation=null:(this.finished=e,this.decodedInformation=n)}getDecodedInformation(){return this.decodedInformation}isFinished(){return this.finished}}class Oa{constructor(e){this.newPosition=e}getNewPosition(){return this.newPosition}}class Sn extends Oa{constructor(e,n){super(e),this.value=n}getValue(){return this.value}isFNC1(){return this.value===Sn.FNC1}}Sn.FNC1="$";class qr extends Oa{constructor(e,n,i){super(e),i?(this.remaining=!0,this.remainingValue=this.remainingValue):(this.remaining=!1,this.remainingValue=0),this.newString=n}getNewString(){return this.newString}isRemaining(){return this.remaining}getRemainingValue(){return this.remainingValue}}class Yn extends Oa{constructor(e,n,i){if(super(e),n<0||n>10||i<0||i>10)throw new Q;this.firstDigit=n,this.secondDigit=i}getFirstDigit(){return this.firstDigit}getSecondDigit(){return this.secondDigit}getValue(){return this.firstDigit*10+this.secondDigit}isFirstDigitFNC1(){return this.firstDigit===Yn.FNC1}isSecondDigitFNC1(){return this.secondDigit===Yn.FNC1}isAnyFNC1(){return this.firstDigit===Yn.FNC1||this.secondDigit===Yn.FNC1}}Yn.FNC1=10;class ke{constructor(){}static parseFieldsInGeneralPurpose(e){if(!e)return null;if(e.length<2)throw new W;let n=e.substring(0,2);for(let u of ke.TWO_DIGIT_DATA_LENGTH)if(u[0]===n)return u[1]===ke.VARIABLE_LENGTH?ke.processVariableAI(2,u[2],e):ke.processFixedAI(2,u[1],e);if(e.length<3)throw new W;let i=e.substring(0,3);for(let u of ke.THREE_DIGIT_DATA_LENGTH)if(u[0]===i)return u[1]===ke.VARIABLE_LENGTH?ke.processVariableAI(3,u[2],e):ke.processFixedAI(3,u[1],e);for(let u of ke.THREE_DIGIT_PLUS_DIGIT_DATA_LENGTH)if(u[0]===i)return u[1]===ke.VARIABLE_LENGTH?ke.processVariableAI(4,u[2],e):ke.processFixedAI(4,u[1],e);if(e.length<4)throw new W;let c=e.substring(0,4);for(let u of ke.FOUR_DIGIT_DATA_LENGTH)if(u[0]===c)return u[1]===ke.VARIABLE_LENGTH?ke.processVariableAI(4,u[2],e):ke.processFixedAI(4,u[1],e);throw new W}static processFixedAI(e,n,i){if(i.length<e)throw new W;let c=i.substring(0,e);if(i.length<e+n)throw new W;let u=i.substring(e,e+n),f=i.substring(e+n),m="("+c+")"+u,y=ke.parseFieldsInGeneralPurpose(f);return y==null?m:m+y}static processVariableAI(e,n,i){let c=i.substring(0,e),u;i.length<e+n?u=i.length:u=e+n;let f=i.substring(e,u),m=i.substring(u),y="("+c+")"+f,N=ke.parseFieldsInGeneralPurpose(m);return N==null?y:y+N}}ke.VARIABLE_LENGTH=[],ke.TWO_DIGIT_DATA_LENGTH=[["00",18],["01",14],["02",14],["10",ke.VARIABLE_LENGTH,20],["11",6],["12",6],["13",6],["15",6],["17",6],["20",2],["21",ke.VARIABLE_LENGTH,20],["22",ke.VARIABLE_LENGTH,29],["30",ke.VARIABLE_LENGTH,8],["37",ke.VARIABLE_LENGTH,8],["90",ke.VARIABLE_LENGTH,30],["91",ke.VARIABLE_LENGTH,30],["92",ke.VARIABLE_LENGTH,30],["93",ke.VARIABLE_LENGTH,30],["94",ke.VARIABLE_LENGTH,30],["95",ke.VARIABLE_LENGTH,30],["96",ke.VARIABLE_LENGTH,30],["97",ke.VARIABLE_LENGTH,3],["98",ke.VARIABLE_LENGTH,30],["99",ke.VARIABLE_LENGTH,30]],ke.THREE_DIGIT_DATA_LENGTH=[["240",ke.VARIABLE_LENGTH,30],["241",ke.VARIABLE_LENGTH,30],["242",ke.VARIABLE_LENGTH,6],["250",ke.VARIABLE_LENGTH,30],["251",ke.VARIABLE_LENGTH,30],["253",ke.VARIABLE_LENGTH,17],["254",ke.VARIABLE_LENGTH,20],["400",ke.VARIABLE_LENGTH,30],["401",ke.VARIABLE_LENGTH,30],["402",17],["403",ke.VARIABLE_LENGTH,30],["410",13],["411",13],["412",13],["413",13],["414",13],["420",ke.VARIABLE_LENGTH,20],["421",ke.VARIABLE_LENGTH,15],["422",3],["423",ke.VARIABLE_LENGTH,15],["424",3],["425",3],["426",3]],ke.THREE_DIGIT_PLUS_DIGIT_DATA_LENGTH=[["310",6],["311",6],["312",6],["313",6],["314",6],["315",6],["316",6],["320",6],["321",6],["322",6],["323",6],["324",6],["325",6],["326",6],["327",6],["328",6],["329",6],["330",6],["331",6],["332",6],["333",6],["334",6],["335",6],["336",6],["340",6],["341",6],["342",6],["343",6],["344",6],["345",6],["346",6],["347",6],["348",6],["349",6],["350",6],["351",6],["352",6],["353",6],["354",6],["355",6],["356",6],["357",6],["360",6],["361",6],["362",6],["363",6],["364",6],["365",6],["366",6],["367",6],["368",6],["369",6],["390",ke.VARIABLE_LENGTH,15],["391",ke.VARIABLE_LENGTH,18],["392",ke.VARIABLE_LENGTH,15],["393",ke.VARIABLE_LENGTH,18],["703",ke.VARIABLE_LENGTH,30]],ke.FOUR_DIGIT_DATA_LENGTH=[["7001",13],["7002",ke.VARIABLE_LENGTH,30],["7003",10],["8001",14],["8002",ke.VARIABLE_LENGTH,20],["8003",ke.VARIABLE_LENGTH,30],["8004",ke.VARIABLE_LENGTH,30],["8005",6],["8006",18],["8007",ke.VARIABLE_LENGTH,30],["8008",ke.VARIABLE_LENGTH,12],["8018",18],["8020",ke.VARIABLE_LENGTH,25],["8100",6],["8101",10],["8102",2],["8110",ke.VARIABLE_LENGTH,70],["8200",ke.VARIABLE_LENGTH,70]];class ci{constructor(e){this.buffer=new Ie,this.information=e}decodeAllCodes(e,n){let i=n,c=null;do{let u=this.decodeGeneralPurposeField(i,c),f=ke.parseFieldsInGeneralPurpose(u.getNewString());if(f!=null&&e.append(f),u.isRemaining()?c=""+u.getRemainingValue():c=null,i===u.getNewPosition())break;i=u.getNewPosition()}while(!0);return e.toString()}isStillNumeric(e){if(e+7>this.information.getSize())return e+4<=this.information.getSize();for(let n=e;n<e+3;++n)if(this.information.get(n))return!0;return this.information.get(e+3)}decodeNumeric(e){if(e+7>this.information.getSize()){let u=this.extractNumericValueFromBitArray(e,4);return u===0?new Yn(this.information.getSize(),Yn.FNC1,Yn.FNC1):new Yn(this.information.getSize(),u-1,Yn.FNC1)}let n=this.extractNumericValueFromBitArray(e,7),i=(n-8)/11,c=(n-8)%11;return new Yn(e+7,i,c)}extractNumericValueFromBitArray(e,n){return ci.extractNumericValueFromBitArray(this.information,e,n)}static extractNumericValueFromBitArray(e,n,i){let c=0;for(let u=0;u<i;++u)e.get(n+u)&&(c|=1<<i-u-1);return c}decodeGeneralPurposeField(e,n){this.buffer.setLengthToZero(),n!=null&&this.buffer.append(n),this.current.setPosition(e);let i=this.parseBlocks();return i!=null&&i.isRemaining()?new qr(this.current.getPosition(),this.buffer.toString(),i.getRemainingValue()):new qr(this.current.getPosition(),this.buffer.toString())}parseBlocks(){let e,n;do{let i=this.current.getPosition();if(this.current.isAlpha()?(n=this.parseAlphaBlock(),e=n.isFinished()):this.current.isIsoIec646()?(n=this.parseIsoIec646Block(),e=n.isFinished()):(n=this.parseNumericBlock(),e=n.isFinished()),!(i!==this.current.getPosition())&&!e)break}while(!e);return n.getDecodedInformation()}parseNumericBlock(){for(;this.isStillNumeric(this.current.getPosition());){let e=this.decodeNumeric(this.current.getPosition());if(this.current.setPosition(e.getNewPosition()),e.isFirstDigitFNC1()){let n;return e.isSecondDigitFNC1()?n=new qr(this.current.getPosition(),this.buffer.toString()):n=new qr(this.current.getPosition(),this.buffer.toString(),e.getSecondDigit()),new Mr(!0,n)}if(this.buffer.append(e.getFirstDigit()),e.isSecondDigitFNC1()){let n=new qr(this.current.getPosition(),this.buffer.toString());return new Mr(!0,n)}this.buffer.append(e.getSecondDigit())}return this.isNumericToAlphaNumericLatch(this.current.getPosition())&&(this.current.setAlpha(),this.current.incrementPosition(4)),new Mr(!1)}parseIsoIec646Block(){for(;this.isStillIsoIec646(this.current.getPosition());){let e=this.decodeIsoIec646(this.current.getPosition());if(this.current.setPosition(e.getNewPosition()),e.isFNC1()){let n=new qr(this.current.getPosition(),this.buffer.toString());return new Mr(!0,n)}this.buffer.append(e.getValue())}return this.isAlphaOr646ToNumericLatch(this.current.getPosition())?(this.current.incrementPosition(3),this.current.setNumeric()):this.isAlphaTo646ToAlphaLatch(this.current.getPosition())&&(this.current.getPosition()+5<this.information.getSize()?this.current.incrementPosition(5):this.current.setPosition(this.information.getSize()),this.current.setAlpha()),new Mr(!1)}parseAlphaBlock(){for(;this.isStillAlpha(this.current.getPosition());){let e=this.decodeAlphanumeric(this.current.getPosition());if(this.current.setPosition(e.getNewPosition()),e.isFNC1()){let n=new qr(this.current.getPosition(),this.buffer.toString());return new Mr(!0,n)}this.buffer.append(e.getValue())}return this.isAlphaOr646ToNumericLatch(this.current.getPosition())?(this.current.incrementPosition(3),this.current.setNumeric()):this.isAlphaTo646ToAlphaLatch(this.current.getPosition())&&(this.current.getPosition()+5<this.information.getSize()?this.current.incrementPosition(5):this.current.setPosition(this.information.getSize()),this.current.setIsoIec646()),new Mr(!1)}isStillIsoIec646(e){if(e+5>this.information.getSize())return!1;let n=this.extractNumericValueFromBitArray(e,5);if(n>=5&&n<16)return!0;if(e+7>this.information.getSize())return!1;let i=this.extractNumericValueFromBitArray(e,7);if(i>=64&&i<116)return!0;if(e+8>this.information.getSize())return!1;let c=this.extractNumericValueFromBitArray(e,8);return c>=232&&c<253}decodeIsoIec646(e){let n=this.extractNumericValueFromBitArray(e,5);if(n===15)return new Sn(e+5,Sn.FNC1);if(n>=5&&n<15)return new Sn(e+5,"0"+(n-5));let i=this.extractNumericValueFromBitArray(e,7);if(i>=64&&i<90)return new Sn(e+7,""+(i+1));if(i>=90&&i<116)return new Sn(e+7,""+(i+7));let c=this.extractNumericValueFromBitArray(e,8),u;switch(c){case 232:u="!";break;case 233:u='"';break;case 234:u="%";break;case 235:u="&";break;case 236:u="'";break;case 237:u="(";break;case 238:u=")";break;case 239:u="*";break;case 240:u="+";break;case 241:u=",";break;case 242:u="-";break;case 243:u=".";break;case 244:u="/";break;case 245:u=":";break;case 246:u=";";break;case 247:u="<";break;case 248:u="=";break;case 249:u=">";break;case 250:u="?";break;case 251:u="_";break;case 252:u=" ";break;default:throw new Q}return new Sn(e+8,u)}isStillAlpha(e){if(e+5>this.information.getSize())return!1;let n=this.extractNumericValueFromBitArray(e,5);if(n>=5&&n<16)return!0;if(e+6>this.information.getSize())return!1;let i=this.extractNumericValueFromBitArray(e,6);return i>=16&&i<63}decodeAlphanumeric(e){let n=this.extractNumericValueFromBitArray(e,5);if(n===15)return new Sn(e+5,Sn.FNC1);if(n>=5&&n<15)return new Sn(e+5,"0"+(n-5));let i=this.extractNumericValueFromBitArray(e,6);if(i>=32&&i<58)return new Sn(e+6,""+(i+33));let c;switch(i){case 58:c="*";break;case 59:c=",";break;case 60:c="-";break;case 61:c=".";break;case 62:c="/";break;default:throw new Kn("Decoding invalid alphanumeric value: "+i)}return new Sn(e+6,c)}isAlphaTo646ToAlphaLatch(e){if(e+1>this.information.getSize())return!1;for(let n=0;n<5&&n+e<this.information.getSize();++n)if(n===2){if(!this.information.get(e+2))return!1}else if(this.information.get(e+n))return!1;return!0}isAlphaOr646ToNumericLatch(e){if(e+3>this.information.getSize())return!1;for(let n=e;n<e+3;++n)if(this.information.get(n))return!1;return!0}isNumericToAlphaNumericLatch(e){if(e+1>this.information.getSize())return!1;for(let n=0;n<4&&n+e<this.information.getSize();++n)if(this.information.get(e+n))return!1;return!0}}class _a{constructor(e){this.information=e,this.generalDecoder=new ci(e)}getInformation(){return this.information}getGeneralDecoder(){return this.generalDecoder}}class rr extends _a{constructor(e){super(e)}encodeCompressedGtin(e,n){e.append("(01)");let i=e.length();e.append("9"),this.encodeCompressedGtinWithoutAI(e,n,i)}encodeCompressedGtinWithoutAI(e,n,i){for(let c=0;c<4;++c){let u=this.getGeneralDecoder().extractNumericValueFromBitArray(n+10*c,10);u/100===0&&e.append("0"),u/10===0&&e.append("0"),e.append(u)}rr.appendCheckDigit(e,i)}static appendCheckDigit(e,n){let i=0;for(let c=0;c<13;c++){let u=e.charAt(c+n).charCodeAt(0)-48;i+=(c&1)===0?3*u:u}i=10-i%10,i===10&&(i=0),e.append(i)}}rr.GTIN_SIZE=40;class br extends rr{constructor(e){super(e)}parseInformation(){let e=new Ie;e.append("(01)");let n=e.length(),i=this.getGeneralDecoder().extractNumericValueFromBitArray(br.HEADER_SIZE,4);return e.append(i),this.encodeCompressedGtinWithoutAI(e,br.HEADER_SIZE+4,n),this.getGeneralDecoder().decodeAllCodes(e,br.HEADER_SIZE+44)}}br.HEADER_SIZE=4;class Xi extends _a{constructor(e){super(e)}parseInformation(){let e=new Ie;return this.getGeneralDecoder().decodeAllCodes(e,Xi.HEADER_SIZE)}}Xi.HEADER_SIZE=5;class Ki extends rr{constructor(e){super(e)}encodeCompressedWeight(e,n,i){let c=this.getGeneralDecoder().extractNumericValueFromBitArray(n,i);this.addWeightCode(e,c);let u=this.checkWeight(c),f=1e5;for(let m=0;m<5;++m)u/f===0&&e.append("0"),f/=10;e.append(u)}}class Qr extends Ki{constructor(e){super(e)}parseInformation(){if(this.getInformation().getSize()!=Qr.HEADER_SIZE+Ki.GTIN_SIZE+Qr.WEIGHT_SIZE)throw new W;let e=new Ie;return this.encodeCompressedGtin(e,Qr.HEADER_SIZE),this.encodeCompressedWeight(e,Qr.HEADER_SIZE+Ki.GTIN_SIZE,Qr.WEIGHT_SIZE),e.toString()}}Qr.HEADER_SIZE=5,Qr.WEIGHT_SIZE=15;class Vl extends Qr{constructor(e){super(e)}addWeightCode(e,n){e.append("(3103)")}checkWeight(e){return e}}class zl extends Qr{constructor(e){super(e)}addWeightCode(e,n){n<1e4?e.append("(3202)"):e.append("(3203)")}checkWeight(e){return e<1e4?e:e-1e4}}class kr extends rr{constructor(e){super(e)}parseInformation(){if(this.getInformation().getSize()<kr.HEADER_SIZE+rr.GTIN_SIZE)throw new W;let e=new Ie;this.encodeCompressedGtin(e,kr.HEADER_SIZE);let n=this.getGeneralDecoder().extractNumericValueFromBitArray(kr.HEADER_SIZE+rr.GTIN_SIZE,kr.LAST_DIGIT_SIZE);e.append("(392"),e.append(n),e.append(")");let i=this.getGeneralDecoder().decodeGeneralPurposeField(kr.HEADER_SIZE+rr.GTIN_SIZE+kr.LAST_DIGIT_SIZE,null);return e.append(i.getNewString()),e.toString()}}kr.HEADER_SIZE=8,kr.LAST_DIGIT_SIZE=2;class Bn extends rr{constructor(e){super(e)}parseInformation(){if(this.getInformation().getSize()<Bn.HEADER_SIZE+rr.GTIN_SIZE)throw new W;let e=new Ie;this.encodeCompressedGtin(e,Bn.HEADER_SIZE);let n=this.getGeneralDecoder().extractNumericValueFromBitArray(Bn.HEADER_SIZE+rr.GTIN_SIZE,Bn.LAST_DIGIT_SIZE);e.append("(393"),e.append(n),e.append(")");let i=this.getGeneralDecoder().extractNumericValueFromBitArray(Bn.HEADER_SIZE+rr.GTIN_SIZE+Bn.LAST_DIGIT_SIZE,Bn.FIRST_THREE_DIGITS_SIZE);i/100==0&&e.append("0"),i/10==0&&e.append("0"),e.append(i);let c=this.getGeneralDecoder().decodeGeneralPurposeField(Bn.HEADER_SIZE+rr.GTIN_SIZE+Bn.LAST_DIGIT_SIZE+Bn.FIRST_THREE_DIGITS_SIZE,null);return e.append(c.getNewString()),e.toString()}}Bn.HEADER_SIZE=8,Bn.LAST_DIGIT_SIZE=2,Bn.FIRST_THREE_DIGITS_SIZE=10;class qt extends Ki{constructor(e,n,i){super(e),this.dateCode=i,this.firstAIdigits=n}parseInformation(){if(this.getInformation().getSize()!=qt.HEADER_SIZE+qt.GTIN_SIZE+qt.WEIGHT_SIZE+qt.DATE_SIZE)throw new W;let e=new Ie;return this.encodeCompressedGtin(e,qt.HEADER_SIZE),this.encodeCompressedWeight(e,qt.HEADER_SIZE+qt.GTIN_SIZE,qt.WEIGHT_SIZE),this.encodeCompressedDate(e,qt.HEADER_SIZE+qt.GTIN_SIZE+qt.WEIGHT_SIZE),e.toString()}encodeCompressedDate(e,n){let i=this.getGeneralDecoder().extractNumericValueFromBitArray(n,qt.DATE_SIZE);if(i==38400)return;e.append("("),e.append(this.dateCode),e.append(")");let c=i%32;i/=32;let u=i%12+1;i/=12;let f=i;f/10==0&&e.append("0"),e.append(f),u/10==0&&e.append("0"),e.append(u),c/10==0&&e.append("0"),e.append(c)}addWeightCode(e,n){e.append("("),e.append(this.firstAIdigits),e.append(n/1e5),e.append(")")}checkWeight(e){return e%1e5}}qt.HEADER_SIZE=8,qt.WEIGHT_SIZE=20,qt.DATE_SIZE=16;function Wl(_){try{if(_.get(1))return new br(_);if(!_.get(2))return new Xi(_);switch(ci.extractNumericValueFromBitArray(_,1,4)){case 4:return new Vl(_);case 5:return new zl(_)}switch(ci.extractNumericValueFromBitArray(_,1,5)){case 12:return new kr(_);case 13:return new Bn(_)}switch(ci.extractNumericValueFromBitArray(_,1,7)){case 56:return new qt(_,"310","11");case 57:return new qt(_,"320","11");case 58:return new qt(_,"310","13");case 59:return new qt(_,"320","13");case 60:return new qt(_,"310","15");case 61:return new qt(_,"320","15");case 62:return new qt(_,"310","17");case 63:return new qt(_,"320","17")}}catch(e){throw console.log(e),new Kn("unknown decoder: "+_)}}class Mt{constructor(e,n,i,c){this.leftchar=e,this.rightchar=n,this.finderpattern=i,this.maybeLast=c}mayBeLast(){return this.maybeLast}getLeftChar(){return this.leftchar}getRightChar(){return this.rightchar}getFinderPattern(){return this.finderpattern}mustBeLast(){return this.rightchar==null}toString(){return"[ "+this.leftchar+", "+this.rightchar+" : "+(this.finderpattern==null?"null":this.finderpattern.getValue())+" ]"}static equals(e,n){return e instanceof Mt?Mt.equalsOrNull(e.leftchar,n.leftchar)&&Mt.equalsOrNull(e.rightchar,n.rightchar)&&Mt.equalsOrNull(e.finderpattern,n.finderpattern):!1}static equalsOrNull(e,n){return e===null?n===null:Mt.equals(e,n)}hashCode(){return this.leftchar.getValue()^this.rightchar.getValue()^this.finderpattern.getValue()}}class Da{constructor(e,n,i){this.pairs=e,this.rowNumber=n,this.wasReversed=i}getPairs(){return this.pairs}getRowNumber(){return this.rowNumber}isReversed(){return this.wasReversed}isEquivalent(e){return this.checkEqualitity(this,e)}toString(){return"{ "+this.pairs+" }"}equals(e,n){return e instanceof Da?this.checkEqualitity(e,n)&&e.wasReversed===n.wasReversed:!1}checkEqualitity(e,n){if(!e||!n)return;let i;return e.forEach((c,u)=>{n.forEach(f=>{c.getLeftChar().getValue()===f.getLeftChar().getValue()&&c.getRightChar().getValue()===f.getRightChar().getValue()&&c.getFinderPatter().getValue()===f.getFinderPatter().getValue()&&(i=!0)})}),i}}class pe extends In{constructor(e){super(...arguments),this.pairs=new Array(pe.MAX_PAIRS),this.rows=new Array,this.startEnd=[2],this.verbose=e===!0}decodeRow(e,n,i){this.pairs.length=0,this.startFromEven=!1;try{return pe.constructResult(this.decodeRow2pairs(e,n))}catch(c){this.verbose&&console.log(c)}return this.pairs.length=0,this.startFromEven=!0,pe.constructResult(this.decodeRow2pairs(e,n))}reset(){this.pairs.length=0,this.rows.length=0}decodeRow2pairs(e,n){let i=!1;for(;!i;)try{this.pairs.push(this.retrieveNextPair(n,this.pairs,e))}catch(u){if(u instanceof W){if(!this.pairs.length)throw new W;i=!0}}if(this.checkChecksum())return this.pairs;let c;if(this.rows.length?c=!0:c=!1,this.storeRow(e,!1),c){let u=this.checkRowsBoolean(!1);if(u!=null||(u=this.checkRowsBoolean(!0),u!=null))return u}throw new W}checkRowsBoolean(e){if(this.rows.length>25)return this.rows.length=0,null;this.pairs.length=0,e&&(this.rows=this.rows.reverse());let n=null;try{n=this.checkRows(new Array,0)}catch(i){this.verbose&&console.log(i)}return e&&(this.rows=this.rows.reverse()),n}checkRows(e,n){for(let i=n;i<this.rows.length;i++){let c=this.rows[i];this.pairs.length=0;for(let f of e)this.pairs.push(f.getPairs());if(this.pairs.push(c.getPairs()),!pe.isValidSequence(this.pairs))continue;if(this.checkChecksum())return this.pairs;let u=new Array(e);u.push(c);try{return this.checkRows(u,i+1)}catch(f){this.verbose&&console.log(f)}}throw new W}static isValidSequence(e){for(let n of pe.FINDER_PATTERN_SEQUENCES){if(e.length>n.length)continue;let i=!0;for(let c=0;c<e.length;c++)if(e[c].getFinderPattern().getValue()!=n[c]){i=!1;break}if(i)return!0}return!1}storeRow(e,n){let i=0,c=!1,u=!1;for(;i<this.rows.length;){let f=this.rows[i];if(f.getRowNumber()>e){u=f.isEquivalent(this.pairs);break}c=f.isEquivalent(this.pairs),i++}u||c||pe.isPartialRow(this.pairs,this.rows)||(this.rows.push(i,new Da(this.pairs,e,n)),this.removePartialRows(this.pairs,this.rows))}removePartialRows(e,n){for(let i of n)if(i.getPairs().length!==e.length){for(let c of i.getPairs())for(let u of e)if(Mt.equals(c,u))break}}static isPartialRow(e,n){for(let i of n){let c=!0;for(let u of e){let f=!1;for(let m of i.getPairs())if(u.equals(m)){f=!0;break}if(!f){c=!1;break}}if(c)return!0}return!1}getRows(){return this.rows}static constructResult(e){let n=Ra.buildBitArray(e),c=Wl(n).parseInformation(),u=e[0].getFinderPattern().getResultPoints(),f=e[e.length-1].getFinderPattern().getResultPoints(),m=[u[0],u[1],f[0],f[1]];return new Be(c,null,null,m,Se.RSS_EXPANDED,null)}checkChecksum(){let e=this.pairs.get(0),n=e.getLeftChar(),i=e.getRightChar();if(i==null)return!1;let c=i.getChecksumPortion(),u=2;for(let m=1;m<this.pairs.size();++m){let y=this.pairs.get(m);c+=y.getLeftChar().getChecksumPortion(),u++;let N=y.getRightChar();N!=null&&(c+=N.getChecksumPortion(),u++)}return c%=211,211*(u-4)+c==n.getValue()}static getNextSecondBar(e,n){let i;return e.get(n)?(i=e.getNextUnset(n),i=e.getNextSet(i)):(i=e.getNextSet(n),i=e.getNextUnset(i)),i}retrieveNextPair(e,n,i){let c=n.length%2==0;this.startFromEven&&(c=!c);let u,f=!0,m=-1;do this.findNextPair(e,n,m),u=this.parseFoundFinderPattern(e,i,c),u==null?m=pe.getNextSecondBar(e,this.startEnd[0]):f=!1;while(f);let y=this.decodeDataCharacter(e,u,c,!0);if(!this.isEmptyPair(n)&&n[n.length-1].mustBeLast())throw new W;let N;try{N=this.decodeDataCharacter(e,u,c,!1)}catch(j){N=null,this.verbose&&console.log(j)}return new Mt(y,N,u,!0)}isEmptyPair(e){return e.length===0}findNextPair(e,n,i){let c=this.getDecodeFinderCounters();c[0]=0,c[1]=0,c[2]=0,c[3]=0;let u=e.getSize(),f;i>=0?f=i:this.isEmptyPair(n)?f=0:f=n[n.length-1].getFinderPattern().getStartEnd()[1];let m=n.length%2!=0;this.startFromEven&&(m=!m);let y=!1;for(;f<u&&(y=!e.get(f),!!y);)f++;let N=0,j=f;for(let D=f;D<u;D++)if(e.get(D)!=y)c[N]++;else{if(N==3){if(m&&pe.reverseCounters(c),pe.isFinderPattern(c)){this.startEnd[0]=j,this.startEnd[1]=D;return}m&&pe.reverseCounters(c),j+=c[0]+c[1],c[0]=c[2],c[1]=c[3],c[2]=0,c[3]=0,N--}else N++;c[N]=1,y=!y}throw new W}static reverseCounters(e){let n=e.length;for(let i=0;i<n/2;++i){let c=e[i];e[i]=e[n-i-1],e[n-i-1]=c}}parseFoundFinderPattern(e,n,i){let c,u,f;if(i){let N=this.startEnd[0]-1;for(;N>=0&&!e.get(N);)N--;N++,c=this.startEnd[0]-N,u=N,f=this.startEnd[1]}else u=this.startEnd[0],f=e.getNextUnset(this.startEnd[1]+1),c=f-this.startEnd[1];let m=this.getDecodeFinderCounters();R.arraycopy(m,0,m,1,m.length-1),m[0]=c;let y;try{y=this.parseFinderValue(m,pe.FINDER_PATTERNS)}catch{return null}return new Gi(y,[u,f],u,f,n)}decodeDataCharacter(e,n,i,c){let u=this.getDataCharacterCounters();for(let _t=0;_t<u.length;_t++)u[_t]=0;if(c)pe.recordPatternInReverse(e,n.getStartEnd()[0],u);else{pe.recordPattern(e,n.getStartEnd()[1],u);for(let _t=0,un=u.length-1;_t<un;_t++,un--){let Zn=u[_t];u[_t]=u[un],u[un]=Zn}}let f=17,m=bt.sum(new Int32Array(u))/f,y=(n.getStartEnd()[1]-n.getStartEnd()[0])/15;if(Math.abs(m-y)/y>.3)throw new W;let N=this.getOddCounts(),j=this.getEvenCounts(),D=this.getOddRoundingErrors(),k=this.getEvenRoundingErrors();for(let _t=0;_t<u.length;_t++){let un=1*u[_t]/m,Zn=un+.5;if(Zn<1){if(un<.3)throw new W;Zn=1}else if(Zn>8){if(un>8.7)throw new W;Zn=8}let Xs=_t/2;(_t&1)==0?(N[Xs]=Zn,D[Xs]=un-Zn):(j[Xs]=Zn,k[Xs]=un-Zn)}this.adjustOddEvenCounts(f);let U=4*n.getValue()+(i?0:2)+(c?0:1)-1,X=0,q=0;for(let _t=N.length-1;_t>=0;_t--){if(pe.isNotA1left(n,i,c)){let un=pe.WEIGHTS[U][2*_t];q+=N[_t]*un}X+=N[_t]}let J=0;for(let _t=j.length-1;_t>=0;_t--)if(pe.isNotA1left(n,i,c)){let un=pe.WEIGHTS[U][2*_t+1];J+=j[_t]*un}let ie=q+J;if((X&1)!=0||X>13||X<4)throw new W;let be=(13-X)/2,Ne=pe.SYMBOL_WIDEST[be],ye=9-Ne,vt=nr.getRSSvalue(N,Ne,!0),ut=nr.getRSSvalue(j,ye,!1),ir=pe.EVEN_TOTAL_SUBSET[be],Ur=pe.GSUM[be],Cn=vt*ir+ut+Ur;return new Ns(Cn,ie)}static isNotA1left(e,n,i){return!(e.getValue()==0&&n&&i)}adjustOddEvenCounts(e){let n=bt.sum(new Int32Array(this.getOddCounts())),i=bt.sum(new Int32Array(this.getEvenCounts())),c=!1,u=!1;n>13?u=!0:n<4&&(c=!0);let f=!1,m=!1;i>13?m=!0:i<4&&(f=!0);let y=n+i-e,N=(n&1)==1,j=(i&1)==0;if(y==1)if(N){if(j)throw new W;u=!0}else{if(!j)throw new W;m=!0}else if(y==-1)if(N){if(j)throw new W;c=!0}else{if(!j)throw new W;f=!0}else if(y==0){if(N){if(!j)throw new W;n<i?(c=!0,m=!0):(u=!0,f=!0)}else if(j)throw new W}else throw new W;if(c){if(u)throw new W;pe.increment(this.getOddCounts(),this.getOddRoundingErrors())}if(u&&pe.decrement(this.getOddCounts(),this.getOddRoundingErrors()),f){if(m)throw new W;pe.increment(this.getEvenCounts(),this.getOddRoundingErrors())}m&&pe.decrement(this.getEvenCounts(),this.getEvenRoundingErrors())}}pe.SYMBOL_WIDEST=[7,5,4,3,1],pe.EVEN_TOTAL_SUBSET=[4,20,52,104,204],pe.GSUM=[0,348,1388,2948,3988],pe.FINDER_PATTERNS=[Int32Array.from([1,8,4,1]),Int32Array.from([3,6,4,1]),Int32Array.from([3,4,6,1]),Int32Array.from([3,2,8,1]),Int32Array.from([2,6,5,1]),Int32Array.from([2,2,9,1])],pe.WEIGHTS=[[1,3,9,27,81,32,96,77],[20,60,180,118,143,7,21,63],[189,145,13,39,117,140,209,205],[193,157,49,147,19,57,171,91],[62,186,136,197,169,85,44,132],[185,133,188,142,4,12,36,108],[113,128,173,97,80,29,87,50],[150,28,84,41,123,158,52,156],[46,138,203,187,139,206,196,166],[76,17,51,153,37,111,122,155],[43,129,176,106,107,110,119,146],[16,48,144,10,30,90,59,177],[109,116,137,200,178,112,125,164],[70,210,208,202,184,130,179,115],[134,191,151,31,93,68,204,190],[148,22,66,198,172,94,71,2],[6,18,54,162,64,192,154,40],[120,149,25,75,14,42,126,167],[79,26,78,23,69,207,199,175],[103,98,83,38,114,131,182,124],[161,61,183,127,170,88,53,159],[55,165,73,8,24,72,5,15],[45,135,194,160,58,174,100,89]],pe.FINDER_PAT_A=0,pe.FINDER_PAT_B=1,pe.FINDER_PAT_C=2,pe.FINDER_PAT_D=3,pe.FINDER_PAT_E=4,pe.FINDER_PAT_F=5,pe.FINDER_PATTERN_SEQUENCES=[[pe.FINDER_PAT_A,pe.FINDER_PAT_A],[pe.FINDER_PAT_A,pe.FINDER_PAT_B,pe.FINDER_PAT_B],[pe.FINDER_PAT_A,pe.FINDER_PAT_C,pe.FINDER_PAT_B,pe.FINDER_PAT_D],[pe.FINDER_PAT_A,pe.FINDER_PAT_E,pe.FINDER_PAT_B,pe.FINDER_PAT_D,pe.FINDER_PAT_C],[pe.FINDER_PAT_A,pe.FINDER_PAT_E,pe.FINDER_PAT_B,pe.FINDER_PAT_D,pe.FINDER_PAT_D,pe.FINDER_PAT_F],[pe.FINDER_PAT_A,pe.FINDER_PAT_E,pe.FINDER_PAT_B,pe.FINDER_PAT_D,pe.FINDER_PAT_E,pe.FINDER_PAT_F,pe.FINDER_PAT_F],[pe.FINDER_PAT_A,pe.FINDER_PAT_A,pe.FINDER_PAT_B,pe.FINDER_PAT_B,pe.FINDER_PAT_C,pe.FINDER_PAT_C,pe.FINDER_PAT_D,pe.FINDER_PAT_D],[pe.FINDER_PAT_A,pe.FINDER_PAT_A,pe.FINDER_PAT_B,pe.FINDER_PAT_B,pe.FINDER_PAT_C,pe.FINDER_PAT_C,pe.FINDER_PAT_D,pe.FINDER_PAT_E,pe.FINDER_PAT_E],[pe.FINDER_PAT_A,pe.FINDER_PAT_A,pe.FINDER_PAT_B,pe.FINDER_PAT_B,pe.FINDER_PAT_C,pe.FINDER_PAT_C,pe.FINDER_PAT_D,pe.FINDER_PAT_E,pe.FINDER_PAT_F,pe.FINDER_PAT_F],[pe.FINDER_PAT_A,pe.FINDER_PAT_A,pe.FINDER_PAT_B,pe.FINDER_PAT_B,pe.FINDER_PAT_C,pe.FINDER_PAT_D,pe.FINDER_PAT_D,pe.FINDER_PAT_E,pe.FINDER_PAT_E,pe.FINDER_PAT_F,pe.FINDER_PAT_F]],pe.MAX_PAIRS=11;class Gl extends Ns{constructor(e,n,i){super(e,n),this.count=0,this.finderPattern=i}getFinderPattern(){return this.finderPattern}getCount(){return this.count}incrementCount(){this.count++}}class Gt extends In{constructor(){super(...arguments),this.possibleLeftPairs=[],this.possibleRightPairs=[]}decodeRow(e,n,i){const c=this.decodePair(n,!1,e,i);Gt.addOrTally(this.possibleLeftPairs,c),n.reverse();let u=this.decodePair(n,!0,e,i);Gt.addOrTally(this.possibleRightPairs,u),n.reverse();for(let f of this.possibleLeftPairs)if(f.getCount()>1){for(let m of this.possibleRightPairs)if(m.getCount()>1&&Gt.checkChecksum(f,m))return Gt.constructResult(f,m)}throw new W}static addOrTally(e,n){if(n==null)return;let i=!1;for(let c of e)if(c.getValue()===n.getValue()){c.incrementCount(),i=!0;break}i||e.push(n)}reset(){this.possibleLeftPairs.length=0,this.possibleRightPairs.length=0}static constructResult(e,n){let i=4537077*e.getValue()+n.getValue(),c=new String(i).toString(),u=new Ie;for(let N=13-c.length;N>0;N--)u.append("0");u.append(c);let f=0;for(let N=0;N<13;N++){let j=u.charAt(N).charCodeAt(0)-48;f+=(N&1)===0?3*j:j}f=10-f%10,f===10&&(f=0),u.append(f.toString());let m=e.getFinderPattern().getResultPoints(),y=n.getFinderPattern().getResultPoints();return new Be(u.toString(),null,0,[m[0],m[1],y[0],y[1]],Se.RSS_14,new Date().getTime())}static checkChecksum(e,n){let i=(e.getChecksumPortion()+16*n.getChecksumPortion())%79,c=9*e.getFinderPattern().getValue()+n.getFinderPattern().getValue();return c>72&&c--,c>8&&c--,i===c}decodePair(e,n,i,c){try{let u=this.findFinderPattern(e,n),f=this.parseFoundFinderPattern(e,i,n,u),m=c==null?null:c.get(le.NEED_RESULT_POINT_CALLBACK);if(m!=null){let j=(u[0]+u[1])/2;n&&(j=e.getSize()-1-j),m.foundPossibleResultPoint(new Fe(j,i))}let y=this.decodeDataCharacter(e,f,!0),N=this.decodeDataCharacter(e,f,!1);return new Gl(1597*y.getValue()+N.getValue(),y.getChecksumPortion()+4*N.getChecksumPortion(),f)}catch{return null}}decodeDataCharacter(e,n,i){let c=this.getDataCharacterCounters();for(let J=0;J<c.length;J++)c[J]=0;if(i)cn.recordPatternInReverse(e,n.getStartEnd()[0],c);else{cn.recordPattern(e,n.getStartEnd()[1]+1,c);for(let J=0,ie=c.length-1;J<ie;J++,ie--){let be=c[J];c[J]=c[ie],c[ie]=be}}let u=i?16:15,f=bt.sum(new Int32Array(c))/u,m=this.getOddCounts(),y=this.getEvenCounts(),N=this.getOddRoundingErrors(),j=this.getEvenRoundingErrors();for(let J=0;J<c.length;J++){let ie=c[J]/f,be=Math.floor(ie+.5);be<1?be=1:be>8&&(be=8);let Ne=Math.floor(J/2);(J&1)===0?(m[Ne]=be,N[Ne]=ie-be):(y[Ne]=be,j[Ne]=ie-be)}this.adjustOddEvenCounts(i,u);let D=0,k=0;for(let J=m.length-1;J>=0;J--)k*=9,k+=m[J],D+=m[J];let U=0,X=0;for(let J=y.length-1;J>=0;J--)U*=9,U+=y[J],X+=y[J];let q=k+3*U;if(i){if((D&1)!==0||D>12||D<4)throw new W;let J=(12-D)/2,ie=Gt.OUTSIDE_ODD_WIDEST[J],be=9-ie,Ne=nr.getRSSvalue(m,ie,!1),ye=nr.getRSSvalue(y,be,!0),vt=Gt.OUTSIDE_EVEN_TOTAL_SUBSET[J],ut=Gt.OUTSIDE_GSUM[J];return new Ns(Ne*vt+ye+ut,q)}else{if((X&1)!==0||X>10||X<4)throw new W;let J=(10-X)/2,ie=Gt.INSIDE_ODD_WIDEST[J],be=9-ie,Ne=nr.getRSSvalue(m,ie,!0),ye=nr.getRSSvalue(y,be,!1),vt=Gt.INSIDE_ODD_TOTAL_SUBSET[J],ut=Gt.INSIDE_GSUM[J];return new Ns(ye*vt+Ne+ut,q)}}findFinderPattern(e,n){let i=this.getDecodeFinderCounters();i[0]=0,i[1]=0,i[2]=0,i[3]=0;let c=e.getSize(),u=!1,f=0;for(;f<c&&(u=!e.get(f),n!==u);)f++;let m=0,y=f;for(let N=f;N<c;N++)if(e.get(N)!==u)i[m]++;else{if(m===3){if(In.isFinderPattern(i))return[y,N];y+=i[0]+i[1],i[0]=i[2],i[1]=i[3],i[2]=0,i[3]=0,m--}else m++;i[m]=1,u=!u}throw new W}parseFoundFinderPattern(e,n,i,c){let u=e.get(c[0]),f=c[0]-1;for(;f>=0&&u!==e.get(f);)f--;f++;const m=c[0]-f,y=this.getDecodeFinderCounters(),N=new Int32Array(y.length);R.arraycopy(y,0,N,1,y.length-1),N[0]=m;const j=this.parseFinderValue(N,Gt.FINDER_PATTERNS);let D=f,k=c[1];return i&&(D=e.getSize()-1-D,k=e.getSize()-1-k),new Gi(j,[f,c[1]],D,k,n)}adjustOddEvenCounts(e,n){let i=bt.sum(new Int32Array(this.getOddCounts())),c=bt.sum(new Int32Array(this.getEvenCounts())),u=!1,f=!1,m=!1,y=!1;e?(i>12?f=!0:i<4&&(u=!0),c>12?y=!0:c<4&&(m=!0)):(i>11?f=!0:i<5&&(u=!0),c>10?y=!0:c<4&&(m=!0));let N=i+c-n,j=(i&1)===(e?1:0),D=(c&1)===1;if(N===1)if(j){if(D)throw new W;f=!0}else{if(!D)throw new W;y=!0}else if(N===-1)if(j){if(D)throw new W;u=!0}else{if(!D)throw new W;m=!0}else if(N===0){if(j){if(!D)throw new W;i<c?(u=!0,y=!0):(f=!0,m=!0)}else if(D)throw new W}else throw new W;if(u){if(f)throw new W;In.increment(this.getOddCounts(),this.getOddRoundingErrors())}if(f&&In.decrement(this.getOddCounts(),this.getOddRoundingErrors()),m){if(y)throw new W;In.increment(this.getEvenCounts(),this.getOddRoundingErrors())}y&&In.decrement(this.getEvenCounts(),this.getEvenRoundingErrors())}}Gt.OUTSIDE_EVEN_TOTAL_SUBSET=[1,10,34,70,126],Gt.INSIDE_ODD_TOTAL_SUBSET=[4,20,48,81],Gt.OUTSIDE_GSUM=[0,161,961,2015,2715],Gt.INSIDE_GSUM=[0,336,1036,1516],Gt.OUTSIDE_ODD_WIDEST=[8,6,4,3,1],Gt.INSIDE_ODD_WIDEST=[2,4,6,8],Gt.FINDER_PATTERNS=[Int32Array.from([3,8,2,1]),Int32Array.from([3,5,5,1]),Int32Array.from([3,3,7,1]),Int32Array.from([3,1,9,1]),Int32Array.from([2,7,4,1]),Int32Array.from([2,5,6,1]),Int32Array.from([2,3,8,1]),Int32Array.from([1,5,7,1]),Int32Array.from([1,3,9,1])];class ui extends cn{constructor(e,n){super(),this.readers=[],this.verbose=n===!0;const i=e?e.get(le.POSSIBLE_FORMATS):null,c=e&&e.get(le.ASSUME_CODE_39_CHECK_DIGIT)!==void 0;i?((i.includes(Se.EAN_13)||i.includes(Se.UPC_A)||i.includes(Se.EAN_8)||i.includes(Se.UPC_E))&&this.readers.push(new Ro(e)),i.includes(Se.CODE_39)&&this.readers.push(new yn(c)),i.includes(Se.CODE_128)&&this.readers.push(new Te),i.includes(Se.ITF)&&this.readers.push(new Ot),i.includes(Se.RSS_14)&&this.readers.push(new Gt),i.includes(Se.RSS_EXPANDED)&&this.readers.push(new pe(this.verbose))):(this.readers.push(new Ro(e)),this.readers.push(new yn),this.readers.push(new Ro(e)),this.readers.push(new Te),this.readers.push(new Ot),this.readers.push(new Gt),this.readers.push(new pe(this.verbose)))}decodeRow(e,n,i){for(let c=0;c<this.readers.length;c++)try{return this.readers[c].decodeRow(e,n,i)}catch{}throw new W}reset(){this.readers.forEach(e=>e.reset())}}class Xl extends Ge{constructor(e=500,n){super(new ui(n),e,n)}}class It{constructor(e,n,i){this.ecCodewords=e,this.ecBlocks=[n],i&&this.ecBlocks.push(i)}getECCodewords(){return this.ecCodewords}getECBlocks(){return this.ecBlocks}}class gt{constructor(e,n){this.count=e,this.dataCodewords=n}getCount(){return this.count}getDataCodewords(){return this.dataCodewords}}class Nt{constructor(e,n,i,c,u,f){this.versionNumber=e,this.symbolSizeRows=n,this.symbolSizeColumns=i,this.dataRegionSizeRows=c,this.dataRegionSizeColumns=u,this.ecBlocks=f;let m=0;const y=f.getECCodewords(),N=f.getECBlocks();for(let j of N)m+=j.getCount()*(j.getDataCodewords()+y);this.totalCodewords=m}getVersionNumber(){return this.versionNumber}getSymbolSizeRows(){return this.symbolSizeRows}getSymbolSizeColumns(){return this.symbolSizeColumns}getDataRegionSizeRows(){return this.dataRegionSizeRows}getDataRegionSizeColumns(){return this.dataRegionSizeColumns}getTotalCodewords(){return this.totalCodewords}getECBlocks(){return this.ecBlocks}static getVersionForDimensions(e,n){if((e&1)!==0||(n&1)!==0)throw new Q;for(let i of Nt.VERSIONS)if(i.symbolSizeRows===e&&i.symbolSizeColumns===n)return i;throw new Q}toString(){return""+this.versionNumber}static buildVersions(){return[new Nt(1,10,10,8,8,new It(5,new gt(1,3))),new Nt(2,12,12,10,10,new It(7,new gt(1,5))),new Nt(3,14,14,12,12,new It(10,new gt(1,8))),new Nt(4,16,16,14,14,new It(12,new gt(1,12))),new Nt(5,18,18,16,16,new It(14,new gt(1,18))),new Nt(6,20,20,18,18,new It(18,new gt(1,22))),new Nt(7,22,22,20,20,new It(20,new gt(1,30))),new Nt(8,24,24,22,22,new It(24,new gt(1,36))),new Nt(9,26,26,24,24,new It(28,new gt(1,44))),new Nt(10,32,32,14,14,new It(36,new gt(1,62))),new Nt(11,36,36,16,16,new It(42,new gt(1,86))),new Nt(12,40,40,18,18,new It(48,new gt(1,114))),new Nt(13,44,44,20,20,new It(56,new gt(1,144))),new Nt(14,48,48,22,22,new It(68,new gt(1,174))),new Nt(15,52,52,24,24,new It(42,new gt(2,102))),new Nt(16,64,64,14,14,new It(56,new gt(2,140))),new Nt(17,72,72,16,16,new It(36,new gt(4,92))),new Nt(18,80,80,18,18,new It(48,new gt(4,114))),new Nt(19,88,88,20,20,new It(56,new gt(4,144))),new Nt(20,96,96,22,22,new It(68,new gt(4,174))),new Nt(21,104,104,24,24,new It(56,new gt(6,136))),new Nt(22,120,120,18,18,new It(68,new gt(6,175))),new Nt(23,132,132,20,20,new It(62,new gt(8,163))),new Nt(24,144,144,22,22,new It(62,new gt(8,156),new gt(2,155))),new Nt(25,8,18,6,16,new It(7,new gt(1,5))),new Nt(26,8,32,6,14,new It(11,new gt(1,10))),new Nt(27,12,26,10,24,new It(14,new gt(1,16))),new Nt(28,12,36,10,16,new It(18,new gt(1,22))),new Nt(29,16,36,14,16,new It(24,new gt(1,32))),new Nt(30,16,48,14,22,new It(28,new gt(1,49)))]}}Nt.VERSIONS=Nt.buildVersions();class mr{constructor(e){const n=e.getHeight();if(n<8||n>144||(n&1)!==0)throw new Q;this.version=mr.readVersion(e),this.mappingBitMatrix=this.extractDataRegion(e),this.readMappingMatrix=new he(this.mappingBitMatrix.getWidth(),this.mappingBitMatrix.getHeight())}getVersion(){return this.version}static readVersion(e){const n=e.getHeight(),i=e.getWidth();return Nt.getVersionForDimensions(n,i)}readCodewords(){const e=new Int8Array(this.version.getTotalCodewords());let n=0,i=4,c=0;const u=this.mappingBitMatrix.getHeight(),f=this.mappingBitMatrix.getWidth();let m=!1,y=!1,N=!1,j=!1;do if(i===u&&c===0&&!m)e[n++]=this.readCorner1(u,f)&255,i-=2,c+=2,m=!0;else if(i===u-2&&c===0&&(f&3)!==0&&!y)e[n++]=this.readCorner2(u,f)&255,i-=2,c+=2,y=!0;else if(i===u+4&&c===2&&(f&7)===0&&!N)e[n++]=this.readCorner3(u,f)&255,i-=2,c+=2,N=!0;else if(i===u-2&&c===0&&(f&7)===4&&!j)e[n++]=this.readCorner4(u,f)&255,i-=2,c+=2,j=!0;else{do i<u&&c>=0&&!this.readMappingMatrix.get(c,i)&&(e[n++]=this.readUtah(i,c,u,f)&255),i-=2,c+=2;while(i>=0&&c<f);i+=1,c+=3;do i>=0&&c<f&&!this.readMappingMatrix.get(c,i)&&(e[n++]=this.readUtah(i,c,u,f)&255),i+=2,c-=2;while(i<u&&c>=0);i+=3,c+=1}while(i<u||c<f);if(n!==this.version.getTotalCodewords())throw new Q;return e}readModule(e,n,i,c){return e<0&&(e+=i,n+=4-(i+4&7)),n<0&&(n+=c,e+=4-(c+4&7)),this.readMappingMatrix.set(n,e),this.mappingBitMatrix.get(n,e)}readUtah(e,n,i,c){let u=0;return this.readModule(e-2,n-2,i,c)&&(u|=1),u<<=1,this.readModule(e-2,n-1,i,c)&&(u|=1),u<<=1,this.readModule(e-1,n-2,i,c)&&(u|=1),u<<=1,this.readModule(e-1,n-1,i,c)&&(u|=1),u<<=1,this.readModule(e-1,n,i,c)&&(u|=1),u<<=1,this.readModule(e,n-2,i,c)&&(u|=1),u<<=1,this.readModule(e,n-1,i,c)&&(u|=1),u<<=1,this.readModule(e,n,i,c)&&(u|=1),u}readCorner1(e,n){let i=0;return this.readModule(e-1,0,e,n)&&(i|=1),i<<=1,this.readModule(e-1,1,e,n)&&(i|=1),i<<=1,this.readModule(e-1,2,e,n)&&(i|=1),i<<=1,this.readModule(0,n-2,e,n)&&(i|=1),i<<=1,this.readModule(0,n-1,e,n)&&(i|=1),i<<=1,this.readModule(1,n-1,e,n)&&(i|=1),i<<=1,this.readModule(2,n-1,e,n)&&(i|=1),i<<=1,this.readModule(3,n-1,e,n)&&(i|=1),i}readCorner2(e,n){let i=0;return this.readModule(e-3,0,e,n)&&(i|=1),i<<=1,this.readModule(e-2,0,e,n)&&(i|=1),i<<=1,this.readModule(e-1,0,e,n)&&(i|=1),i<<=1,this.readModule(0,n-4,e,n)&&(i|=1),i<<=1,this.readModule(0,n-3,e,n)&&(i|=1),i<<=1,this.readModule(0,n-2,e,n)&&(i|=1),i<<=1,this.readModule(0,n-1,e,n)&&(i|=1),i<<=1,this.readModule(1,n-1,e,n)&&(i|=1),i}readCorner3(e,n){let i=0;return this.readModule(e-1,0,e,n)&&(i|=1),i<<=1,this.readModule(e-1,n-1,e,n)&&(i|=1),i<<=1,this.readModule(0,n-3,e,n)&&(i|=1),i<<=1,this.readModule(0,n-2,e,n)&&(i|=1),i<<=1,this.readModule(0,n-1,e,n)&&(i|=1),i<<=1,this.readModule(1,n-3,e,n)&&(i|=1),i<<=1,this.readModule(1,n-2,e,n)&&(i|=1),i<<=1,this.readModule(1,n-1,e,n)&&(i|=1),i}readCorner4(e,n){let i=0;return this.readModule(e-3,0,e,n)&&(i|=1),i<<=1,this.readModule(e-2,0,e,n)&&(i|=1),i<<=1,this.readModule(e-1,0,e,n)&&(i|=1),i<<=1,this.readModule(0,n-2,e,n)&&(i|=1),i<<=1,this.readModule(0,n-1,e,n)&&(i|=1),i<<=1,this.readModule(1,n-1,e,n)&&(i|=1),i<<=1,this.readModule(2,n-1,e,n)&&(i|=1),i<<=1,this.readModule(3,n-1,e,n)&&(i|=1),i}extractDataRegion(e){const n=this.version.getSymbolSizeRows(),i=this.version.getSymbolSizeColumns();if(e.getHeight()!==n)throw new A("Dimension of bitMatrix must match the version size");const c=this.version.getDataRegionSizeRows(),u=this.version.getDataRegionSizeColumns(),f=n/c|0,m=i/u|0,y=f*c,N=m*u,j=new he(N,y);for(let D=0;D<f;++D){const k=D*c;for(let U=0;U<m;++U){const X=U*u;for(let q=0;q<c;++q){const J=D*(c+2)+1+q,ie=k+q;for(let be=0;be<u;++be){const Ne=U*(u+2)+1+be;if(e.get(Ne,J)){const ye=X+be;j.set(ye,ie)}}}}}return j}}class Ma{constructor(e,n){this.numDataCodewords=e,this.codewords=n}static getDataBlocks(e,n){const i=n.getECBlocks();let c=0;const u=i.getECBlocks();for(let q of u)c+=q.getCount();const f=new Array(c);let m=0;for(let q of u)for(let J=0;J<q.getCount();J++){const ie=q.getDataCodewords(),be=i.getECCodewords()+ie;f[m++]=new Ma(ie,new Uint8Array(be))}const N=f[0].codewords.length-i.getECCodewords(),j=N-1;let D=0;for(let q=0;q<j;q++)for(let J=0;J<m;J++)f[J].codewords[q]=e[D++];const k=n.getVersionNumber()===24,U=k?8:m;for(let q=0;q<U;q++)f[q].codewords[N-1]=e[D++];const X=f[0].codewords.length;for(let q=N;q<X;q++)for(let J=0;J<m;J++){const ie=k?(J+8)%m:J,be=k&&ie>7?q-1:q;f[ie].codewords[be]=e[D++]}if(D!==e.length)throw new A;return f}getNumDataCodewords(){return this.numDataCodewords}getCodewords(){return this.codewords}}class ka{constructor(e){this.bytes=e,this.byteOffset=0,this.bitOffset=0}getBitOffset(){return this.bitOffset}getByteOffset(){return this.byteOffset}readBits(e){if(e<1||e>32||e>this.available())throw new A(""+e);let n=0,i=this.bitOffset,c=this.byteOffset;const u=this.bytes;if(i>0){const f=8-i,m=e<f?e:f,y=f-m,N=255>>8-m<<y;n=(u[c]&N)>>y,e-=m,i+=m,i===8&&(i=0,c++)}if(e>0){for(;e>=8;)n=n<<8|u[c]&255,c++,e-=8;if(e>0){const f=8-e,m=255>>f<<f;n=n<<e|(u[c]&m)>>f,i+=e}}return this.bitOffset=i,this.byteOffset=c,n}available(){return 8*(this.bytes.length-this.byteOffset)-this.bitOffset}}var wn;(function(_){_[_.PAD_ENCODE=0]="PAD_ENCODE",_[_.ASCII_ENCODE=1]="ASCII_ENCODE",_[_.C40_ENCODE=2]="C40_ENCODE",_[_.TEXT_ENCODE=3]="TEXT_ENCODE",_[_.ANSIX12_ENCODE=4]="ANSIX12_ENCODE",_[_.EDIFACT_ENCODE=5]="EDIFACT_ENCODE",_[_.BASE256_ENCODE=6]="BASE256_ENCODE"})(wn||(wn={}));class Pr{static decode(e){const n=new ka(e),i=new Ie,c=new Ie,u=new Array;let f=wn.ASCII_ENCODE;do if(f===wn.ASCII_ENCODE)f=this.decodeAsciiSegment(n,i,c);else{switch(f){case wn.C40_ENCODE:this.decodeC40Segment(n,i);break;case wn.TEXT_ENCODE:this.decodeTextSegment(n,i);break;case wn.ANSIX12_ENCODE:this.decodeAnsiX12Segment(n,i);break;case wn.EDIFACT_ENCODE:this.decodeEdifactSegment(n,i);break;case wn.BASE256_ENCODE:this.decodeBase256Segment(n,i,u);break;default:throw new Q}f=wn.ASCII_ENCODE}while(f!==wn.PAD_ENCODE&&n.available()>0);return c.length()>0&&i.append(c.toString()),new lt(e,i.toString(),u.length===0?null:u,null)}static decodeAsciiSegment(e,n,i){let c=!1;do{let u=e.readBits(8);if(u===0)throw new Q;if(u<=128)return c&&(u+=128),n.append(String.fromCharCode(u-1)),wn.ASCII_ENCODE;if(u===129)return wn.PAD_ENCODE;if(u<=229){const f=u-130;f<10&&n.append("0"),n.append(""+f)}else switch(u){case 230:return wn.C40_ENCODE;case 231:return wn.BASE256_ENCODE;case 232:n.append("");break;case 233:case 234:break;case 235:c=!0;break;case 236:n.append("[)>05"),i.insert(0,"");break;case 237:n.append("[)>06"),i.insert(0,"");break;case 238:return wn.ANSIX12_ENCODE;case 239:return wn.TEXT_ENCODE;case 240:return wn.EDIFACT_ENCODE;case 241:break;default:if(u!==254||e.available()!==0)throw new Q;break}}while(e.available()>0);return wn.ASCII_ENCODE}static decodeC40Segment(e,n){let i=!1;const c=[];let u=0;do{if(e.available()===8)return;const f=e.readBits(8);if(f===254)return;this.parseTwoBytes(f,e.readBits(8),c);for(let m=0;m<3;m++){const y=c[m];switch(u){case 0:if(y<3)u=y+1;else if(y<this.C40_BASIC_SET_CHARS.length){const N=this.C40_BASIC_SET_CHARS[y];i?(n.append(String.fromCharCode(N.charCodeAt(0)+128)),i=!1):n.append(N)}else throw new Q;break;case 1:i?(n.append(String.fromCharCode(y+128)),i=!1):n.append(String.fromCharCode(y)),u=0;break;case 2:if(y<this.C40_SHIFT2_SET_CHARS.length){const N=this.C40_SHIFT2_SET_CHARS[y];i?(n.append(String.fromCharCode(N.charCodeAt(0)+128)),i=!1):n.append(N)}else switch(y){case 27:n.append("");break;case 30:i=!0;break;default:throw new Q}u=0;break;case 3:i?(n.append(String.fromCharCode(y+224)),i=!1):n.append(String.fromCharCode(y+96)),u=0;break;default:throw new Q}}}while(e.available()>0)}static decodeTextSegment(e,n){let i=!1,c=[],u=0;do{if(e.available()===8)return;const f=e.readBits(8);if(f===254)return;this.parseTwoBytes(f,e.readBits(8),c);for(let m=0;m<3;m++){const y=c[m];switch(u){case 0:if(y<3)u=y+1;else if(y<this.TEXT_BASIC_SET_CHARS.length){const N=this.TEXT_BASIC_SET_CHARS[y];i?(n.append(String.fromCharCode(N.charCodeAt(0)+128)),i=!1):n.append(N)}else throw new Q;break;case 1:i?(n.append(String.fromCharCode(y+128)),i=!1):n.append(String.fromCharCode(y)),u=0;break;case 2:if(y<this.TEXT_SHIFT2_SET_CHARS.length){const N=this.TEXT_SHIFT2_SET_CHARS[y];i?(n.append(String.fromCharCode(N.charCodeAt(0)+128)),i=!1):n.append(N)}else switch(y){case 27:n.append("");break;case 30:i=!0;break;default:throw new Q}u=0;break;case 3:if(y<this.TEXT_SHIFT3_SET_CHARS.length){const N=this.TEXT_SHIFT3_SET_CHARS[y];i?(n.append(String.fromCharCode(N.charCodeAt(0)+128)),i=!1):n.append(N),u=0}else throw new Q;break;default:throw new Q}}}while(e.available()>0)}static decodeAnsiX12Segment(e,n){const i=[];do{if(e.available()===8)return;const c=e.readBits(8);if(c===254)return;this.parseTwoBytes(c,e.readBits(8),i);for(let u=0;u<3;u++){const f=i[u];switch(f){case 0:n.append("\r");break;case 1:n.append("*");break;case 2:n.append(">");break;case 3:n.append(" ");break;default:if(f<14)n.append(String.fromCharCode(f+44));else if(f<40)n.append(String.fromCharCode(f+51));else throw new Q;break}}}while(e.available()>0)}static parseTwoBytes(e,n,i){let c=(e<<8)+n-1,u=Math.floor(c/1600);i[0]=u,c-=u*1600,u=Math.floor(c/40),i[1]=u,i[2]=c-u*40}static decodeEdifactSegment(e,n){do{if(e.available()<=16)return;for(let i=0;i<4;i++){let c=e.readBits(6);if(c===31){const u=8-e.getBitOffset();u!==8&&e.readBits(u);return}(c&32)===0&&(c|=64),n.append(String.fromCharCode(c))}}while(e.available()>0)}static decodeBase256Segment(e,n,i){let c=1+e.getByteOffset();const u=this.unrandomize255State(e.readBits(8),c++);let f;if(u===0?f=e.available()/8|0:u<250?f=u:f=250*(u-249)+this.unrandomize255State(e.readBits(8),c++),f<0)throw new Q;const m=new Uint8Array(f);for(let y=0;y<f;y++){if(e.available()<8)throw new Q;m[y]=this.unrandomize255State(e.readBits(8),c++)}i.push(m);try{n.append(je.decode(m,de.ISO88591))}catch(y){throw new Kn("Platform does not support required encoding: "+y.message)}}static unrandomize255State(e,n){const i=149*n%255+1,c=e-i;return c>=0?c:c+256}}Pr.C40_BASIC_SET_CHARS=["*","*","*"," ","0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"],Pr.C40_SHIFT2_SET_CHARS=["!",'"',"#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","@","[","\\","]","^","_"],Pr.TEXT_BASIC_SET_CHARS=["*","*","*"," ","0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z"],Pr.TEXT_SHIFT2_SET_CHARS=Pr.C40_SHIFT2_SET_CHARS,Pr.TEXT_SHIFT3_SET_CHARS=["`","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","{","|","}","~",""];class Oo{constructor(){this.rsDecoder=new Kr(it.DATA_MATRIX_FIELD_256)}decode(e){const n=new mr(e),i=n.getVersion(),c=n.readCodewords(),u=Ma.getDataBlocks(c,i);let f=0;for(let N of u)f+=N.getNumDataCodewords();const m=new Uint8Array(f),y=u.length;for(let N=0;N<y;N++){const j=u[N],D=j.getCodewords(),k=j.getNumDataCodewords();this.correctErrors(D,k);for(let U=0;U<k;U++)m[U*y+N]=D[U]}return Pr.decode(m)}correctErrors(e,n){const i=new Int32Array(e);try{this.rsDecoder.decode(i,e.length-n)}catch{throw new P}for(let c=0;c<n;c++)e[c]=i[c]}}class Xt{constructor(e){this.image=e,this.rectangleDetector=new Yr(this.image)}detect(){const e=this.rectangleDetector.detect();let n=this.detectSolid1(e);if(n=this.detectSolid2(n),n[3]=this.correctTopRight(n),!n[3])throw new W;n=this.shiftToModuleCenter(n);const i=n[0],c=n[1],u=n[2],f=n[3];let m=this.transitionsBetween(i,f)+1,y=this.transitionsBetween(u,f)+1;(m&1)===1&&(m+=1),(y&1)===1&&(y+=1),4*m<7*y&&4*y<7*m&&(m=y=Math.max(m,y));let N=Xt.sampleGrid(this.image,i,c,u,f,m,y);return new ai(N,[i,c,u,f])}static shiftPoint(e,n,i){let c=(n.getX()-e.getX())/(i+1),u=(n.getY()-e.getY())/(i+1);return new Fe(e.getX()+c,e.getY()+u)}static moveAway(e,n,i){let c=e.getX(),u=e.getY();return c<n?c-=1:c+=1,u<i?u-=1:u+=1,new Fe(c,u)}detectSolid1(e){let n=e[0],i=e[1],c=e[3],u=e[2],f=this.transitionsBetween(n,i),m=this.transitionsBetween(i,c),y=this.transitionsBetween(c,u),N=this.transitionsBetween(u,n),j=f,D=[u,n,i,c];return j>m&&(j=m,D[0]=n,D[1]=i,D[2]=c,D[3]=u),j>y&&(j=y,D[0]=i,D[1]=c,D[2]=u,D[3]=n),j>N&&(D[0]=c,D[1]=u,D[2]=n,D[3]=i),D}detectSolid2(e){let n=e[0],i=e[1],c=e[2],u=e[3],f=this.transitionsBetween(n,u),m=Xt.shiftPoint(i,c,(f+1)*4),y=Xt.shiftPoint(c,i,(f+1)*4),N=this.transitionsBetween(m,n),j=this.transitionsBetween(y,u);return N<j?(e[0]=n,e[1]=i,e[2]=c,e[3]=u):(e[0]=i,e[1]=c,e[2]=u,e[3]=n),e}correctTopRight(e){let n=e[0],i=e[1],c=e[2],u=e[3],f=this.transitionsBetween(n,u),m=this.transitionsBetween(i,u),y=Xt.shiftPoint(n,i,(m+1)*4),N=Xt.shiftPoint(c,i,(f+1)*4);f=this.transitionsBetween(y,u),m=this.transitionsBetween(N,u);let j=new Fe(u.getX()+(c.getX()-i.getX())/(f+1),u.getY()+(c.getY()-i.getY())/(f+1)),D=new Fe(u.getX()+(n.getX()-i.getX())/(m+1),u.getY()+(n.getY()-i.getY())/(m+1));if(!this.isValid(j))return this.isValid(D)?D:null;if(!this.isValid(D))return j;let k=this.transitionsBetween(y,j)+this.transitionsBetween(N,j),U=this.transitionsBetween(y,D)+this.transitionsBetween(N,D);return k>U?j:D}shiftToModuleCenter(e){let n=e[0],i=e[1],c=e[2],u=e[3],f=this.transitionsBetween(n,u)+1,m=this.transitionsBetween(c,u)+1,y=Xt.shiftPoint(n,i,m*4),N=Xt.shiftPoint(c,i,f*4);f=this.transitionsBetween(y,u)+1,m=this.transitionsBetween(N,u)+1,(f&1)===1&&(f+=1),(m&1)===1&&(m+=1);let j=(n.getX()+i.getX()+c.getX()+u.getX())/4,D=(n.getY()+i.getY()+c.getY()+u.getY())/4;n=Xt.moveAway(n,j,D),i=Xt.moveAway(i,j,D),c=Xt.moveAway(c,j,D),u=Xt.moveAway(u,j,D);let k,U;return y=Xt.shiftPoint(n,i,m*4),y=Xt.shiftPoint(y,u,f*4),k=Xt.shiftPoint(i,n,m*4),k=Xt.shiftPoint(k,c,f*4),N=Xt.shiftPoint(c,u,m*4),N=Xt.shiftPoint(N,i,f*4),U=Xt.shiftPoint(u,c,m*4),U=Xt.shiftPoint(U,n,f*4),[y,k,N,U]}isValid(e){return e.getX()>=0&&e.getX()<this.image.getWidth()&&e.getY()>0&&e.getY()<this.image.getHeight()}static sampleGrid(e,n,i,c,u,f,m){return Dr.getInstance().sampleGrid(e,f,m,.5,.5,f-.5,.5,f-.5,m-.5,.5,m-.5,n.getX(),n.getY(),u.getX(),u.getY(),c.getX(),c.getY(),i.getX(),i.getY())}transitionsBetween(e,n){let i=Math.trunc(e.getX()),c=Math.trunc(e.getY()),u=Math.trunc(n.getX()),f=Math.trunc(n.getY()),m=Math.abs(f-c)>Math.abs(u-i);if(m){let q=i;i=c,c=q,q=u,u=f,f=q}let y=Math.abs(u-i),N=Math.abs(f-c),j=-y/2,D=c<f?1:-1,k=i<u?1:-1,U=0,X=this.image.get(m?c:i,m?i:c);for(let q=i,J=c;q!==u;q+=k){let ie=this.image.get(m?J:q,m?q:J);if(ie!==X&&(U++,X=ie),j+=N,j>0){if(J===f)break;J+=D,j-=y}}return U}}class Lr{constructor(){this.decoder=new Oo}decode(e,n=null){let i,c;if(n!=null&&n.has(le.PURE_BARCODE)){const N=Lr.extractPureBits(e.getBlackMatrix());i=this.decoder.decode(N),c=Lr.NO_POINTS}else{const N=new Xt(e.getBlackMatrix()).detect();i=this.decoder.decode(N.getBits()),c=N.getPoints()}const u=i.getRawBytes(),f=new Be(i.getText(),u,8*u.length,c,Se.DATA_MATRIX,R.currentTimeMillis()),m=i.getByteSegments();m!=null&&f.putMetadata(Me.BYTE_SEGMENTS,m);const y=i.getECLevel();return y!=null&&f.putMetadata(Me.ERROR_CORRECTION_LEVEL,y),f}reset(){}static extractPureBits(e){const n=e.getTopLeftOnBit(),i=e.getBottomRightOnBit();if(n==null||i==null)throw new W;const c=this.moduleSize(n,e);let u=n[1];const f=i[1];let m=n[0];const N=(i[0]-m+1)/c,j=(f-u+1)/c;if(N<=0||j<=0)throw new W;const D=c/2;u+=D,m+=D;const k=new he(N,j);for(let U=0;U<j;U++){const X=u+U*c;for(let q=0;q<N;q++)e.get(m+q*c,X)&&k.set(q,U)}return k}static moduleSize(e,n){const i=n.getWidth();let c=e[0];const u=e[1];for(;c<i&&n.get(c,u);)c++;if(c===i)throw new W;const f=c-e[0];if(f===0)throw new W;return f}}Lr.NO_POINTS=[];class Zu extends Ge{constructor(e=500){super(new Lr,e)}}var di;(function(_){_[_.L=0]="L",_[_.M=1]="M",_[_.Q=2]="Q",_[_.H=3]="H"})(di||(di={}));class kt{constructor(e,n,i){this.value=e,this.stringValue=n,this.bits=i,kt.FOR_BITS.set(i,this),kt.FOR_VALUE.set(e,this)}getValue(){return this.value}getBits(){return this.bits}static fromString(e){switch(e){case"L":return kt.L;case"M":return kt.M;case"Q":return kt.Q;case"H":return kt.H;default:throw new b(e+"not available")}}toString(){return this.stringValue}equals(e){if(!(e instanceof kt))return!1;const n=e;return this.value===n.value}static forBits(e){if(e<0||e>=kt.FOR_BITS.size)throw new A;return kt.FOR_BITS.get(e)}}kt.FOR_BITS=new Map,kt.FOR_VALUE=new Map,kt.L=new kt(di.L,"L",1),kt.M=new kt(di.M,"M",0),kt.Q=new kt(di.Q,"Q",3),kt.H=new kt(di.H,"H",2);class Tn{constructor(e){this.errorCorrectionLevel=kt.forBits(e>>3&3),this.dataMask=e&7}static numBitsDiffering(e,n){return V.bitCount(e^n)}static decodeFormatInformation(e,n){const i=Tn.doDecodeFormatInformation(e,n);return i!==null?i:Tn.doDecodeFormatInformation(e^Tn.FORMAT_INFO_MASK_QR,n^Tn.FORMAT_INFO_MASK_QR)}static doDecodeFormatInformation(e,n){let i=Number.MAX_SAFE_INTEGER,c=0;for(const u of Tn.FORMAT_INFO_DECODE_LOOKUP){const f=u[0];if(f===e||f===n)return new Tn(u[1]);let m=Tn.numBitsDiffering(e,f);m<i&&(c=u[1],i=m),e!==n&&(m=Tn.numBitsDiffering(n,f),m<i&&(c=u[1],i=m))}return i<=3?new Tn(c):null}getErrorCorrectionLevel(){return this.errorCorrectionLevel}getDataMask(){return this.dataMask}hashCode(){return this.errorCorrectionLevel.getBits()<<3|this.dataMask}equals(e){if(!(e instanceof Tn))return!1;const n=e;return this.errorCorrectionLevel===n.errorCorrectionLevel&&this.dataMask===n.dataMask}}Tn.FORMAT_INFO_MASK_QR=21522,Tn.FORMAT_INFO_DECODE_LOOKUP=[Int32Array.from([21522,0]),Int32Array.from([20773,1]),Int32Array.from([24188,2]),Int32Array.from([23371,3]),Int32Array.from([17913,4]),Int32Array.from([16590,5]),Int32Array.from([20375,6]),Int32Array.from([19104,7]),Int32Array.from([30660,8]),Int32Array.from([29427,9]),Int32Array.from([32170,10]),Int32Array.from([30877,11]),Int32Array.from([26159,12]),Int32Array.from([25368,13]),Int32Array.from([27713,14]),Int32Array.from([26998,15]),Int32Array.from([5769,16]),Int32Array.from([5054,17]),Int32Array.from([7399,18]),Int32Array.from([6608,19]),Int32Array.from([1890,20]),Int32Array.from([597,21]),Int32Array.from([3340,22]),Int32Array.from([2107,23]),Int32Array.from([13663,24]),Int32Array.from([12392,25]),Int32Array.from([16177,26]),Int32Array.from([14854,27]),Int32Array.from([9396,28]),Int32Array.from([8579,29]),Int32Array.from([11994,30]),Int32Array.from([11245,31])];class ee{constructor(e,...n){this.ecCodewordsPerBlock=e,this.ecBlocks=n}getECCodewordsPerBlock(){return this.ecCodewordsPerBlock}getNumBlocks(){let e=0;const n=this.ecBlocks;for(const i of n)e+=i.getCount();return e}getTotalECCodewords(){return this.ecCodewordsPerBlock*this.getNumBlocks()}getECBlocks(){return this.ecBlocks}}class B{constructor(e,n){this.count=e,this.dataCodewords=n}getCount(){return this.count}getDataCodewords(){return this.dataCodewords}}class Ye{constructor(e,n,...i){this.versionNumber=e,this.alignmentPatternCenters=n,this.ecBlocks=i;let c=0;const u=i[0].getECCodewordsPerBlock(),f=i[0].getECBlocks();for(const m of f)c+=m.getCount()*(m.getDataCodewords()+u);this.totalCodewords=c}getVersionNumber(){return this.versionNumber}getAlignmentPatternCenters(){return this.alignmentPatternCenters}getTotalCodewords(){return this.totalCodewords}getDimensionForVersion(){return 17+4*this.versionNumber}getECBlocksForLevel(e){return this.ecBlocks[e.getValue()]}static getProvisionalVersionForDimension(e){if(e%4!==1)throw new Q;try{return this.getVersionForNumber((e-17)/4)}catch{throw new Q}}static getVersionForNumber(e){if(e<1||e>40)throw new A;return Ye.VERSIONS[e-1]}static decodeVersionInformation(e){let n=Number.MAX_SAFE_INTEGER,i=0;for(let c=0;c<Ye.VERSION_DECODE_INFO.length;c++){const u=Ye.VERSION_DECODE_INFO[c];if(u===e)return Ye.getVersionForNumber(c+7);const f=Tn.numBitsDiffering(e,u);f<n&&(i=c+7,n=f)}return n<=3?Ye.getVersionForNumber(i):null}buildFunctionPattern(){const e=this.getDimensionForVersion(),n=new he(e);n.setRegion(0,0,9,9),n.setRegion(e-8,0,8,9),n.setRegion(0,e-8,9,8);const i=this.alignmentPatternCenters.length;for(let c=0;c<i;c++){const u=this.alignmentPatternCenters[c]-2;for(let f=0;f<i;f++)c===0&&(f===0||f===i-1)||c===i-1&&f===0||n.setRegion(this.alignmentPatternCenters[f]-2,u,5,5)}return n.setRegion(6,9,1,e-17),n.setRegion(9,6,e-17,1),this.versionNumber>6&&(n.setRegion(e-11,0,3,6),n.setRegion(0,e-11,6,3)),n}toString(){return""+this.versionNumber}}Ye.VERSION_DECODE_INFO=Int32Array.from([31892,34236,39577,42195,48118,51042,55367,58893,63784,68472,70749,76311,79154,84390,87683,92361,96236,102084,102881,110507,110734,117786,119615,126325,127568,133589,136944,141498,145311,150283,152622,158308,161089,167017]),Ye.VERSIONS=[new Ye(1,new Int32Array(0),new ee(7,new B(1,19)),new ee(10,new B(1,16)),new ee(13,new B(1,13)),new ee(17,new B(1,9))),new Ye(2,Int32Array.from([6,18]),new ee(10,new B(1,34)),new ee(16,new B(1,28)),new ee(22,new B(1,22)),new ee(28,new B(1,16))),new Ye(3,Int32Array.from([6,22]),new ee(15,new B(1,55)),new ee(26,new B(1,44)),new ee(18,new B(2,17)),new ee(22,new B(2,13))),new Ye(4,Int32Array.from([6,26]),new ee(20,new B(1,80)),new ee(18,new B(2,32)),new ee(26,new B(2,24)),new ee(16,new B(4,9))),new Ye(5,Int32Array.from([6,30]),new ee(26,new B(1,108)),new ee(24,new B(2,43)),new ee(18,new B(2,15),new B(2,16)),new ee(22,new B(2,11),new B(2,12))),new Ye(6,Int32Array.from([6,34]),new ee(18,new B(2,68)),new ee(16,new B(4,27)),new ee(24,new B(4,19)),new ee(28,new B(4,15))),new Ye(7,Int32Array.from([6,22,38]),new ee(20,new B(2,78)),new ee(18,new B(4,31)),new ee(18,new B(2,14),new B(4,15)),new ee(26,new B(4,13),new B(1,14))),new Ye(8,Int32Array.from([6,24,42]),new ee(24,new B(2,97)),new ee(22,new B(2,38),new B(2,39)),new ee(22,new B(4,18),new B(2,19)),new ee(26,new B(4,14),new B(2,15))),new Ye(9,Int32Array.from([6,26,46]),new ee(30,new B(2,116)),new ee(22,new B(3,36),new B(2,37)),new ee(20,new B(4,16),new B(4,17)),new ee(24,new B(4,12),new B(4,13))),new Ye(10,Int32Array.from([6,28,50]),new ee(18,new B(2,68),new B(2,69)),new ee(26,new B(4,43),new B(1,44)),new ee(24,new B(6,19),new B(2,20)),new ee(28,new B(6,15),new B(2,16))),new Ye(11,Int32Array.from([6,30,54]),new ee(20,new B(4,81)),new ee(30,new B(1,50),new B(4,51)),new ee(28,new B(4,22),new B(4,23)),new ee(24,new B(3,12),new B(8,13))),new Ye(12,Int32Array.from([6,32,58]),new ee(24,new B(2,92),new B(2,93)),new ee(22,new B(6,36),new B(2,37)),new ee(26,new B(4,20),new B(6,21)),new ee(28,new B(7,14),new B(4,15))),new Ye(13,Int32Array.from([6,34,62]),new ee(26,new B(4,107)),new ee(22,new B(8,37),new B(1,38)),new ee(24,new B(8,20),new B(4,21)),new ee(22,new B(12,11),new B(4,12))),new Ye(14,Int32Array.from([6,26,46,66]),new ee(30,new B(3,115),new B(1,116)),new ee(24,new B(4,40),new B(5,41)),new ee(20,new B(11,16),new B(5,17)),new ee(24,new B(11,12),new B(5,13))),new Ye(15,Int32Array.from([6,26,48,70]),new ee(22,new B(5,87),new B(1,88)),new ee(24,new B(5,41),new B(5,42)),new ee(30,new B(5,24),new B(7,25)),new ee(24,new B(11,12),new B(7,13))),new Ye(16,Int32Array.from([6,26,50,74]),new ee(24,new B(5,98),new B(1,99)),new ee(28,new B(7,45),new B(3,46)),new ee(24,new B(15,19),new B(2,20)),new ee(30,new B(3,15),new B(13,16))),new Ye(17,Int32Array.from([6,30,54,78]),new ee(28,new B(1,107),new B(5,108)),new ee(28,new B(10,46),new B(1,47)),new ee(28,new B(1,22),new B(15,23)),new ee(28,new B(2,14),new B(17,15))),new Ye(18,Int32Array.from([6,30,56,82]),new ee(30,new B(5,120),new B(1,121)),new ee(26,new B(9,43),new B(4,44)),new ee(28,new B(17,22),new B(1,23)),new ee(28,new B(2,14),new B(19,15))),new Ye(19,Int32Array.from([6,30,58,86]),new ee(28,new B(3,113),new B(4,114)),new ee(26,new B(3,44),new B(11,45)),new ee(26,new B(17,21),new B(4,22)),new ee(26,new B(9,13),new B(16,14))),new Ye(20,Int32Array.from([6,34,62,90]),new ee(28,new B(3,107),new B(5,108)),new ee(26,new B(3,41),new B(13,42)),new ee(30,new B(15,24),new B(5,25)),new ee(28,new B(15,15),new B(10,16))),new Ye(21,Int32Array.from([6,28,50,72,94]),new ee(28,new B(4,116),new B(4,117)),new ee(26,new B(17,42)),new ee(28,new B(17,22),new B(6,23)),new ee(30,new B(19,16),new B(6,17))),new Ye(22,Int32Array.from([6,26,50,74,98]),new ee(28,new B(2,111),new B(7,112)),new ee(28,new B(17,46)),new ee(30,new B(7,24),new B(16,25)),new ee(24,new B(34,13))),new Ye(23,Int32Array.from([6,30,54,78,102]),new ee(30,new B(4,121),new B(5,122)),new ee(28,new B(4,47),new B(14,48)),new ee(30,new B(11,24),new B(14,25)),new ee(30,new B(16,15),new B(14,16))),new Ye(24,Int32Array.from([6,28,54,80,106]),new ee(30,new B(6,117),new B(4,118)),new ee(28,new B(6,45),new B(14,46)),new ee(30,new B(11,24),new B(16,25)),new ee(30,new B(30,16),new B(2,17))),new Ye(25,Int32Array.from([6,32,58,84,110]),new ee(26,new B(8,106),new B(4,107)),new ee(28,new B(8,47),new B(13,48)),new ee(30,new B(7,24),new B(22,25)),new ee(30,new B(22,15),new B(13,16))),new Ye(26,Int32Array.from([6,30,58,86,114]),new ee(28,new B(10,114),new B(2,115)),new ee(28,new B(19,46),new B(4,47)),new ee(28,new B(28,22),new B(6,23)),new ee(30,new B(33,16),new B(4,17))),new Ye(27,Int32Array.from([6,34,62,90,118]),new ee(30,new B(8,122),new B(4,123)),new ee(28,new B(22,45),new B(3,46)),new ee(30,new B(8,23),new B(26,24)),new ee(30,new B(12,15),new B(28,16))),new Ye(28,Int32Array.from([6,26,50,74,98,122]),new ee(30,new B(3,117),new B(10,118)),new ee(28,new B(3,45),new B(23,46)),new ee(30,new B(4,24),new B(31,25)),new ee(30,new B(11,15),new B(31,16))),new Ye(29,Int32Array.from([6,30,54,78,102,126]),new ee(30,new B(7,116),new B(7,117)),new ee(28,new B(21,45),new B(7,46)),new ee(30,new B(1,23),new B(37,24)),new ee(30,new B(19,15),new B(26,16))),new Ye(30,Int32Array.from([6,26,52,78,104,130]),new ee(30,new B(5,115),new B(10,116)),new ee(28,new B(19,47),new B(10,48)),new ee(30,new B(15,24),new B(25,25)),new ee(30,new B(23,15),new B(25,16))),new Ye(31,Int32Array.from([6,30,56,82,108,134]),new ee(30,new B(13,115),new B(3,116)),new ee(28,new B(2,46),new B(29,47)),new ee(30,new B(42,24),new B(1,25)),new ee(30,new B(23,15),new B(28,16))),new Ye(32,Int32Array.from([6,34,60,86,112,138]),new ee(30,new B(17,115)),new ee(28,new B(10,46),new B(23,47)),new ee(30,new B(10,24),new B(35,25)),new ee(30,new B(19,15),new B(35,16))),new Ye(33,Int32Array.from([6,30,58,86,114,142]),new ee(30,new B(17,115),new B(1,116)),new ee(28,new B(14,46),new B(21,47)),new ee(30,new B(29,24),new B(19,25)),new ee(30,new B(11,15),new B(46,16))),new Ye(34,Int32Array.from([6,34,62,90,118,146]),new ee(30,new B(13,115),new B(6,116)),new ee(28,new B(14,46),new B(23,47)),new ee(30,new B(44,24),new B(7,25)),new ee(30,new B(59,16),new B(1,17))),new Ye(35,Int32Array.from([6,30,54,78,102,126,150]),new ee(30,new B(12,121),new B(7,122)),new ee(28,new B(12,47),new B(26,48)),new ee(30,new B(39,24),new B(14,25)),new ee(30,new B(22,15),new B(41,16))),new Ye(36,Int32Array.from([6,24,50,76,102,128,154]),new ee(30,new B(6,121),new B(14,122)),new ee(28,new B(6,47),new B(34,48)),new ee(30,new B(46,24),new B(10,25)),new ee(30,new B(2,15),new B(64,16))),new Ye(37,Int32Array.from([6,28,54,80,106,132,158]),new ee(30,new B(17,122),new B(4,123)),new ee(28,new B(29,46),new B(14,47)),new ee(30,new B(49,24),new B(10,25)),new ee(30,new B(24,15),new B(46,16))),new Ye(38,Int32Array.from([6,32,58,84,110,136,162]),new ee(30,new B(4,122),new B(18,123)),new ee(28,new B(13,46),new B(32,47)),new ee(30,new B(48,24),new B(14,25)),new ee(30,new B(42,15),new B(32,16))),new Ye(39,Int32Array.from([6,26,54,82,110,138,166]),new ee(30,new B(20,117),new B(4,118)),new ee(28,new B(40,47),new B(7,48)),new ee(30,new B(43,24),new B(22,25)),new ee(30,new B(10,15),new B(67,16))),new Ye(40,Int32Array.from([6,30,58,86,114,142,170]),new ee(30,new B(19,118),new B(6,119)),new ee(28,new B(18,47),new B(31,48)),new ee(30,new B(34,24),new B(34,25)),new ee(30,new B(20,15),new B(61,16)))];var hn;(function(_){_[_.DATA_MASK_000=0]="DATA_MASK_000",_[_.DATA_MASK_001=1]="DATA_MASK_001",_[_.DATA_MASK_010=2]="DATA_MASK_010",_[_.DATA_MASK_011=3]="DATA_MASK_011",_[_.DATA_MASK_100=4]="DATA_MASK_100",_[_.DATA_MASK_101=5]="DATA_MASK_101",_[_.DATA_MASK_110=6]="DATA_MASK_110",_[_.DATA_MASK_111=7]="DATA_MASK_111"})(hn||(hn={}));class yt{constructor(e,n){this.value=e,this.isMasked=n}unmaskBitMatrix(e,n){for(let i=0;i<n;i++)for(let c=0;c<n;c++)this.isMasked(i,c)&&e.flip(c,i)}}yt.values=new Map([[hn.DATA_MASK_000,new yt(hn.DATA_MASK_000,(_,e)=>(_+e&1)===0)],[hn.DATA_MASK_001,new yt(hn.DATA_MASK_001,(_,e)=>(_&1)===0)],[hn.DATA_MASK_010,new yt(hn.DATA_MASK_010,(_,e)=>e%3===0)],[hn.DATA_MASK_011,new yt(hn.DATA_MASK_011,(_,e)=>(_+e)%3===0)],[hn.DATA_MASK_100,new yt(hn.DATA_MASK_100,(_,e)=>(Math.floor(_/2)+Math.floor(e/3)&1)===0)],[hn.DATA_MASK_101,new yt(hn.DATA_MASK_101,(_,e)=>_*e%6===0)],[hn.DATA_MASK_110,new yt(hn.DATA_MASK_110,(_,e)=>_*e%6<3)],[hn.DATA_MASK_111,new yt(hn.DATA_MASK_111,(_,e)=>(_+e+_*e%3&1)===0)]]);class Kl{constructor(e){const n=e.getHeight();if(n<21||(n&3)!==1)throw new Q;this.bitMatrix=e}readFormatInformation(){if(this.parsedFormatInfo!==null&&this.parsedFormatInfo!==void 0)return this.parsedFormatInfo;let e=0;for(let u=0;u<6;u++)e=this.copyBit(u,8,e);e=this.copyBit(7,8,e),e=this.copyBit(8,8,e),e=this.copyBit(8,7,e);for(let u=5;u>=0;u--)e=this.copyBit(8,u,e);const n=this.bitMatrix.getHeight();let i=0;const c=n-7;for(let u=n-1;u>=c;u--)i=this.copyBit(8,u,i);for(let u=n-8;u<n;u++)i=this.copyBit(u,8,i);if(this.parsedFormatInfo=Tn.decodeFormatInformation(e,i),this.parsedFormatInfo!==null)return this.parsedFormatInfo;throw new Q}readVersion(){if(this.parsedVersion!==null&&this.parsedVersion!==void 0)return this.parsedVersion;const e=this.bitMatrix.getHeight(),n=Math.floor((e-17)/4);if(n<=6)return Ye.getVersionForNumber(n);let i=0;const c=e-11;for(let f=5;f>=0;f--)for(let m=e-9;m>=c;m--)i=this.copyBit(m,f,i);let u=Ye.decodeVersionInformation(i);if(u!==null&&u.getDimensionForVersion()===e)return this.parsedVersion=u,u;i=0;for(let f=5;f>=0;f--)for(let m=e-9;m>=c;m--)i=this.copyBit(f,m,i);if(u=Ye.decodeVersionInformation(i),u!==null&&u.getDimensionForVersion()===e)return this.parsedVersion=u,u;throw new Q}copyBit(e,n,i){return(this.isMirror?this.bitMatrix.get(n,e):this.bitMatrix.get(e,n))?i<<1|1:i<<1}readCodewords(){const e=this.readFormatInformation(),n=this.readVersion(),i=yt.values.get(e.getDataMask()),c=this.bitMatrix.getHeight();i.unmaskBitMatrix(this.bitMatrix,c);const u=n.buildFunctionPattern();let f=!0;const m=new Uint8Array(n.getTotalCodewords());let y=0,N=0,j=0;for(let D=c-1;D>0;D-=2){D===6&&D--;for(let k=0;k<c;k++){const U=f?c-1-k:k;for(let X=0;X<2;X++)u.get(D-X,U)||(j++,N<<=1,this.bitMatrix.get(D-X,U)&&(N|=1),j===8&&(m[y++]=N,j=0,N=0))}f=!f}if(y!==n.getTotalCodewords())throw new Q;return m}remask(){if(this.parsedFormatInfo===null)return;const e=yt.values[this.parsedFormatInfo.getDataMask()],n=this.bitMatrix.getHeight();e.unmaskBitMatrix(this.bitMatrix,n)}setMirror(e){this.parsedVersion=null,this.parsedFormatInfo=null,this.isMirror=e}mirror(){const e=this.bitMatrix;for(let n=0,i=e.getWidth();n<i;n++)for(let c=n+1,u=e.getHeight();c<u;c++)e.get(n,c)!==e.get(c,n)&&(e.flip(c,n),e.flip(n,c))}}class _o{constructor(e,n){this.numDataCodewords=e,this.codewords=n}static getDataBlocks(e,n,i){if(e.length!==n.getTotalCodewords())throw new A;const c=n.getECBlocksForLevel(i);let u=0;const f=c.getECBlocks();for(const X of f)u+=X.getCount();const m=new Array(u);let y=0;for(const X of f)for(let q=0;q<X.getCount();q++){const J=X.getDataCodewords(),ie=c.getECCodewordsPerBlock()+J;m[y++]=new _o(J,new Uint8Array(ie))}const N=m[0].codewords.length;let j=m.length-1;for(;j>=0&&m[j].codewords.length!==N;)j--;j++;const D=N-c.getECCodewordsPerBlock();let k=0;for(let X=0;X<D;X++)for(let q=0;q<y;q++)m[q].codewords[X]=e[k++];for(let X=j;X<y;X++)m[X].codewords[D]=e[k++];const U=m[0].codewords.length;for(let X=D;X<U;X++)for(let q=0;q<y;q++){const J=q<j?X:X+1;m[q].codewords[J]=e[k++]}return m}getNumDataCodewords(){return this.numDataCodewords}getCodewords(){return this.codewords}}var sr;(function(_){_[_.TERMINATOR=0]="TERMINATOR",_[_.NUMERIC=1]="NUMERIC",_[_.ALPHANUMERIC=2]="ALPHANUMERIC",_[_.STRUCTURED_APPEND=3]="STRUCTURED_APPEND",_[_.BYTE=4]="BYTE",_[_.ECI=5]="ECI",_[_.KANJI=6]="KANJI",_[_.FNC1_FIRST_POSITION=7]="FNC1_FIRST_POSITION",_[_.FNC1_SECOND_POSITION=8]="FNC1_SECOND_POSITION",_[_.HANZI=9]="HANZI"})(sr||(sr={}));class Qe{constructor(e,n,i,c){this.value=e,this.stringValue=n,this.characterCountBitsForVersions=i,this.bits=c,Qe.FOR_BITS.set(c,this),Qe.FOR_VALUE.set(e,this)}static forBits(e){const n=Qe.FOR_BITS.get(e);if(n===void 0)throw new A;return n}getCharacterCountBits(e){const n=e.getVersionNumber();let i;return n<=9?i=0:n<=26?i=1:i=2,this.characterCountBitsForVersions[i]}getValue(){return this.value}getBits(){return this.bits}equals(e){if(!(e instanceof Qe))return!1;const n=e;return this.value===n.value}toString(){return this.stringValue}}Qe.FOR_BITS=new Map,Qe.FOR_VALUE=new Map,Qe.TERMINATOR=new Qe(sr.TERMINATOR,"TERMINATOR",Int32Array.from([0,0,0]),0),Qe.NUMERIC=new Qe(sr.NUMERIC,"NUMERIC",Int32Array.from([10,12,14]),1),Qe.ALPHANUMERIC=new Qe(sr.ALPHANUMERIC,"ALPHANUMERIC",Int32Array.from([9,11,13]),2),Qe.STRUCTURED_APPEND=new Qe(sr.STRUCTURED_APPEND,"STRUCTURED_APPEND",Int32Array.from([0,0,0]),3),Qe.BYTE=new Qe(sr.BYTE,"BYTE",Int32Array.from([8,16,16]),4),Qe.ECI=new Qe(sr.ECI,"ECI",Int32Array.from([0,0,0]),7),Qe.KANJI=new Qe(sr.KANJI,"KANJI",Int32Array.from([8,10,12]),8),Qe.FNC1_FIRST_POSITION=new Qe(sr.FNC1_FIRST_POSITION,"FNC1_FIRST_POSITION",Int32Array.from([0,0,0]),5),Qe.FNC1_SECOND_POSITION=new Qe(sr.FNC1_SECOND_POSITION,"FNC1_SECOND_POSITION",Int32Array.from([0,0,0]),9),Qe.HANZI=new Qe(sr.HANZI,"HANZI",Int32Array.from([8,10,12]),13);class Qt{static decode(e,n,i,c){const u=new ka(e);let f=new Ie;const m=new Array;let y=-1,N=-1;try{let j=null,D=!1,k;do{if(u.available()<4)k=Qe.TERMINATOR;else{const U=u.readBits(4);k=Qe.forBits(U)}switch(k){case Qe.TERMINATOR:break;case Qe.FNC1_FIRST_POSITION:case Qe.FNC1_SECOND_POSITION:D=!0;break;case Qe.STRUCTURED_APPEND:if(u.available()<16)throw new Q;y=u.readBits(8),N=u.readBits(8);break;case Qe.ECI:const U=Qt.parseECIValue(u);if(j=se.getCharacterSetECIByValue(U),j===null)throw new Q;break;case Qe.HANZI:const X=u.readBits(4),q=u.readBits(k.getCharacterCountBits(n));X===Qt.GB2312_SUBSET&&Qt.decodeHanziSegment(u,f,q);break;default:const J=u.readBits(k.getCharacterCountBits(n));switch(k){case Qe.NUMERIC:Qt.decodeNumericSegment(u,f,J);break;case Qe.ALPHANUMERIC:Qt.decodeAlphanumericSegment(u,f,J,D);break;case Qe.BYTE:Qt.decodeByteSegment(u,f,J,j,m,c);break;case Qe.KANJI:Qt.decodeKanjiSegment(u,f,J);break;default:throw new Q}break}}while(k!==Qe.TERMINATOR)}catch{throw new Q}return new lt(e,f.toString(),m.length===0?null:m,i===null?null:i.toString(),y,N)}static decodeHanziSegment(e,n,i){if(i*13>e.available())throw new Q;const c=new Uint8Array(2*i);let u=0;for(;i>0;){const f=e.readBits(13);let m=f/96<<8&4294967295|f%96;m<959?m+=41377:m+=42657,c[u]=m>>8&255,c[u+1]=m&255,u+=2,i--}try{n.append(je.decode(c,de.GB2312))}catch(f){throw new Q(f)}}static decodeKanjiSegment(e,n,i){if(i*13>e.available())throw new Q;const c=new Uint8Array(2*i);let u=0;for(;i>0;){const f=e.readBits(13);let m=f/192<<8&4294967295|f%192;m<7936?m+=33088:m+=49472,c[u]=m>>8,c[u+1]=m,u+=2,i--}try{n.append(je.decode(c,de.SHIFT_JIS))}catch(f){throw new Q(f)}}static decodeByteSegment(e,n,i,c,u,f){if(8*i>e.available())throw new Q;const m=new Uint8Array(i);for(let N=0;N<i;N++)m[N]=e.readBits(8);let y;c===null?y=de.guessEncoding(m,f):y=c.getName();try{n.append(je.decode(m,y))}catch(N){throw new Q(N)}u.push(m)}static toAlphaNumericChar(e){if(e>=Qt.ALPHANUMERIC_CHARS.length)throw new Q;return Qt.ALPHANUMERIC_CHARS[e]}static decodeAlphanumericSegment(e,n,i,c){const u=n.length();for(;i>1;){if(e.available()<11)throw new Q;const f=e.readBits(11);n.append(Qt.toAlphaNumericChar(Math.floor(f/45))),n.append(Qt.toAlphaNumericChar(f%45)),i-=2}if(i===1){if(e.available()<6)throw new Q;n.append(Qt.toAlphaNumericChar(e.readBits(6)))}if(c)for(let f=u;f<n.length();f++)n.charAt(f)==="%"&&(f<n.length()-1&&n.charAt(f+1)==="%"?n.deleteCharAt(f+1):n.setCharAt(f,""))}static decodeNumericSegment(e,n,i){for(;i>=3;){if(e.available()<10)throw new Q;const c=e.readBits(10);if(c>=1e3)throw new Q;n.append(Qt.toAlphaNumericChar(Math.floor(c/100))),n.append(Qt.toAlphaNumericChar(Math.floor(c/10)%10)),n.append(Qt.toAlphaNumericChar(c%10)),i-=3}if(i===2){if(e.available()<7)throw new Q;const c=e.readBits(7);if(c>=100)throw new Q;n.append(Qt.toAlphaNumericChar(Math.floor(c/10))),n.append(Qt.toAlphaNumericChar(c%10))}else if(i===1){if(e.available()<4)throw new Q;const c=e.readBits(4);if(c>=10)throw new Q;n.append(Qt.toAlphaNumericChar(c))}}static parseECIValue(e){const n=e.readBits(8);if((n&128)===0)return n&127;if((n&192)===128){const i=e.readBits(8);return(n&63)<<8&4294967295|i}if((n&224)===192){const i=e.readBits(16);return(n&31)<<16&4294967295|i}throw new Q}}Qt.ALPHANUMERIC_CHARS="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ $%*+-./:",Qt.GB2312_SUBSET=1;class Pa{constructor(e){this.mirrored=e}isMirrored(){return this.mirrored}applyMirroredCorrection(e){if(!this.mirrored||e===null||e.length<3)return;const n=e[0];e[0]=e[2],e[2]=n}}class La{constructor(){this.rsDecoder=new Kr(it.QR_CODE_FIELD_256)}decodeBooleanArray(e,n){return this.decodeBitMatrix(he.parseFromBooleanArray(e),n)}decodeBitMatrix(e,n){const i=new Kl(e);let c=null;try{return this.decodeBitMatrixParser(i,n)}catch(u){c=u}try{i.remask(),i.setMirror(!0),i.readVersion(),i.readFormatInformation(),i.mirror();const u=this.decodeBitMatrixParser(i,n);return u.setOther(new Pa(!0)),u}catch(u){throw c!==null?c:u}}decodeBitMatrixParser(e,n){const i=e.readVersion(),c=e.readFormatInformation().getErrorCorrectionLevel(),u=e.readCodewords(),f=_o.getDataBlocks(u,i,c);let m=0;for(const j of f)m+=j.getNumDataCodewords();const y=new Uint8Array(m);let N=0;for(const j of f){const D=j.getCodewords(),k=j.getNumDataCodewords();this.correctErrors(D,k);for(let U=0;U<k;U++)y[N++]=D[U]}return Qt.decode(y,i,c,n)}correctErrors(e,n){const i=new Int32Array(e);try{this.rsDecoder.decode(i,e.length-n)}catch{throw new P}for(let c=0;c<n;c++)e[c]=i[c]}}class fi extends Fe{constructor(e,n,i){super(e,n),this.estimatedModuleSize=i}aboutEquals(e,n,i){if(Math.abs(n-this.getY())<=e&&Math.abs(i-this.getX())<=e){const c=Math.abs(e-this.estimatedModuleSize);return c<=1||c<=this.estimatedModuleSize}return!1}combineEstimate(e,n,i){const c=(this.getX()+n)/2,u=(this.getY()+e)/2,f=(this.estimatedModuleSize+i)/2;return new fi(c,u,f)}}class Fr{constructor(e,n,i,c,u,f,m){this.image=e,this.startX=n,this.startY=i,this.width=c,this.height=u,this.moduleSize=f,this.resultPointCallback=m,this.possibleCenters=[],this.crossCheckStateCount=new Int32Array(3)}find(){const e=this.startX,n=this.height,i=this.width,c=e+i,u=this.startY+n/2,f=new Int32Array(3),m=this.image;for(let y=0;y<n;y++){const N=u+((y&1)===0?Math.floor((y+1)/2):-Math.floor((y+1)/2));f[0]=0,f[1]=0,f[2]=0;let j=e;for(;j<c&&!m.get(j,N);)j++;let D=0;for(;j<c;){if(m.get(j,N))if(D===1)f[1]++;else if(D===2){if(this.foundPatternCross(f)){const k=this.handlePossibleCenter(f,N,j);if(k!==null)return k}f[0]=f[2],f[1]=1,f[2]=0,D=1}else f[++D]++;else D===1&&D++,f[D]++;j++}if(this.foundPatternCross(f)){const k=this.handlePossibleCenter(f,N,c);if(k!==null)return k}}if(this.possibleCenters.length!==0)return this.possibleCenters[0];throw new W}static centerFromEnd(e,n){return n-e[2]-e[1]/2}foundPatternCross(e){const n=this.moduleSize,i=n/2;for(let c=0;c<3;c++)if(Math.abs(n-e[c])>=i)return!1;return!0}crossCheckVertical(e,n,i,c){const u=this.image,f=u.getHeight(),m=this.crossCheckStateCount;m[0]=0,m[1]=0,m[2]=0;let y=e;for(;y>=0&&u.get(n,y)&&m[1]<=i;)m[1]++,y--;if(y<0||m[1]>i)return NaN;for(;y>=0&&!u.get(n,y)&&m[0]<=i;)m[0]++,y--;if(m[0]>i)return NaN;for(y=e+1;y<f&&u.get(n,y)&&m[1]<=i;)m[1]++,y++;if(y===f||m[1]>i)return NaN;for(;y<f&&!u.get(n,y)&&m[2]<=i;)m[2]++,y++;if(m[2]>i)return NaN;const N=m[0]+m[1]+m[2];return 5*Math.abs(N-c)>=2*c?NaN:this.foundPatternCross(m)?Fr.centerFromEnd(m,y):NaN}handlePossibleCenter(e,n,i){const c=e[0]+e[1]+e[2],u=Fr.centerFromEnd(e,i),f=this.crossCheckVertical(n,u,2*e[1],c);if(!isNaN(f)){const m=(e[0]+e[1]+e[2])/3;for(const N of this.possibleCenters)if(N.aboutEquals(m,f,u))return N.combineEstimate(f,u,m);const y=new fi(u,f,m);this.possibleCenters.push(y),this.resultPointCallback!==null&&this.resultPointCallback!==void 0&&this.resultPointCallback.foundPossibleResultPoint(y)}return null}}class Zr extends Fe{constructor(e,n,i,c){super(e,n),this.estimatedModuleSize=i,this.count=c,c===void 0&&(this.count=1)}getEstimatedModuleSize(){return this.estimatedModuleSize}getCount(){return this.count}aboutEquals(e,n,i){if(Math.abs(n-this.getY())<=e&&Math.abs(i-this.getX())<=e){const c=Math.abs(e-this.estimatedModuleSize);return c<=1||c<=this.estimatedModuleSize}return!1}combineEstimate(e,n,i){const c=this.count+1,u=(this.count*this.getX()+n)/c,f=(this.count*this.getY()+e)/c,m=(this.count*this.estimatedModuleSize+i)/c;return new Zr(u,f,m,c)}}class Ss{constructor(e){this.bottomLeft=e[0],this.topLeft=e[1],this.topRight=e[2]}getBottomLeft(){return this.bottomLeft}getTopLeft(){return this.topLeft}getTopRight(){return this.topRight}}class an{constructor(e,n){this.image=e,this.resultPointCallback=n,this.possibleCenters=[],this.crossCheckStateCount=new Int32Array(5),this.resultPointCallback=n}getImage(){return this.image}getPossibleCenters(){return this.possibleCenters}find(e){const n=e!=null&&e.get(le.TRY_HARDER)!==void 0,i=e!=null&&e.get(le.PURE_BARCODE)!==void 0,c=this.image,u=c.getHeight(),f=c.getWidth();let m=Math.floor(3*u/(4*an.MAX_MODULES));(m<an.MIN_SKIP||n)&&(m=an.MIN_SKIP);let y=!1;const N=new Int32Array(5);for(let D=m-1;D<u&&!y;D+=m){N[0]=0,N[1]=0,N[2]=0,N[3]=0,N[4]=0;let k=0;for(let U=0;U<f;U++)if(c.get(U,D))(k&1)===1&&k++,N[k]++;else if((k&1)===0)if(k===4)if(an.foundPatternCross(N)){if(this.handlePossibleCenter(N,D,U,i)===!0)if(m=2,this.hasSkipped===!0)y=this.haveMultiplyConfirmedCenters();else{const q=this.findRowSkip();q>N[2]&&(D+=q-N[2]-m,U=f-1)}else{N[0]=N[2],N[1]=N[3],N[2]=N[4],N[3]=1,N[4]=0,k=3;continue}k=0,N[0]=0,N[1]=0,N[2]=0,N[3]=0,N[4]=0}else N[0]=N[2],N[1]=N[3],N[2]=N[4],N[3]=1,N[4]=0,k=3;else N[++k]++;else N[k]++;an.foundPatternCross(N)&&this.handlePossibleCenter(N,D,f,i)===!0&&(m=N[0],this.hasSkipped&&(y=this.haveMultiplyConfirmedCenters()))}const j=this.selectBestPatterns();return Fe.orderBestPatterns(j),new Ss(j)}static centerFromEnd(e,n){return n-e[4]-e[3]-e[2]/2}static foundPatternCross(e){let n=0;for(let u=0;u<5;u++){const f=e[u];if(f===0)return!1;n+=f}if(n<7)return!1;const i=n/7,c=i/2;return Math.abs(i-e[0])<c&&Math.abs(i-e[1])<c&&Math.abs(3*i-e[2])<3*c&&Math.abs(i-e[3])<c&&Math.abs(i-e[4])<c}getCrossCheckStateCount(){const e=this.crossCheckStateCount;return e[0]=0,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e}crossCheckDiagonal(e,n,i,c){const u=this.getCrossCheckStateCount();let f=0;const m=this.image;for(;e>=f&&n>=f&&m.get(n-f,e-f);)u[2]++,f++;if(e<f||n<f)return!1;for(;e>=f&&n>=f&&!m.get(n-f,e-f)&&u[1]<=i;)u[1]++,f++;if(e<f||n<f||u[1]>i)return!1;for(;e>=f&&n>=f&&m.get(n-f,e-f)&&u[0]<=i;)u[0]++,f++;if(u[0]>i)return!1;const y=m.getHeight(),N=m.getWidth();for(f=1;e+f<y&&n+f<N&&m.get(n+f,e+f);)u[2]++,f++;if(e+f>=y||n+f>=N)return!1;for(;e+f<y&&n+f<N&&!m.get(n+f,e+f)&&u[3]<i;)u[3]++,f++;if(e+f>=y||n+f>=N||u[3]>=i)return!1;for(;e+f<y&&n+f<N&&m.get(n+f,e+f)&&u[4]<i;)u[4]++,f++;if(u[4]>=i)return!1;const j=u[0]+u[1]+u[2]+u[3]+u[4];return Math.abs(j-c)<2*c&&an.foundPatternCross(u)}crossCheckVertical(e,n,i,c){const u=this.image,f=u.getHeight(),m=this.getCrossCheckStateCount();let y=e;for(;y>=0&&u.get(n,y);)m[2]++,y--;if(y<0)return NaN;for(;y>=0&&!u.get(n,y)&&m[1]<=i;)m[1]++,y--;if(y<0||m[1]>i)return NaN;for(;y>=0&&u.get(n,y)&&m[0]<=i;)m[0]++,y--;if(m[0]>i)return NaN;for(y=e+1;y<f&&u.get(n,y);)m[2]++,y++;if(y===f)return NaN;for(;y<f&&!u.get(n,y)&&m[3]<i;)m[3]++,y++;if(y===f||m[3]>=i)return NaN;for(;y<f&&u.get(n,y)&&m[4]<i;)m[4]++,y++;if(m[4]>=i)return NaN;const N=m[0]+m[1]+m[2]+m[3]+m[4];return 5*Math.abs(N-c)>=2*c?NaN:an.foundPatternCross(m)?an.centerFromEnd(m,y):NaN}crossCheckHorizontal(e,n,i,c){const u=this.image,f=u.getWidth(),m=this.getCrossCheckStateCount();let y=e;for(;y>=0&&u.get(y,n);)m[2]++,y--;if(y<0)return NaN;for(;y>=0&&!u.get(y,n)&&m[1]<=i;)m[1]++,y--;if(y<0||m[1]>i)return NaN;for(;y>=0&&u.get(y,n)&&m[0]<=i;)m[0]++,y--;if(m[0]>i)return NaN;for(y=e+1;y<f&&u.get(y,n);)m[2]++,y++;if(y===f)return NaN;for(;y<f&&!u.get(y,n)&&m[3]<i;)m[3]++,y++;if(y===f||m[3]>=i)return NaN;for(;y<f&&u.get(y,n)&&m[4]<i;)m[4]++,y++;if(m[4]>=i)return NaN;const N=m[0]+m[1]+m[2]+m[3]+m[4];return 5*Math.abs(N-c)>=c?NaN:an.foundPatternCross(m)?an.centerFromEnd(m,y):NaN}handlePossibleCenter(e,n,i,c){const u=e[0]+e[1]+e[2]+e[3]+e[4];let f=an.centerFromEnd(e,i),m=this.crossCheckVertical(n,Math.floor(f),e[2],u);if(!isNaN(m)&&(f=this.crossCheckHorizontal(Math.floor(f),Math.floor(m),e[2],u),!isNaN(f)&&(!c||this.crossCheckDiagonal(Math.floor(m),Math.floor(f),e[2],u)))){const y=u/7;let N=!1;const j=this.possibleCenters;for(let D=0,k=j.length;D<k;D++){const U=j[D];if(U.aboutEquals(y,m,f)){j[D]=U.combineEstimate(m,f,y),N=!0;break}}if(!N){const D=new Zr(f,m,y);j.push(D),this.resultPointCallback!==null&&this.resultPointCallback!==void 0&&this.resultPointCallback.foundPossibleResultPoint(D)}return!0}return!1}findRowSkip(){if(this.possibleCenters.length<=1)return 0;let n=null;for(const i of this.possibleCenters)if(i.getCount()>=an.CENTER_QUORUM)if(n==null)n=i;else return this.hasSkipped=!0,Math.floor((Math.abs(n.getX()-i.getX())-Math.abs(n.getY()-i.getY()))/2);return 0}haveMultiplyConfirmedCenters(){let e=0,n=0;const i=this.possibleCenters.length;for(const f of this.possibleCenters)f.getCount()>=an.CENTER_QUORUM&&(e++,n+=f.getEstimatedModuleSize());if(e<3)return!1;const c=n/i;let u=0;for(const f of this.possibleCenters)u+=Math.abs(f.getEstimatedModuleSize()-c);return u<=.05*n}selectBestPatterns(){const e=this.possibleCenters.length;if(e<3)throw new W;const n=this.possibleCenters;let i;if(e>3){let c=0,u=0;for(const y of this.possibleCenters){const N=y.getEstimatedModuleSize();c+=N,u+=N*N}i=c/e;let f=Math.sqrt(u/e-i*i);n.sort((y,N)=>{const j=Math.abs(N.getEstimatedModuleSize()-i),D=Math.abs(y.getEstimatedModuleSize()-i);return j<D?-1:j>D?1:0});const m=Math.max(.2*i,f);for(let y=0;y<n.length&&n.length>3;y++){const N=n[y];Math.abs(N.getEstimatedModuleSize()-i)>m&&(n.splice(y,1),y--)}}if(n.length>3){let c=0;for(const u of n)c+=u.getEstimatedModuleSize();i=c/n.length,n.sort((u,f)=>{if(f.getCount()===u.getCount()){const m=Math.abs(f.getEstimatedModuleSize()-i),y=Math.abs(u.getEstimatedModuleSize()-i);return m<y?1:m>y?-1:0}else return f.getCount()-u.getCount()}),n.splice(3)}return[n[0],n[1],n[2]]}}an.CENTER_QUORUM=2,an.MIN_SKIP=3,an.MAX_MODULES=57;class as{constructor(e){this.image=e}getImage(){return this.image}getResultPointCallback(){return this.resultPointCallback}detect(e){this.resultPointCallback=e==null?null:e.get(le.NEED_RESULT_POINT_CALLBACK);const i=new an(this.image,this.resultPointCallback).find(e);return this.processFinderPatternInfo(i)}processFinderPatternInfo(e){const n=e.getTopLeft(),i=e.getTopRight(),c=e.getBottomLeft(),u=this.calculateModuleSize(n,i,c);if(u<1)throw new W("No pattern found in proccess finder.");const f=as.computeDimension(n,i,c,u),m=Ye.getProvisionalVersionForDimension(f),y=m.getDimensionForVersion()-7;let N=null;if(m.getAlignmentPatternCenters().length>0){const U=i.getX()-n.getX()+c.getX(),X=i.getY()-n.getY()+c.getY(),q=1-3/y,J=Math.floor(n.getX()+q*(U-n.getX())),ie=Math.floor(n.getY()+q*(X-n.getY()));for(let be=4;be<=16;be<<=1)try{N=this.findAlignmentInRegion(u,J,ie,be);break}catch(Ne){if(!(Ne instanceof W))throw Ne}}const j=as.createTransform(n,i,c,N,f),D=as.sampleGrid(this.image,j,f);let k;return N===null?k=[c,n,i]:k=[c,n,i,N],new ai(D,k)}static createTransform(e,n,i,c,u){const f=u-3.5;let m,y,N,j;return c!==null?(m=c.getX(),y=c.getY(),N=f-3,j=N):(m=n.getX()-e.getX()+i.getX(),y=n.getY()-e.getY()+i.getY(),N=f,j=f),vr.quadrilateralToQuadrilateral(3.5,3.5,f,3.5,N,j,3.5,f,e.getX(),e.getY(),n.getX(),n.getY(),m,y,i.getX(),i.getY())}static sampleGrid(e,n,i){return Dr.getInstance().sampleGridWithTransform(e,i,i,n)}static computeDimension(e,n,i,c){const u=bt.round(Fe.distance(e,n)/c),f=bt.round(Fe.distance(e,i)/c);let m=Math.floor((u+f)/2)+7;switch(m&3){case 0:m++;break;case 2:m--;break;case 3:throw new W("Dimensions could be not found.")}return m}calculateModuleSize(e,n,i){return(this.calculateModuleSizeOneWay(e,n)+this.calculateModuleSizeOneWay(e,i))/2}calculateModuleSizeOneWay(e,n){const i=this.sizeOfBlackWhiteBlackRunBothWays(Math.floor(e.getX()),Math.floor(e.getY()),Math.floor(n.getX()),Math.floor(n.getY())),c=this.sizeOfBlackWhiteBlackRunBothWays(Math.floor(n.getX()),Math.floor(n.getY()),Math.floor(e.getX()),Math.floor(e.getY()));return isNaN(i)?c/7:isNaN(c)?i/7:(i+c)/14}sizeOfBlackWhiteBlackRunBothWays(e,n,i,c){let u=this.sizeOfBlackWhiteBlackRun(e,n,i,c),f=1,m=e-(i-e);m<0?(f=e/(e-m),m=0):m>=this.image.getWidth()&&(f=(this.image.getWidth()-1-e)/(m-e),m=this.image.getWidth()-1);let y=Math.floor(n-(c-n)*f);return f=1,y<0?(f=n/(n-y),y=0):y>=this.image.getHeight()&&(f=(this.image.getHeight()-1-n)/(y-n),y=this.image.getHeight()-1),m=Math.floor(e+(m-e)*f),u+=this.sizeOfBlackWhiteBlackRun(e,n,m,y),u-1}sizeOfBlackWhiteBlackRun(e,n,i,c){const u=Math.abs(c-n)>Math.abs(i-e);if(u){let U=e;e=n,n=U,U=i,i=c,c=U}const f=Math.abs(i-e),m=Math.abs(c-n);let y=-f/2;const N=e<i?1:-1,j=n<c?1:-1;let D=0;const k=i+N;for(let U=e,X=n;U!==k;U+=N){const q=u?X:U,J=u?U:X;if(D===1===this.image.get(q,J)){if(D===2)return bt.distance(U,X,e,n);D++}if(y+=m,y>0){if(X===c)break;X+=j,y-=f}}return D===2?bt.distance(i+N,c,e,n):NaN}findAlignmentInRegion(e,n,i,c){const u=Math.floor(c*e),f=Math.max(0,n-u),m=Math.min(this.image.getWidth()-1,n+u);if(m-f<e*3)throw new W("Alignment top exceeds estimated module size.");const y=Math.max(0,i-u),N=Math.min(this.image.getHeight()-1,i+u);if(N-y<e*3)throw new W("Alignment bottom exceeds estimated module size.");return new Fr(this.image,f,y,m-f,N-y,e,this.resultPointCallback).find()}}class qn{constructor(){this.decoder=new La}getDecoder(){return this.decoder}decode(e,n){let i,c;if(n!=null&&n.get(le.PURE_BARCODE)!==void 0){const y=qn.extractPureBits(e.getBlackMatrix());i=this.decoder.decodeBitMatrix(y,n),c=qn.NO_POINTS}else{const y=new as(e.getBlackMatrix()).detect(n);i=this.decoder.decodeBitMatrix(y.getBits(),n),c=y.getPoints()}i.getOther()instanceof Pa&&i.getOther().applyMirroredCorrection(c);const u=new Be(i.getText(),i.getRawBytes(),void 0,c,Se.QR_CODE,void 0),f=i.getByteSegments();f!==null&&u.putMetadata(Me.BYTE_SEGMENTS,f);const m=i.getECLevel();return m!==null&&u.putMetadata(Me.ERROR_CORRECTION_LEVEL,m),i.hasStructuredAppend()&&(u.putMetadata(Me.STRUCTURED_APPEND_SEQUENCE,i.getStructuredAppendSequenceNumber()),u.putMetadata(Me.STRUCTURED_APPEND_PARITY,i.getStructuredAppendParity())),u}reset(){}static extractPureBits(e){const n=e.getTopLeftOnBit(),i=e.getBottomRightOnBit();if(n===null||i===null)throw new W;const c=this.moduleSize(n,e);let u=n[1],f=i[1],m=n[0],y=i[0];if(m>=y||u>=f)throw new W;if(f-u!==y-m&&(y=m+(f-u),y>=e.getWidth()))throw new W;const N=Math.round((y-m+1)/c),j=Math.round((f-u+1)/c);if(N<=0||j<=0)throw new W;if(j!==N)throw new W;const D=Math.floor(c/2);u+=D,m+=D;const k=m+Math.floor((N-1)*c)-y;if(k>0){if(k>D)throw new W;m-=k}const U=u+Math.floor((j-1)*c)-f;if(U>0){if(U>D)throw new W;u-=U}const X=new he(N,j);for(let q=0;q<j;q++){const J=u+Math.floor(q*c);for(let ie=0;ie<N;ie++)e.get(m+Math.floor(ie*c),J)&&X.set(ie,q)}return X}static moduleSize(e,n){const i=n.getHeight(),c=n.getWidth();let u=e[0],f=e[1],m=!0,y=0;for(;u<c&&f<i;){if(m!==n.get(u,f)){if(++y===5)break;m=!m}u++,f++}if(u===c||f===i)throw new W;return(u-e[0])/7}}qn.NO_POINTS=new Array;class nt{PDF417Common(){}static getBitCountSum(e){return bt.sum(e)}static toIntArray(e){if(e==null||!e.length)return nt.EMPTY_INT_ARRAY;const n=new Int32Array(e.length);let i=0;for(const c of e)n[i++]=c;return n}static getCodeword(e){const n=H.binarySearch(nt.SYMBOL_TABLE,e&262143);return n<0?-1:(nt.CODEWORD_TABLE[n]-1)%nt.NUMBER_OF_CODEWORDS}}nt.NUMBER_OF_CODEWORDS=929,nt.MAX_CODEWORDS_IN_BARCODE=nt.NUMBER_OF_CODEWORDS-1,nt.MIN_ROWS_IN_BARCODE=3,nt.MAX_ROWS_IN_BARCODE=90,nt.MODULES_IN_CODEWORD=17,nt.MODULES_IN_STOP_PATTERN=18,nt.BARS_IN_MODULE=8,nt.EMPTY_INT_ARRAY=new Int32Array([]),nt.SYMBOL_TABLE=Int32Array.from([66142,66170,66206,66236,66290,66292,66350,66382,66396,66454,66470,66476,66594,66600,66614,66626,66628,66632,66640,66654,66662,66668,66682,66690,66718,66720,66748,66758,66776,66798,66802,66804,66820,66824,66832,66846,66848,66876,66880,66936,66950,66956,66968,66992,67006,67022,67036,67042,67044,67048,67062,67118,67150,67164,67214,67228,67256,67294,67322,67350,67366,67372,67398,67404,67416,67438,67474,67476,67490,67492,67496,67510,67618,67624,67650,67656,67664,67678,67686,67692,67706,67714,67716,67728,67742,67744,67772,67782,67788,67800,67822,67826,67828,67842,67848,67870,67872,67900,67904,67960,67974,67992,68016,68030,68046,68060,68066,68068,68072,68086,68104,68112,68126,68128,68156,68160,68216,68336,68358,68364,68376,68400,68414,68448,68476,68494,68508,68536,68546,68548,68552,68560,68574,68582,68588,68654,68686,68700,68706,68708,68712,68726,68750,68764,68792,68802,68804,68808,68816,68830,68838,68844,68858,68878,68892,68920,68976,68990,68994,68996,69e3,69008,69022,69024,69052,69062,69068,69080,69102,69106,69108,69142,69158,69164,69190,69208,69230,69254,69260,69272,69296,69310,69326,69340,69386,69394,69396,69410,69416,69430,69442,69444,69448,69456,69470,69478,69484,69554,69556,69666,69672,69698,69704,69712,69726,69754,69762,69764,69776,69790,69792,69820,69830,69836,69848,69870,69874,69876,69890,69918,69920,69948,69952,70008,70022,70040,70064,70078,70094,70108,70114,70116,70120,70134,70152,70174,70176,70264,70384,70412,70448,70462,70496,70524,70542,70556,70584,70594,70600,70608,70622,70630,70636,70664,70672,70686,70688,70716,70720,70776,70896,71136,71180,71192,71216,71230,71264,71292,71360,71416,71452,71480,71536,71550,71554,71556,71560,71568,71582,71584,71612,71622,71628,71640,71662,71726,71732,71758,71772,71778,71780,71784,71798,71822,71836,71864,71874,71880,71888,71902,71910,71916,71930,71950,71964,71992,72048,72062,72066,72068,72080,72094,72096,72124,72134,72140,72152,72174,72178,72180,72206,72220,72248,72304,72318,72416,72444,72456,72464,72478,72480,72508,72512,72568,72588,72600,72624,72638,72654,72668,72674,72676,72680,72694,72726,72742,72748,72774,72780,72792,72814,72838,72856,72880,72894,72910,72924,72930,72932,72936,72950,72966,72972,72984,73008,73022,73056,73084,73102,73116,73144,73156,73160,73168,73182,73190,73196,73210,73226,73234,73236,73250,73252,73256,73270,73282,73284,73296,73310,73318,73324,73346,73348,73352,73360,73374,73376,73404,73414,73420,73432,73454,73498,73518,73522,73524,73550,73564,73570,73572,73576,73590,73800,73822,73858,73860,73872,73886,73888,73916,73944,73970,73972,73992,74014,74016,74044,74048,74104,74118,74136,74160,74174,74210,74212,74216,74230,74244,74256,74270,74272,74360,74480,74502,74508,74544,74558,74592,74620,74638,74652,74680,74690,74696,74704,74726,74732,74782,74784,74812,74992,75232,75288,75326,75360,75388,75456,75512,75576,75632,75646,75650,75652,75664,75678,75680,75708,75718,75724,75736,75758,75808,75836,75840,75896,76016,76256,76736,76824,76848,76862,76896,76924,76992,77048,77296,77340,77368,77424,77438,77536,77564,77572,77576,77584,77600,77628,77632,77688,77702,77708,77720,77744,77758,77774,77788,77870,77902,77916,77922,77928,77966,77980,78008,78018,78024,78032,78046,78060,78074,78094,78136,78192,78206,78210,78212,78224,78238,78240,78268,78278,78284,78296,78322,78324,78350,78364,78448,78462,78560,78588,78600,78622,78624,78652,78656,78712,78726,78744,78768,78782,78798,78812,78818,78820,78824,78838,78862,78876,78904,78960,78974,79072,79100,79296,79352,79368,79376,79390,79392,79420,79424,79480,79600,79628,79640,79664,79678,79712,79740,79772,79800,79810,79812,79816,79824,79838,79846,79852,79894,79910,79916,79942,79948,79960,79982,79988,80006,80024,80048,80062,80078,80092,80098,80100,80104,80134,80140,80176,80190,80224,80252,80270,80284,80312,80328,80336,80350,80358,80364,80378,80390,80396,80408,80432,80446,80480,80508,80576,80632,80654,80668,80696,80752,80766,80776,80784,80798,80800,80828,80844,80856,80878,80882,80884,80914,80916,80930,80932,80936,80950,80962,80968,80976,80990,80998,81004,81026,81028,81040,81054,81056,81084,81094,81100,81112,81134,81154,81156,81160,81168,81182,81184,81212,81216,81272,81286,81292,81304,81328,81342,81358,81372,81380,81384,81398,81434,81454,81458,81460,81486,81500,81506,81508,81512,81526,81550,81564,81592,81602,81604,81608,81616,81630,81638,81644,81702,81708,81722,81734,81740,81752,81774,81778,81780,82050,82078,82080,82108,82180,82184,82192,82206,82208,82236,82240,82296,82316,82328,82352,82366,82402,82404,82408,82440,82448,82462,82464,82492,82496,82552,82672,82694,82700,82712,82736,82750,82784,82812,82830,82882,82884,82888,82896,82918,82924,82952,82960,82974,82976,83004,83008,83064,83184,83424,83468,83480,83504,83518,83552,83580,83648,83704,83740,83768,83824,83838,83842,83844,83848,83856,83872,83900,83910,83916,83928,83950,83984,84e3,84028,84032,84088,84208,84448,84928,85040,85054,85088,85116,85184,85240,85488,85560,85616,85630,85728,85756,85764,85768,85776,85790,85792,85820,85824,85880,85894,85900,85912,85936,85966,85980,86048,86080,86136,86256,86496,86976,88160,88188,88256,88312,88560,89056,89200,89214,89312,89340,89536,89592,89608,89616,89632,89664,89720,89840,89868,89880,89904,89952,89980,89998,90012,90040,90190,90204,90254,90268,90296,90306,90308,90312,90334,90382,90396,90424,90480,90494,90500,90504,90512,90526,90528,90556,90566,90572,90584,90610,90612,90638,90652,90680,90736,90750,90848,90876,90884,90888,90896,90910,90912,90940,90944,91e3,91014,91020,91032,91056,91070,91086,91100,91106,91108,91112,91126,91150,91164,91192,91248,91262,91360,91388,91584,91640,91664,91678,91680,91708,91712,91768,91888,91928,91952,91966,92e3,92028,92046,92060,92088,92098,92100,92104,92112,92126,92134,92140,92188,92216,92272,92384,92412,92608,92664,93168,93200,93214,93216,93244,93248,93304,93424,93664,93720,93744,93758,93792,93820,93888,93944,93980,94008,94064,94078,94084,94088,94096,94110,94112,94140,94150,94156,94168,94246,94252,94278,94284,94296,94318,94342,94348,94360,94384,94398,94414,94428,94440,94470,94476,94488,94512,94526,94560,94588,94606,94620,94648,94658,94660,94664,94672,94686,94694,94700,94714,94726,94732,94744,94768,94782,94816,94844,94912,94968,94990,95004,95032,95088,95102,95112,95120,95134,95136,95164,95180,95192,95214,95218,95220,95244,95256,95280,95294,95328,95356,95424,95480,95728,95758,95772,95800,95856,95870,95968,95996,96008,96016,96030,96032,96060,96064,96120,96152,96176,96190,96220,96226,96228,96232,96290,96292,96296,96310,96322,96324,96328,96336,96350,96358,96364,96386,96388,96392,96400,96414,96416,96444,96454,96460,96472,96494,96498,96500,96514,96516,96520,96528,96542,96544,96572,96576,96632,96646,96652,96664,96688,96702,96718,96732,96738,96740,96744,96758,96772,96776,96784,96798,96800,96828,96832,96888,97008,97030,97036,97048,97072,97086,97120,97148,97166,97180,97208,97220,97224,97232,97246,97254,97260,97326,97330,97332,97358,97372,97378,97380,97384,97398,97422,97436,97464,97474,97476,97480,97488,97502,97510,97516,97550,97564,97592,97648,97666,97668,97672,97680,97694,97696,97724,97734,97740,97752,97774,97830,97836,97850,97862,97868,97880,97902,97906,97908,97926,97932,97944,97968,97998,98012,98018,98020,98024,98038,98618,98674,98676,98838,98854,98874,98892,98904,98926,98930,98932,98968,99006,99042,99044,99048,99062,99166,99194,99246,99286,99350,99366,99372,99386,99398,99416,99438,99442,99444,99462,99504,99518,99534,99548,99554,99556,99560,99574,99590,99596,99608,99632,99646,99680,99708,99726,99740,99768,99778,99780,99784,99792,99806,99814,99820,99834,99858,99860,99874,99880,99894,99906,99920,99934,99962,99970,99972,99976,99984,99998,1e5,100028,100038,100044,100056,100078,100082,100084,100142,100174,100188,100246,100262,100268,100306,100308,100390,100396,100410,100422,100428,100440,100462,100466,100468,100486,100504,100528,100542,100558,100572,100578,100580,100584,100598,100620,100656,100670,100704,100732,100750,100792,100802,100808,100816,100830,100838,100844,100858,100888,100912,100926,100960,100988,101056,101112,101148,101176,101232,101246,101250,101252,101256,101264,101278,101280,101308,101318,101324,101336,101358,101362,101364,101410,101412,101416,101430,101442,101448,101456,101470,101478,101498,101506,101508,101520,101534,101536,101564,101580,101618,101620,101636,101640,101648,101662,101664,101692,101696,101752,101766,101784,101838,101858,101860,101864,101934,101938,101940,101966,101980,101986,101988,101992,102030,102044,102072,102082,102084,102088,102096,102138,102166,102182,102188,102214,102220,102232,102254,102282,102290,102292,102306,102308,102312,102326,102444,102458,102470,102476,102488,102514,102516,102534,102552,102576,102590,102606,102620,102626,102632,102646,102662,102668,102704,102718,102752,102780,102798,102812,102840,102850,102856,102864,102878,102886,102892,102906,102936,102974,103008,103036,103104,103160,103224,103280,103294,103298,103300,103312,103326,103328,103356,103366,103372,103384,103406,103410,103412,103472,103486,103520,103548,103616,103672,103920,103992,104048,104062,104160,104188,104194,104196,104200,104208,104224,104252,104256,104312,104326,104332,104344,104368,104382,104398,104412,104418,104420,104424,104482,104484,104514,104520,104528,104542,104550,104570,104578,104580,104592,104606,104608,104636,104652,104690,104692,104706,104712,104734,104736,104764,104768,104824,104838,104856,104910,104930,104932,104936,104968,104976,104990,104992,105020,105024,105080,105200,105240,105278,105312,105372,105410,105412,105416,105424,105446,105518,105524,105550,105564,105570,105572,105576,105614,105628,105656,105666,105672,105680,105702,105722,105742,105756,105784,105840,105854,105858,105860,105864,105872,105888,105932,105970,105972,106006,106022,106028,106054,106060,106072,106100,106118,106124,106136,106160,106174,106190,106210,106212,106216,106250,106258,106260,106274,106276,106280,106306,106308,106312,106320,106334,106348,106394,106414,106418,106420,106566,106572,106610,106612,106630,106636,106648,106672,106686,106722,106724,106728,106742,106758,106764,106776,106800,106814,106848,106876,106894,106908,106936,106946,106948,106952,106960,106974,106982,106988,107032,107056,107070,107104,107132,107200,107256,107292,107320,107376,107390,107394,107396,107400,107408,107422,107424,107452,107462,107468,107480,107502,107506,107508,107544,107568,107582,107616,107644,107712,107768,108016,108060,108088,108144,108158,108256,108284,108290,108292,108296,108304,108318,108320,108348,108352,108408,108422,108428,108440,108464,108478,108494,108508,108514,108516,108520,108592,108640,108668,108736,108792,109040,109536,109680,109694,109792,109820,110016,110072,110084,110088,110096,110112,110140,110144,110200,110320,110342,110348,110360,110384,110398,110432,110460,110478,110492,110520,110532,110536,110544,110558,110658,110686,110714,110722,110724,110728,110736,110750,110752,110780,110796,110834,110836,110850,110852,110856,110864,110878,110880,110908,110912,110968,110982,111e3,111054,111074,111076,111080,111108,111112,111120,111134,111136,111164,111168,111224,111344,111372,111422,111456,111516,111554,111556,111560,111568,111590,111632,111646,111648,111676,111680,111736,111856,112096,112152,112224,112252,112320,112440,112514,112516,112520,112528,112542,112544,112588,112686,112718,112732,112782,112796,112824,112834,112836,112840,112848,112870,112890,112910,112924,112952,113008,113022,113026,113028,113032,113040,113054,113056,113100,113138,113140,113166,113180,113208,113264,113278,113376,113404,113416,113424,113440,113468,113472,113560,113614,113634,113636,113640,113686,113702,113708,113734,113740,113752,113778,113780,113798,113804,113816,113840,113854,113870,113890,113892,113896,113926,113932,113944,113968,113982,114016,114044,114076,114114,114116,114120,114128,114150,114170,114194,114196,114210,114212,114216,114242,114244,114248,114256,114270,114278,114306,114308,114312,114320,114334,114336,114364,114380,114420,114458,114478,114482,114484,114510,114524,114530,114532,114536,114842,114866,114868,114970,114994,114996,115042,115044,115048,115062,115130,115226,115250,115252,115278,115292,115298,115300,115304,115318,115342,115394,115396,115400,115408,115422,115430,115436,115450,115478,115494,115514,115526,115532,115570,115572,115738,115758,115762,115764,115790,115804,115810,115812,115816,115830,115854,115868,115896,115906,115912,115920,115934,115942,115948,115962,115996,116024,116080,116094,116098,116100,116104,116112,116126,116128,116156,116166,116172,116184,116206,116210,116212,116246,116262,116268,116282,116294,116300,116312,116334,116338,116340,116358,116364,116376,116400,116414,116430,116444,116450,116452,116456,116498,116500,116514,116520,116534,116546,116548,116552,116560,116574,116582,116588,116602,116654,116694,116714,116762,116782,116786,116788,116814,116828,116834,116836,116840,116854,116878,116892,116920,116930,116936,116944,116958,116966,116972,116986,117006,117048,117104,117118,117122,117124,117136,117150,117152,117180,117190,117196,117208,117230,117234,117236,117304,117360,117374,117472,117500,117506,117508,117512,117520,117536,117564,117568,117624,117638,117644,117656,117680,117694,117710,117724,117730,117732,117736,117750,117782,117798,117804,117818,117830,117848,117874,117876,117894,117936,117950,117966,117986,117988,117992,118022,118028,118040,118064,118078,118112,118140,118172,118210,118212,118216,118224,118238,118246,118266,118306,118312,118338,118352,118366,118374,118394,118402,118404,118408,118416,118430,118432,118460,118476,118514,118516,118574,118578,118580,118606,118620,118626,118628,118632,118678,118694,118700,118730,118738,118740,118830,118834,118836,118862,118876,118882,118884,118888,118902,118926,118940,118968,118978,118980,118984,118992,119006,119014,119020,119034,119068,119096,119152,119166,119170,119172,119176,119184,119198,119200,119228,119238,119244,119256,119278,119282,119284,119324,119352,119408,119422,119520,119548,119554,119556,119560,119568,119582,119584,119612,119616,119672,119686,119692,119704,119728,119742,119758,119772,119778,119780,119784,119798,119920,119934,120032,120060,120256,120312,120324,120328,120336,120352,120384,120440,120560,120582,120588,120600,120624,120638,120672,120700,120718,120732,120760,120770,120772,120776,120784,120798,120806,120812,120870,120876,120890,120902,120908,120920,120946,120948,120966,120972,120984,121008,121022,121038,121058,121060,121064,121078,121100,121112,121136,121150,121184,121212,121244,121282,121284,121288,121296,121318,121338,121356,121368,121392,121406,121440,121468,121536,121592,121656,121730,121732,121736,121744,121758,121760,121804,121842,121844,121890,121922,121924,121928,121936,121950,121958,121978,121986,121988,121992,122e3,122014,122016,122044,122060,122098,122100,122116,122120,122128,122142,122144,122172,122176,122232,122246,122264,122318,122338,122340,122344,122414,122418,122420,122446,122460,122466,122468,122472,122510,122524,122552,122562,122564,122568,122576,122598,122618,122646,122662,122668,122694,122700,122712,122738,122740,122762,122770,122772,122786,122788,122792,123018,123026,123028,123042,123044,123048,123062,123098,123146,123154,123156,123170,123172,123176,123190,123202,123204,123208,123216,123238,123244,123258,123290,123314,123316,123402,123410,123412,123426,123428,123432,123446,123458,123464,123472,123486,123494,123500,123514,123522,123524,123528,123536,123552,123580,123590,123596,123608,123630,123634,123636,123674,123698,123700,123740,123746,123748,123752,123834,123914,123922,123924,123938,123944,123958,123970,123976,123984,123998,124006,124012,124026,124034,124036,124048,124062,124064,124092,124102,124108,124120,124142,124146,124148,124162,124164,124168,124176,124190,124192,124220,124224,124280,124294,124300,124312,124336,124350,124366,124380,124386,124388,124392,124406,124442,124462,124466,124468,124494,124508,124514,124520,124558,124572,124600,124610,124612,124616,124624,124646,124666,124694,124710,124716,124730,124742,124748,124760,124786,124788,124818,124820,124834,124836,124840,124854,124946,124948,124962,124964,124968,124982,124994,124996,125e3,125008,125022,125030,125036,125050,125058,125060,125064,125072,125086,125088,125116,125126,125132,125144,125166,125170,125172,125186,125188,125192,125200,125216,125244,125248,125304,125318,125324,125336,125360,125374,125390,125404,125410,125412,125416,125430,125444,125448,125456,125472,125504,125560,125680,125702,125708,125720,125744,125758,125792,125820,125838,125852,125880,125890,125892,125896,125904,125918,125926,125932,125978,125998,126002,126004,126030,126044,126050,126052,126056,126094,126108,126136,126146,126148,126152,126160,126182,126202,126222,126236,126264,126320,126334,126338,126340,126344,126352,126366,126368,126412,126450,126452,126486,126502,126508,126522,126534,126540,126552,126574,126578,126580,126598,126604,126616,126640,126654,126670,126684,126690,126692,126696,126738,126754,126756,126760,126774,126786,126788,126792,126800,126814,126822,126828,126842,126894,126898,126900,126934,127126,127142,127148,127162,127178,127186,127188,127254,127270,127276,127290,127302,127308,127320,127342,127346,127348,127370,127378,127380,127394,127396,127400,127450,127510,127526,127532,127546,127558,127576,127598,127602,127604,127622,127628,127640,127664,127678,127694,127708,127714,127716,127720,127734,127754,127762,127764,127778,127784,127810,127812,127816,127824,127838,127846,127866,127898,127918,127922,127924,128022,128038,128044,128058,128070,128076,128088,128110,128114,128116,128134,128140,128152,128176,128190,128206,128220,128226,128228,128232,128246,128262,128268,128280,128304,128318,128352,128380,128398,128412,128440,128450,128452,128456,128464,128478,128486,128492,128506,128522,128530,128532,128546,128548,128552,128566,128578,128580,128584,128592,128606,128614,128634,128642,128644,128648,128656,128670,128672,128700,128716,128754,128756,128794,128814,128818,128820,128846,128860,128866,128868,128872,128886,128918,128934,128940,128954,128978,128980,129178,129198,129202,129204,129238,129258,129306,129326,129330,129332,129358,129372,129378,129380,129384,129398,129430,129446,129452,129466,129482,129490,129492,129562,129582,129586,129588,129614,129628,129634,129636,129640,129654,129678,129692,129720,129730,129732,129736,129744,129758,129766,129772,129814,129830,129836,129850,129862,129868,129880,129902,129906,129908,129930,129938,129940,129954,129956,129960,129974,130010]),nt.CODEWORD_TABLE=Int32Array.from([2627,1819,2622,2621,1813,1812,2729,2724,2723,2779,2774,2773,902,896,908,868,865,861,859,2511,873,871,1780,835,2493,825,2491,842,837,844,1764,1762,811,810,809,2483,807,2482,806,2480,815,814,813,812,2484,817,816,1745,1744,1742,1746,2655,2637,2635,2626,2625,2623,2628,1820,2752,2739,2737,2728,2727,2725,2730,2785,2783,2778,2777,2775,2780,787,781,747,739,736,2413,754,752,1719,692,689,681,2371,678,2369,700,697,694,703,1688,1686,642,638,2343,631,2341,627,2338,651,646,643,2345,654,652,1652,1650,1647,1654,601,599,2322,596,2321,594,2319,2317,611,610,608,606,2324,603,2323,615,614,612,1617,1616,1614,1612,616,1619,1618,2575,2538,2536,905,901,898,909,2509,2507,2504,870,867,864,860,2512,875,872,1781,2490,2489,2487,2485,1748,836,834,832,830,2494,827,2492,843,841,839,845,1765,1763,2701,2676,2674,2653,2648,2656,2634,2633,2631,2629,1821,2638,2636,2770,2763,2761,2750,2745,2753,2736,2735,2733,2731,1848,2740,2738,2786,2784,591,588,576,569,566,2296,1590,537,534,526,2276,522,2274,545,542,539,548,1572,1570,481,2245,466,2242,462,2239,492,485,482,2249,496,494,1534,1531,1528,1538,413,2196,406,2191,2188,425,419,2202,415,2199,432,430,427,1472,1467,1464,433,1476,1474,368,367,2160,365,2159,362,2157,2155,2152,378,377,375,2166,372,2165,369,2162,383,381,379,2168,1419,1418,1416,1414,385,1411,384,1423,1422,1420,1424,2461,802,2441,2439,790,786,783,794,2409,2406,2403,750,742,738,2414,756,753,1720,2367,2365,2362,2359,1663,693,691,684,2373,680,2370,702,699,696,704,1690,1687,2337,2336,2334,2332,1624,2329,1622,640,637,2344,634,2342,630,2340,650,648,645,2346,655,653,1653,1651,1649,1655,2612,2597,2595,2571,2568,2565,2576,2534,2529,2526,1787,2540,2537,907,904,900,910,2503,2502,2500,2498,1768,2495,1767,2510,2508,2506,869,866,863,2513,876,874,1782,2720,2713,2711,2697,2694,2691,2702,2672,2670,2664,1828,2678,2675,2647,2646,2644,2642,1823,2639,1822,2654,2652,2650,2657,2771,1855,2765,2762,1850,1849,2751,2749,2747,2754,353,2148,344,342,336,2142,332,2140,345,1375,1373,306,2130,299,2128,295,2125,319,314,311,2132,1354,1352,1349,1356,262,257,2101,253,2096,2093,274,273,267,2107,263,2104,280,278,275,1316,1311,1308,1320,1318,2052,202,2050,2044,2040,219,2063,212,2060,208,2055,224,221,2066,1260,1258,1252,231,1248,229,1266,1264,1261,1268,155,1998,153,1996,1994,1991,1988,165,164,2007,162,2006,159,2003,2e3,172,171,169,2012,166,2010,1186,1184,1182,1179,175,1176,173,1192,1191,1189,1187,176,1194,1193,2313,2307,2305,592,589,2294,2292,2289,578,572,568,2297,580,1591,2272,2267,2264,1547,538,536,529,2278,525,2275,547,544,541,1574,1571,2237,2235,2229,1493,2225,1489,478,2247,470,2244,465,2241,493,488,484,2250,498,495,1536,1533,1530,1539,2187,2186,2184,2182,1432,2179,1430,2176,1427,414,412,2197,409,2195,405,2193,2190,426,424,421,2203,418,2201,431,429,1473,1471,1469,1466,434,1477,1475,2478,2472,2470,2459,2457,2454,2462,803,2437,2432,2429,1726,2443,2440,792,789,785,2401,2399,2393,1702,2389,1699,2411,2408,2405,745,741,2415,758,755,1721,2358,2357,2355,2353,1661,2350,1660,2347,1657,2368,2366,2364,2361,1666,690,687,2374,683,2372,701,698,705,1691,1689,2619,2617,2610,2608,2605,2613,2593,2588,2585,1803,2599,2596,2563,2561,2555,1797,2551,1795,2573,2570,2567,2577,2525,2524,2522,2520,1786,2517,1785,2514,1783,2535,2533,2531,2528,1788,2541,2539,906,903,911,2721,1844,2715,2712,1838,1836,2699,2696,2693,2703,1827,1826,1824,2673,2671,2669,2666,1829,2679,2677,1858,1857,2772,1854,1853,1851,1856,2766,2764,143,1987,139,1986,135,133,131,1984,128,1983,125,1981,138,137,136,1985,1133,1132,1130,112,110,1974,107,1973,104,1971,1969,122,121,119,117,1977,114,1976,124,1115,1114,1112,1110,1117,1116,84,83,1953,81,1952,78,1950,1948,1945,94,93,91,1959,88,1958,85,1955,99,97,95,1961,1086,1085,1083,1081,1078,100,1090,1089,1087,1091,49,47,1917,44,1915,1913,1910,1907,59,1926,56,1925,53,1922,1919,66,64,1931,61,1929,1042,1040,1038,71,1035,70,1032,68,1048,1047,1045,1043,1050,1049,12,10,1869,1867,1864,1861,21,1880,19,1877,1874,1871,28,1888,25,1886,22,1883,982,980,977,974,32,30,991,989,987,984,34,995,994,992,2151,2150,2147,2146,2144,356,355,354,2149,2139,2138,2136,2134,1359,343,341,338,2143,335,2141,348,347,346,1376,1374,2124,2123,2121,2119,1326,2116,1324,310,308,305,2131,302,2129,298,2127,320,318,316,313,2133,322,321,1355,1353,1351,1357,2092,2091,2089,2087,1276,2084,1274,2081,1271,259,2102,256,2100,252,2098,2095,272,269,2108,266,2106,281,279,277,1317,1315,1313,1310,282,1321,1319,2039,2037,2035,2032,1203,2029,1200,1197,207,2053,205,2051,201,2049,2046,2043,220,218,2064,215,2062,211,2059,228,226,223,2069,1259,1257,1254,232,1251,230,1267,1265,1263,2316,2315,2312,2311,2309,2314,2304,2303,2301,2299,1593,2308,2306,590,2288,2287,2285,2283,1578,2280,1577,2295,2293,2291,579,577,574,571,2298,582,581,1592,2263,2262,2260,2258,1545,2255,1544,2252,1541,2273,2271,2269,2266,1550,535,532,2279,528,2277,546,543,549,1575,1573,2224,2222,2220,1486,2217,1485,2214,1482,1479,2238,2236,2234,2231,1496,2228,1492,480,477,2248,473,2246,469,2243,490,487,2251,497,1537,1535,1532,2477,2476,2474,2479,2469,2468,2466,2464,1730,2473,2471,2453,2452,2450,2448,1729,2445,1728,2460,2458,2456,2463,805,804,2428,2427,2425,2423,1725,2420,1724,2417,1722,2438,2436,2434,2431,1727,2444,2442,793,791,788,795,2388,2386,2384,1697,2381,1696,2378,1694,1692,2402,2400,2398,2395,1703,2392,1701,2412,2410,2407,751,748,744,2416,759,757,1807,2620,2618,1806,1805,2611,2609,2607,2614,1802,1801,1799,2594,2592,2590,2587,1804,2600,2598,1794,1793,1791,1789,2564,2562,2560,2557,1798,2554,1796,2574,2572,2569,2578,1847,1846,2722,1843,1842,1840,1845,2716,2714,1835,1834,1832,1830,1839,1837,2700,2698,2695,2704,1817,1811,1810,897,862,1777,829,826,838,1760,1758,808,2481,1741,1740,1738,1743,2624,1818,2726,2776,782,740,737,1715,686,679,695,1682,1680,639,628,2339,647,644,1645,1643,1640,1648,602,600,597,595,2320,593,2318,609,607,604,1611,1610,1608,1606,613,1615,1613,2328,926,924,892,886,899,857,850,2505,1778,824,823,821,819,2488,818,2486,833,831,828,840,1761,1759,2649,2632,2630,2746,2734,2732,2782,2781,570,567,1587,531,527,523,540,1566,1564,476,467,463,2240,486,483,1524,1521,1518,1529,411,403,2192,399,2189,423,416,1462,1457,1454,428,1468,1465,2210,366,363,2158,360,2156,357,2153,376,373,370,2163,1410,1409,1407,1405,382,1402,380,1417,1415,1412,1421,2175,2174,777,774,771,784,732,725,722,2404,743,1716,676,674,668,2363,665,2360,685,1684,1681,626,624,622,2335,620,2333,617,2330,641,635,649,1646,1644,1642,2566,928,925,2530,2527,894,891,888,2501,2499,2496,858,856,854,851,1779,2692,2668,2665,2645,2643,2640,2651,2768,2759,2757,2744,2743,2741,2748,352,1382,340,337,333,1371,1369,307,300,296,2126,315,312,1347,1342,1350,261,258,250,2097,246,2094,271,268,264,1306,1301,1298,276,1312,1309,2115,203,2048,195,2045,191,2041,213,209,2056,1246,1244,1238,225,1234,222,1256,1253,1249,1262,2080,2079,154,1997,150,1995,147,1992,1989,163,160,2004,156,2001,1175,1174,1172,1170,1167,170,1164,167,1185,1183,1180,1177,174,1190,1188,2025,2024,2022,587,586,564,559,556,2290,573,1588,520,518,512,2268,508,2265,530,1568,1565,461,457,2233,450,2230,446,2226,479,471,489,1526,1523,1520,397,395,2185,392,2183,389,2180,2177,410,2194,402,422,1463,1461,1459,1456,1470,2455,799,2433,2430,779,776,773,2397,2394,2390,734,728,724,746,1717,2356,2354,2351,2348,1658,677,675,673,670,667,688,1685,1683,2606,2589,2586,2559,2556,2552,927,2523,2521,2518,2515,1784,2532,895,893,890,2718,2709,2707,2689,2687,2684,2663,2662,2660,2658,1825,2667,2769,1852,2760,2758,142,141,1139,1138,134,132,129,126,1982,1129,1128,1126,1131,113,111,108,105,1972,101,1970,120,118,115,1109,1108,1106,1104,123,1113,1111,82,79,1951,75,1949,72,1946,92,89,86,1956,1077,1076,1074,1072,98,1069,96,1084,1082,1079,1088,1968,1967,48,45,1916,42,1914,39,1911,1908,60,57,54,1923,50,1920,1031,1030,1028,1026,67,1023,65,1020,62,1041,1039,1036,1033,69,1046,1044,1944,1943,1941,11,9,1868,7,1865,1862,1859,20,1878,16,1875,13,1872,970,968,966,963,29,960,26,23,983,981,978,975,33,971,31,990,988,985,1906,1904,1902,993,351,2145,1383,331,330,328,326,2137,323,2135,339,1372,1370,294,293,291,289,2122,286,2120,283,2117,309,303,317,1348,1346,1344,245,244,242,2090,239,2088,236,2085,2082,260,2099,249,270,1307,1305,1303,1300,1314,189,2038,186,2036,183,2033,2030,2026,206,198,2047,194,216,1247,1245,1243,1240,227,1237,1255,2310,2302,2300,2286,2284,2281,565,563,561,558,575,1589,2261,2259,2256,2253,1542,521,519,517,514,2270,511,533,1569,1567,2223,2221,2218,2215,1483,2211,1480,459,456,453,2232,449,474,491,1527,1525,1522,2475,2467,2465,2451,2449,2446,801,800,2426,2424,2421,2418,1723,2435,780,778,775,2387,2385,2382,2379,1695,2375,1693,2396,735,733,730,727,749,1718,2616,2615,2604,2603,2601,2584,2583,2581,2579,1800,2591,2550,2549,2547,2545,1792,2542,1790,2558,929,2719,1841,2710,2708,1833,1831,2690,2688,2686,1815,1809,1808,1774,1756,1754,1737,1736,1734,1739,1816,1711,1676,1674,633,629,1638,1636,1633,1641,598,1605,1604,1602,1600,605,1609,1607,2327,887,853,1775,822,820,1757,1755,1584,524,1560,1558,468,464,1514,1511,1508,1519,408,404,400,1452,1447,1444,417,1458,1455,2208,364,361,358,2154,1401,1400,1398,1396,374,1393,371,1408,1406,1403,1413,2173,2172,772,726,723,1712,672,669,666,682,1678,1675,625,623,621,618,2331,636,632,1639,1637,1635,920,918,884,880,889,849,848,847,846,2497,855,852,1776,2641,2742,2787,1380,334,1367,1365,301,297,1340,1338,1335,1343,255,251,247,1296,1291,1288,265,1302,1299,2113,204,196,192,2042,1232,1230,1224,214,1220,210,1242,1239,1235,1250,2077,2075,151,148,1993,144,1990,1163,1162,1160,1158,1155,161,1152,157,1173,1171,1168,1165,168,1181,1178,2021,2020,2018,2023,585,560,557,1585,516,509,1562,1559,458,447,2227,472,1516,1513,1510,398,396,393,390,2181,386,2178,407,1453,1451,1449,1446,420,1460,2209,769,764,720,712,2391,729,1713,664,663,661,659,2352,656,2349,671,1679,1677,2553,922,919,2519,2516,885,883,881,2685,2661,2659,2767,2756,2755,140,1137,1136,130,127,1125,1124,1122,1127,109,106,102,1103,1102,1100,1098,116,1107,1105,1980,80,76,73,1947,1068,1067,1065,1063,90,1060,87,1075,1073,1070,1080,1966,1965,46,43,40,1912,36,1909,1019,1018,1016,1014,58,1011,55,1008,51,1029,1027,1024,1021,63,1037,1034,1940,1939,1937,1942,8,1866,4,1863,1,1860,956,954,952,949,946,17,14,969,967,964,961,27,957,24,979,976,972,1901,1900,1898,1896,986,1905,1903,350,349,1381,329,327,324,1368,1366,292,290,287,284,2118,304,1341,1339,1337,1345,243,240,237,2086,233,2083,254,1297,1295,1293,1290,1304,2114,190,187,184,2034,180,2031,177,2027,199,1233,1231,1229,1226,217,1223,1241,2078,2076,584,555,554,552,550,2282,562,1586,507,506,504,502,2257,499,2254,515,1563,1561,445,443,441,2219,438,2216,435,2212,460,454,475,1517,1515,1512,2447,798,797,2422,2419,770,768,766,2383,2380,2376,721,719,717,714,731,1714,2602,2582,2580,2548,2546,2543,923,921,2717,2706,2705,2683,2682,2680,1771,1752,1750,1733,1732,1731,1735,1814,1707,1670,1668,1631,1629,1626,1634,1599,1598,1596,1594,1603,1601,2326,1772,1753,1751,1581,1554,1552,1504,1501,1498,1509,1442,1437,1434,401,1448,1445,2206,1392,1391,1389,1387,1384,359,1399,1397,1394,1404,2171,2170,1708,1672,1669,619,1632,1630,1628,1773,1378,1363,1361,1333,1328,1336,1286,1281,1278,248,1292,1289,2111,1218,1216,1210,197,1206,193,1228,1225,1221,1236,2073,2071,1151,1150,1148,1146,152,1143,149,1140,145,1161,1159,1156,1153,158,1169,1166,2017,2016,2014,2019,1582,510,1556,1553,452,448,1506,1500,394,391,387,1443,1441,1439,1436,1450,2207,765,716,713,1709,662,660,657,1673,1671,916,914,879,878,877,882,1135,1134,1121,1120,1118,1123,1097,1096,1094,1092,103,1101,1099,1979,1059,1058,1056,1054,77,1051,74,1066,1064,1061,1071,1964,1963,1007,1006,1004,1002,999,41,996,37,1017,1015,1012,1009,52,1025,1022,1936,1935,1933,1938,942,940,938,935,932,5,2,955,953,950,947,18,943,15,965,962,958,1895,1894,1892,1890,973,1899,1897,1379,325,1364,1362,288,285,1334,1332,1330,241,238,234,1287,1285,1283,1280,1294,2112,188,185,181,178,2028,1219,1217,1215,1212,200,1209,1227,2074,2072,583,553,551,1583,505,503,500,513,1557,1555,444,442,439,436,2213,455,451,1507,1505,1502,796,763,762,760,767,711,710,708,706,2377,718,715,1710,2544,917,915,2681,1627,1597,1595,2325,1769,1749,1747,1499,1438,1435,2204,1390,1388,1385,1395,2169,2167,1704,1665,1662,1625,1623,1620,1770,1329,1282,1279,2109,1214,1207,1222,2068,2065,1149,1147,1144,1141,146,1157,1154,2013,2011,2008,2015,1579,1549,1546,1495,1487,1433,1431,1428,1425,388,1440,2205,1705,658,1667,1664,1119,1095,1093,1978,1057,1055,1052,1062,1962,1960,1005,1003,1e3,997,38,1013,1010,1932,1930,1927,1934,941,939,936,933,6,930,3,951,948,944,1889,1887,1884,1881,959,1893,1891,35,1377,1360,1358,1327,1325,1322,1331,1277,1275,1272,1269,235,1284,2110,1205,1204,1201,1198,182,1195,179,1213,2070,2067,1580,501,1551,1548,440,437,1497,1494,1490,1503,761,709,707,1706,913,912,2198,1386,2164,2161,1621,1766,2103,1208,2058,2054,1145,1142,2005,2002,1999,2009,1488,1429,1426,2200,1698,1659,1656,1975,1053,1957,1954,1001,998,1924,1921,1918,1928,937,934,931,1879,1876,1873,1870,945,1885,1882,1323,1273,1270,2105,1202,1199,1196,1211,2061,2057,1576,1543,1540,1484,1481,1478,1491,1700]);class Yl{constructor(e,n){this.bits=e,this.points=n}getBits(){return this.bits}getPoints(){return this.points}}class ct{static detectMultiple(e,n,i){let c=e.getBlackMatrix(),u=ct.detect(i,c);return u.length||(c=c.clone(),c.rotate180(),u=ct.detect(i,c)),new Yl(c,u)}static detect(e,n){const i=new Array;let c=0,u=0,f=!1;for(;c<n.getHeight();){const m=ct.findVertices(n,c,u);if(m[0]==null&&m[3]==null){if(!f)break;f=!1,u=0;for(const y of i)y[1]!=null&&(c=Math.trunc(Math.max(c,y[1].getY()))),y[3]!=null&&(c=Math.max(c,Math.trunc(y[3].getY())));c+=ct.ROW_STEP;continue}if(f=!0,i.push(m),!e)break;m[2]!=null?(u=Math.trunc(m[2].getX()),c=Math.trunc(m[2].getY())):(u=Math.trunc(m[4].getX()),c=Math.trunc(m[4].getY()))}return i}static findVertices(e,n,i){const c=e.getHeight(),u=e.getWidth(),f=new Array(8);return ct.copyToResult(f,ct.findRowsWithPattern(e,c,u,n,i,ct.START_PATTERN),ct.INDEXES_START_PATTERN),f[4]!=null&&(i=Math.trunc(f[4].getX()),n=Math.trunc(f[4].getY())),ct.copyToResult(f,ct.findRowsWithPattern(e,c,u,n,i,ct.STOP_PATTERN),ct.INDEXES_STOP_PATTERN),f}static copyToResult(e,n,i){for(let c=0;c<i.length;c++)e[i[c]]=n[c]}static findRowsWithPattern(e,n,i,c,u,f){const m=new Array(4);let y=!1;const N=new Int32Array(f.length);for(;c<n;c+=ct.ROW_STEP){let D=ct.findGuardPattern(e,u,c,i,!1,f,N);if(D!=null){for(;c>0;){const k=ct.findGuardPattern(e,u,--c,i,!1,f,N);if(k!=null)D=k;else{c++;break}}m[0]=new Fe(D[0],c),m[1]=new Fe(D[1],c),y=!0;break}}let j=c+1;if(y){let D=0,k=Int32Array.from([Math.trunc(m[0].getX()),Math.trunc(m[1].getX())]);for(;j<n;j++){const U=ct.findGuardPattern(e,k[0],j,i,!1,f,N);if(U!=null&&Math.abs(k[0]-U[0])<ct.MAX_PATTERN_DRIFT&&Math.abs(k[1]-U[1])<ct.MAX_PATTERN_DRIFT)k=U,D=0;else{if(D>ct.SKIPPED_ROW_COUNT_MAX)break;D++}}j-=D+1,m[2]=new Fe(k[0],j),m[3]=new Fe(k[1],j)}return j-c<ct.BARCODE_MIN_HEIGHT&&H.fill(m,null),m}static findGuardPattern(e,n,i,c,u,f,m){H.fillWithin(m,0,m.length,0);let y=n,N=0;for(;e.get(y,i)&&y>0&&N++<ct.MAX_PIXEL_DRIFT;)y--;let j=y,D=0,k=f.length;for(let U=u;j<c;j++)if(e.get(j,i)!==U)m[D]++;else{if(D===k-1){if(ct.patternMatchVariance(m,f,ct.MAX_INDIVIDUAL_VARIANCE)<ct.MAX_AVG_VARIANCE)return new Int32Array([y,j]);y+=m[0]+m[1],R.arraycopy(m,2,m,0,D-1),m[D-1]=0,m[D]=0,D--}else D++;m[D]=1,U=!U}return D===k-1&&ct.patternMatchVariance(m,f,ct.MAX_INDIVIDUAL_VARIANCE)<ct.MAX_AVG_VARIANCE?new Int32Array([y,j-1]):null}static patternMatchVariance(e,n,i){let c=e.length,u=0,f=0;for(let N=0;N<c;N++)u+=e[N],f+=n[N];if(u<f)return 1/0;let m=u/f;i*=m;let y=0;for(let N=0;N<c;N++){let j=e[N],D=n[N]*m,k=j>D?j-D:D-j;if(k>i)return 1/0;y+=k}return y/u}}ct.INDEXES_START_PATTERN=Int32Array.from([0,4,1,5]),ct.INDEXES_STOP_PATTERN=Int32Array.from([6,2,7,3]),ct.MAX_AVG_VARIANCE=.42,ct.MAX_INDIVIDUAL_VARIANCE=.8,ct.START_PATTERN=Int32Array.from([8,1,1,1,1,1,1,3]),ct.STOP_PATTERN=Int32Array.from([7,1,1,3,1,1,1,2,1]),ct.MAX_PIXEL_DRIFT=3,ct.MAX_PATTERN_DRIFT=5,ct.SKIPPED_ROW_COUNT_MAX=25,ct.ROW_STEP=5,ct.BARCODE_MIN_HEIGHT=10;class jn{constructor(e,n){if(n.length===0)throw new A;this.field=e;let i=n.length;if(i>1&&n[0]===0){let c=1;for(;c<i&&n[c]===0;)c++;c===i?this.coefficients=new Int32Array([0]):(this.coefficients=new Int32Array(i-c),R.arraycopy(n,c,this.coefficients,0,this.coefficients.length))}else this.coefficients=n}getCoefficients(){return this.coefficients}getDegree(){return this.coefficients.length-1}isZero(){return this.coefficients[0]===0}getCoefficient(e){return this.coefficients[this.coefficients.length-1-e]}evaluateAt(e){if(e===0)return this.getCoefficient(0);if(e===1){let c=0;for(let u of this.coefficients)c=this.field.add(c,u);return c}let n=this.coefficients[0],i=this.coefficients.length;for(let c=1;c<i;c++)n=this.field.add(this.field.multiply(e,n),this.coefficients[c]);return n}add(e){if(!this.field.equals(e.field))throw new A("ModulusPolys do not have same ModulusGF field");if(this.isZero())return e;if(e.isZero())return this;let n=this.coefficients,i=e.coefficients;if(n.length>i.length){let f=n;n=i,i=f}let c=new Int32Array(i.length),u=i.length-n.length;R.arraycopy(i,0,c,0,u);for(let f=u;f<i.length;f++)c[f]=this.field.add(n[f-u],i[f]);return new jn(this.field,c)}subtract(e){if(!this.field.equals(e.field))throw new A("ModulusPolys do not have same ModulusGF field");return e.isZero()?this:this.add(e.negative())}multiply(e){return e instanceof jn?this.multiplyOther(e):this.multiplyScalar(e)}multiplyOther(e){if(!this.field.equals(e.field))throw new A("ModulusPolys do not have same ModulusGF field");if(this.isZero()||e.isZero())return new jn(this.field,new Int32Array([0]));let n=this.coefficients,i=n.length,c=e.coefficients,u=c.length,f=new Int32Array(i+u-1);for(let m=0;m<i;m++){let y=n[m];for(let N=0;N<u;N++)f[m+N]=this.field.add(f[m+N],this.field.multiply(y,c[N]))}return new jn(this.field,f)}negative(){let e=this.coefficients.length,n=new Int32Array(e);for(let i=0;i<e;i++)n[i]=this.field.subtract(0,this.coefficients[i]);return new jn(this.field,n)}multiplyScalar(e){if(e===0)return new jn(this.field,new Int32Array([0]));if(e===1)return this;let n=this.coefficients.length,i=new Int32Array(n);for(let c=0;c<n;c++)i[c]=this.field.multiply(this.coefficients[c],e);return new jn(this.field,i)}multiplyByMonomial(e,n){if(e<0)throw new A;if(n===0)return new jn(this.field,new Int32Array([0]));let i=this.coefficients.length,c=new Int32Array(i+e);for(let u=0;u<i;u++)c[u]=this.field.multiply(this.coefficients[u],n);return new jn(this.field,c)}toString(){let e=new Ie;for(let n=this.getDegree();n>=0;n--){let i=this.getCoefficient(n);i!==0&&(i<0?(e.append(" - "),i=-i):e.length()>0&&e.append(" + "),(n===0||i!==1)&&e.append(i),n!==0&&(n===1?e.append("x"):(e.append("x^"),e.append(n))))}return e.toString()}}class ql{add(e,n){return(e+n)%this.modulus}subtract(e,n){return(this.modulus+e-n)%this.modulus}exp(e){return this.expTable[e]}log(e){if(e===0)throw new A;return this.logTable[e]}inverse(e){if(e===0)throw new Bt;return this.expTable[this.modulus-this.logTable[e]-1]}multiply(e,n){return e===0||n===0?0:this.expTable[(this.logTable[e]+this.logTable[n])%(this.modulus-1)]}getSize(){return this.modulus}equals(e){return e===this}}class hi extends ql{constructor(e,n){super(),this.modulus=e,this.expTable=new Int32Array(e),this.logTable=new Int32Array(e);let i=1;for(let c=0;c<e;c++)this.expTable[c]=i,i=i*n%e;for(let c=0;c<e-1;c++)this.logTable[this.expTable[c]]=c;this.zero=new jn(this,new Int32Array([0])),this.one=new jn(this,new Int32Array([1]))}getZero(){return this.zero}getOne(){return this.one}buildMonomial(e,n){if(e<0)throw new A;if(n===0)return this.zero;let i=new Int32Array(e+1);return i[0]=n,new jn(this,i)}}hi.PDF417_GF=new hi(nt.NUMBER_OF_CODEWORDS,3);class Fa{constructor(){this.field=hi.PDF417_GF}decode(e,n,i){let c=new jn(this.field,e),u=new Int32Array(n),f=!1;for(let X=n;X>0;X--){let q=c.evaluateAt(this.field.exp(X));u[n-X]=q,q!==0&&(f=!0)}if(!f)return 0;let m=this.field.getOne();if(i!=null)for(const X of i){let q=this.field.exp(e.length-1-X),J=new jn(this.field,new Int32Array([this.field.subtract(0,q),1]));m=m.multiply(J)}let y=new jn(this.field,u),N=this.runEuclideanAlgorithm(this.field.buildMonomial(n,1),y,n),j=N[0],D=N[1],k=this.findErrorLocations(j),U=this.findErrorMagnitudes(D,j,k);for(let X=0;X<k.length;X++){let q=e.length-1-this.field.log(k[X]);if(q<0)throw P.getChecksumInstance();e[q]=this.field.subtract(e[q],U[X])}return k.length}runEuclideanAlgorithm(e,n,i){if(e.getDegree()<n.getDegree()){let k=e;e=n,n=k}let c=e,u=n,f=this.field.getZero(),m=this.field.getOne();for(;u.getDegree()>=Math.round(i/2);){let k=c,U=f;if(c=u,f=m,c.isZero())throw P.getChecksumInstance();u=k;let X=this.field.getZero(),q=c.getCoefficient(c.getDegree()),J=this.field.inverse(q);for(;u.getDegree()>=c.getDegree()&&!u.isZero();){let ie=u.getDegree()-c.getDegree(),be=this.field.multiply(u.getCoefficient(u.getDegree()),J);X=X.add(this.field.buildMonomial(ie,be)),u=u.subtract(c.multiplyByMonomial(ie,be))}m=X.multiply(f).subtract(U).negative()}let y=m.getCoefficient(0);if(y===0)throw P.getChecksumInstance();let N=this.field.inverse(y),j=m.multiply(N),D=u.multiply(N);return[j,D]}findErrorLocations(e){let n=e.getDegree(),i=new Int32Array(n),c=0;for(let u=1;u<this.field.getSize()&&c<n;u++)e.evaluateAt(u)===0&&(i[c]=this.field.inverse(u),c++);if(c!==n)throw P.getChecksumInstance();return i}findErrorMagnitudes(e,n,i){let c=n.getDegree(),u=new Int32Array(c);for(let N=1;N<=c;N++)u[c-N]=this.field.multiply(N,n.getCoefficient(N));let f=new jn(this.field,u),m=i.length,y=new Int32Array(m);for(let N=0;N<m;N++){let j=this.field.inverse(i[N]),D=this.field.subtract(0,e.evaluateAt(j)),k=this.field.inverse(f.evaluateAt(j));y[N]=this.field.multiply(D,k)}return y}}class Vs{constructor(e,n,i,c,u){e instanceof Vs?this.constructor_2(e):this.constructor_1(e,n,i,c,u)}constructor_1(e,n,i,c,u){const f=n==null||i==null,m=c==null||u==null;if(f&&m)throw new W;f?(n=new Fe(0,c.getY()),i=new Fe(0,u.getY())):m&&(c=new Fe(e.getWidth()-1,n.getY()),u=new Fe(e.getWidth()-1,i.getY())),this.image=e,this.topLeft=n,this.bottomLeft=i,this.topRight=c,this.bottomRight=u,this.minX=Math.trunc(Math.min(n.getX(),i.getX())),this.maxX=Math.trunc(Math.max(c.getX(),u.getX())),this.minY=Math.trunc(Math.min(n.getY(),c.getY())),this.maxY=Math.trunc(Math.max(i.getY(),u.getY()))}constructor_2(e){this.image=e.image,this.topLeft=e.getTopLeft(),this.bottomLeft=e.getBottomLeft(),this.topRight=e.getTopRight(),this.bottomRight=e.getBottomRight(),this.minX=e.getMinX(),this.maxX=e.getMaxX(),this.minY=e.getMinY(),this.maxY=e.getMaxY()}static merge(e,n){return e==null?n:n==null?e:new Vs(e.image,e.topLeft,e.bottomLeft,n.topRight,n.bottomRight)}addMissingRows(e,n,i){let c=this.topLeft,u=this.bottomLeft,f=this.topRight,m=this.bottomRight;if(e>0){let y=i?this.topLeft:this.topRight,N=Math.trunc(y.getY()-e);N<0&&(N=0);let j=new Fe(y.getX(),N);i?c=j:f=j}if(n>0){let y=i?this.bottomLeft:this.bottomRight,N=Math.trunc(y.getY()+n);N>=this.image.getHeight()&&(N=this.image.getHeight()-1);let j=new Fe(y.getX(),N);i?u=j:m=j}return new Vs(this.image,c,u,f,m)}getMinX(){return this.minX}getMaxX(){return this.maxX}getMinY(){return this.minY}getMaxY(){return this.maxY}getTopLeft(){return this.topLeft}getTopRight(){return this.topRight}getBottomLeft(){return this.bottomLeft}getBottomRight(){return this.bottomRight}}class Yi{constructor(e,n,i,c){this.columnCount=e,this.errorCorrectionLevel=c,this.rowCountUpperPart=n,this.rowCountLowerPart=i,this.rowCount=n+i}getColumnCount(){return this.columnCount}getErrorCorrectionLevel(){return this.errorCorrectionLevel}getRowCount(){return this.rowCount}getRowCountUpperPart(){return this.rowCountUpperPart}getRowCountLowerPart(){return this.rowCountLowerPart}}class ls{constructor(){this.buffer=""}static form(e,n){let i=-1;function c(f,m,y,N,j,D){if(f==="%%")return"%";if(n[++i]===void 0)return;f=N?parseInt(N.substr(1)):void 0;let k=j?parseInt(j.substr(1)):void 0,U;switch(D){case"s":U=n[i];break;case"c":U=n[i][0];break;case"f":U=parseFloat(n[i]).toFixed(f);break;case"p":U=parseFloat(n[i]).toPrecision(f);break;case"e":U=parseFloat(n[i]).toExponential(f);break;case"x":U=parseInt(n[i]).toString(k||16);break;case"d":U=parseFloat(parseInt(n[i],k||10).toPrecision(f)).toFixed(0);break}U=typeof U=="object"?JSON.stringify(U):(+U).toString(k);let X=parseInt(y),q=y&&y[0]+""=="0"?"0":" ";for(;U.length<X;)U=m!==void 0?U+q:q+U;return U}let u=/%(-)?(0?[0-9]+)?([.][0-9]+)?([#][0-9]+)?([scfpexd%])/g;return e.replace(u,c)}format(e,...n){this.buffer+=ls.form(e,n)}toString(){return this.buffer}}class $r{constructor(e){this.boundingBox=new Vs(e),this.codewords=new Array(e.getMaxY()-e.getMinY()+1)}getCodewordNearby(e){let n=this.getCodeword(e);if(n!=null)return n;for(let i=1;i<$r.MAX_NEARBY_DISTANCE;i++){let c=this.imageRowToCodewordIndex(e)-i;if(c>=0&&(n=this.codewords[c],n!=null)||(c=this.imageRowToCodewordIndex(e)+i,c<this.codewords.length&&(n=this.codewords[c],n!=null)))return n}return null}imageRowToCodewordIndex(e){return e-this.boundingBox.getMinY()}setCodeword(e,n){this.codewords[this.imageRowToCodewordIndex(e)]=n}getCodeword(e){return this.codewords[this.imageRowToCodewordIndex(e)]}getBoundingBox(){return this.boundingBox}getCodewords(){return this.codewords}toString(){const e=new ls;let n=0;for(const i of this.codewords){if(i==null){e.format("%3d:    |   %n",n++);continue}e.format("%3d: %3d|%3d%n",n++,i.getRowNumber(),i.getValue())}return e.toString()}}$r.MAX_NEARBY_DISTANCE=5;class As{constructor(){this.values=new Map}setValue(e){e=Math.trunc(e);let n=this.values.get(e);n==null&&(n=0),n++,this.values.set(e,n)}getValue(){let e=-1,n=new Array;for(const[i,c]of this.values.entries()){const u={getKey:()=>i,getValue:()=>c};u.getValue()>e?(e=u.getValue(),n=[],n.push(u.getKey())):u.getValue()===e&&n.push(u.getKey())}return nt.toIntArray(n)}getConfidence(e){return this.values.get(e)}}class Ql extends $r{constructor(e,n){super(e),this._isLeft=n}setRowNumbers(){for(let e of this.getCodewords())e?.setRowNumberAsRowIndicatorColumn()}adjustCompleteIndicatorColumnRowNumbers(e){let n=this.getCodewords();this.setRowNumbers(),this.removeIncorrectCodewords(n,e);let i=this.getBoundingBox(),c=this._isLeft?i.getTopLeft():i.getTopRight(),u=this._isLeft?i.getBottomLeft():i.getBottomRight(),f=this.imageRowToCodewordIndex(Math.trunc(c.getY())),m=this.imageRowToCodewordIndex(Math.trunc(u.getY())),y=-1,N=1,j=0;for(let D=f;D<m;D++){if(n[D]==null)continue;let k=n[D],U=k.getRowNumber()-y;if(U===0)j++;else if(U===1)N=Math.max(N,j),j=1,y=k.getRowNumber();else if(U<0||k.getRowNumber()>=e.getRowCount()||U>D)n[D]=null;else{let X;N>2?X=(N-2)*U:X=U;let q=X>=D;for(let J=1;J<=X&&!q;J++)q=n[D-J]!=null;q?n[D]=null:(y=k.getRowNumber(),j=1)}}}getRowHeights(){let e=this.getBarcodeMetadata();if(e==null)return null;this.adjustIncompleteIndicatorColumnRowNumbers(e);let n=new Int32Array(e.getRowCount());for(let i of this.getCodewords())if(i!=null){let c=i.getRowNumber();if(c>=n.length)continue;n[c]++}return n}adjustIncompleteIndicatorColumnRowNumbers(e){let n=this.getBoundingBox(),i=this._isLeft?n.getTopLeft():n.getTopRight(),c=this._isLeft?n.getBottomLeft():n.getBottomRight(),u=this.imageRowToCodewordIndex(Math.trunc(i.getY())),f=this.imageRowToCodewordIndex(Math.trunc(c.getY())),m=this.getCodewords(),y=-1;for(let N=u;N<f;N++){if(m[N]==null)continue;let j=m[N];j.setRowNumberAsRowIndicatorColumn();let D=j.getRowNumber()-y;D===0||(D===1?y=j.getRowNumber():j.getRowNumber()>=e.getRowCount()?m[N]=null:y=j.getRowNumber())}}getBarcodeMetadata(){let e=this.getCodewords(),n=new As,i=new As,c=new As,u=new As;for(let m of e){if(m==null)continue;m.setRowNumberAsRowIndicatorColumn();let y=m.getValue()%30,N=m.getRowNumber();switch(this._isLeft||(N+=2),N%3){case 0:i.setValue(y*3+1);break;case 1:u.setValue(y/3),c.setValue(y%3);break;case 2:n.setValue(y+1);break}}if(n.getValue().length===0||i.getValue().length===0||c.getValue().length===0||u.getValue().length===0||n.getValue()[0]<1||i.getValue()[0]+c.getValue()[0]<nt.MIN_ROWS_IN_BARCODE||i.getValue()[0]+c.getValue()[0]>nt.MAX_ROWS_IN_BARCODE)return null;let f=new Yi(n.getValue()[0],i.getValue()[0],c.getValue()[0],u.getValue()[0]);return this.removeIncorrectCodewords(e,f),f}removeIncorrectCodewords(e,n){for(let i=0;i<e.length;i++){let c=e[i];if(e[i]==null)continue;let u=c.getValue()%30,f=c.getRowNumber();if(f>n.getRowCount()){e[i]=null;continue}switch(this._isLeft||(f+=2),f%3){case 0:u*3+1!==n.getRowCountUpperPart()&&(e[i]=null);break;case 1:(Math.trunc(u/3)!==n.getErrorCorrectionLevel()||u%3!==n.getRowCountLowerPart())&&(e[i]=null);break;case 2:u+1!==n.getColumnCount()&&(e[i]=null);break}}}isLeft(){return this._isLeft}toString(){return"IsLeft: "+this._isLeft+`
`+super.toString()}}class qi{constructor(e,n){this.ADJUST_ROW_NUMBER_SKIP=2,this.barcodeMetadata=e,this.barcodeColumnCount=e.getColumnCount(),this.boundingBox=n,this.detectionResultColumns=new Array(this.barcodeColumnCount+2)}getDetectionResultColumns(){this.adjustIndicatorColumnRowNumbers(this.detectionResultColumns[0]),this.adjustIndicatorColumnRowNumbers(this.detectionResultColumns[this.barcodeColumnCount+1]);let e=nt.MAX_CODEWORDS_IN_BARCODE,n;do n=e,e=this.adjustRowNumbersAndGetCount();while(e>0&&e<n);return this.detectionResultColumns}adjustIndicatorColumnRowNumbers(e){e?.adjustCompleteIndicatorColumnRowNumbers(this.barcodeMetadata)}adjustRowNumbersAndGetCount(){let e=this.adjustRowNumbersByRow();if(e===0)return 0;for(let n=1;n<this.barcodeColumnCount+1;n++){let i=this.detectionResultColumns[n].getCodewords();for(let c=0;c<i.length;c++)i[c]!=null&&(i[c].hasValidRowNumber()||this.adjustRowNumbers(n,c,i))}return e}adjustRowNumbersByRow(){return this.adjustRowNumbersFromBothRI(),this.adjustRowNumbersFromLRI()+this.adjustRowNumbersFromRRI()}adjustRowNumbersFromBothRI(){if(this.detectionResultColumns[0]==null||this.detectionResultColumns[this.barcodeColumnCount+1]==null)return;let e=this.detectionResultColumns[0].getCodewords(),n=this.detectionResultColumns[this.barcodeColumnCount+1].getCodewords();for(let i=0;i<e.length;i++)if(e[i]!=null&&n[i]!=null&&e[i].getRowNumber()===n[i].getRowNumber())for(let c=1;c<=this.barcodeColumnCount;c++){let u=this.detectionResultColumns[c].getCodewords()[i];u!=null&&(u.setRowNumber(e[i].getRowNumber()),u.hasValidRowNumber()||(this.detectionResultColumns[c].getCodewords()[i]=null))}}adjustRowNumbersFromRRI(){if(this.detectionResultColumns[this.barcodeColumnCount+1]==null)return 0;let e=0,n=this.detectionResultColumns[this.barcodeColumnCount+1].getCodewords();for(let i=0;i<n.length;i++){if(n[i]==null)continue;let c=n[i].getRowNumber(),u=0;for(let f=this.barcodeColumnCount+1;f>0&&u<this.ADJUST_ROW_NUMBER_SKIP;f--){let m=this.detectionResultColumns[f].getCodewords()[i];m!=null&&(u=qi.adjustRowNumberIfValid(c,u,m),m.hasValidRowNumber()||e++)}}return e}adjustRowNumbersFromLRI(){if(this.detectionResultColumns[0]==null)return 0;let e=0,n=this.detectionResultColumns[0].getCodewords();for(let i=0;i<n.length;i++){if(n[i]==null)continue;let c=n[i].getRowNumber(),u=0;for(let f=1;f<this.barcodeColumnCount+1&&u<this.ADJUST_ROW_NUMBER_SKIP;f++){let m=this.detectionResultColumns[f].getCodewords()[i];m!=null&&(u=qi.adjustRowNumberIfValid(c,u,m),m.hasValidRowNumber()||e++)}}return e}static adjustRowNumberIfValid(e,n,i){return i==null||i.hasValidRowNumber()||(i.isValidRowNumber(e)?(i.setRowNumber(e),n=0):++n),n}adjustRowNumbers(e,n,i){if(!this.detectionResultColumns[e-1])return;let c=i[n],u=this.detectionResultColumns[e-1].getCodewords(),f=u;this.detectionResultColumns[e+1]!=null&&(f=this.detectionResultColumns[e+1].getCodewords());let m=new Array(14);m[2]=u[n],m[3]=f[n],n>0&&(m[0]=i[n-1],m[4]=u[n-1],m[5]=f[n-1]),n>1&&(m[8]=i[n-2],m[10]=u[n-2],m[11]=f[n-2]),n<i.length-1&&(m[1]=i[n+1],m[6]=u[n+1],m[7]=f[n+1]),n<i.length-2&&(m[9]=i[n+2],m[12]=u[n+2],m[13]=f[n+2]);for(let y of m)if(qi.adjustRowNumber(c,y))return}static adjustRowNumber(e,n){return n==null?!1:n.hasValidRowNumber()&&n.getBucket()===e.getBucket()?(e.setRowNumber(n.getRowNumber()),!0):!1}getBarcodeColumnCount(){return this.barcodeColumnCount}getBarcodeRowCount(){return this.barcodeMetadata.getRowCount()}getBarcodeECLevel(){return this.barcodeMetadata.getErrorCorrectionLevel()}setBoundingBox(e){this.boundingBox=e}getBoundingBox(){return this.boundingBox}setDetectionResultColumn(e,n){this.detectionResultColumns[e]=n}getDetectionResultColumn(e){return this.detectionResultColumns[e]}toString(){let e=this.detectionResultColumns[0];e==null&&(e=this.detectionResultColumns[this.barcodeColumnCount+1]);let n=new ls;for(let i=0;i<e.getCodewords().length;i++){n.format("CW %3d:",i);for(let c=0;c<this.barcodeColumnCount+2;c++){if(this.detectionResultColumns[c]==null){n.format("    |   ");continue}let u=this.detectionResultColumns[c].getCodewords()[i];if(u==null){n.format("    |   ");continue}n.format(" %3d|%3d",u.getRowNumber(),u.getValue())}n.format("%n")}return n.toString()}}class zs{constructor(e,n,i,c){this.rowNumber=zs.BARCODE_ROW_UNKNOWN,this.startX=Math.trunc(e),this.endX=Math.trunc(n),this.bucket=Math.trunc(i),this.value=Math.trunc(c)}hasValidRowNumber(){return this.isValidRowNumber(this.rowNumber)}isValidRowNumber(e){return e!==zs.BARCODE_ROW_UNKNOWN&&this.bucket===e%3*3}setRowNumberAsRowIndicatorColumn(){this.rowNumber=Math.trunc(Math.trunc(this.value/30)*3+Math.trunc(this.bucket/3))}getWidth(){return this.endX-this.startX}getStartX(){return this.startX}getEndX(){return this.endX}getBucket(){return this.bucket}getValue(){return this.value}getRowNumber(){return this.rowNumber}setRowNumber(e){this.rowNumber=e}toString(){return this.rowNumber+"|"+this.value}}zs.BARCODE_ROW_UNKNOWN=-1;class Rn{static initialize(){for(let e=0;e<nt.SYMBOL_TABLE.length;e++){let n=nt.SYMBOL_TABLE[e],i=n&1;for(let c=0;c<nt.BARS_IN_MODULE;c++){let u=0;for(;(n&1)===i;)u+=1,n>>=1;i=n&1,Rn.RATIOS_TABLE[e]||(Rn.RATIOS_TABLE[e]=new Array(nt.BARS_IN_MODULE)),Rn.RATIOS_TABLE[e][nt.BARS_IN_MODULE-c-1]=Math.fround(u/nt.MODULES_IN_CODEWORD)}}this.bSymbolTableReady=!0}static getDecodedValue(e){let n=Rn.getDecodedCodewordValue(Rn.sampleBitCounts(e));return n!==-1?n:Rn.getClosestDecodedValue(e)}static sampleBitCounts(e){let n=bt.sum(e),i=new Int32Array(nt.BARS_IN_MODULE),c=0,u=0;for(let f=0;f<nt.MODULES_IN_CODEWORD;f++){let m=n/(2*nt.MODULES_IN_CODEWORD)+f*n/nt.MODULES_IN_CODEWORD;u+e[c]<=m&&(u+=e[c],c++),i[c]++}return i}static getDecodedCodewordValue(e){let n=Rn.getBitValue(e);return nt.getCodeword(n)===-1?-1:n}static getBitValue(e){let n=0;for(let i=0;i<e.length;i++)for(let c=0;c<e[i];c++)n=n<<1|(i%2===0?1:0);return Math.trunc(n)}static getClosestDecodedValue(e){let n=bt.sum(e),i=new Array(nt.BARS_IN_MODULE);if(n>1)for(let f=0;f<i.length;f++)i[f]=Math.fround(e[f]/n);let c=Es.MAX_VALUE,u=-1;this.bSymbolTableReady||Rn.initialize();for(let f=0;f<Rn.RATIOS_TABLE.length;f++){let m=0,y=Rn.RATIOS_TABLE[f];for(let N=0;N<nt.BARS_IN_MODULE;N++){let j=Math.fround(y[N]-i[N]);if(m+=Math.fround(j*j),m>=c)break}m<c&&(c=m,u=nt.SYMBOL_TABLE[f])}return u}}Rn.bSymbolTableReady=!1,Rn.RATIOS_TABLE=new Array(nt.SYMBOL_TABLE.length).map(_=>new Array(nt.BARS_IN_MODULE));class Do{constructor(){this.segmentCount=-1,this.fileSize=-1,this.timestamp=-1,this.checksum=-1}getSegmentIndex(){return this.segmentIndex}setSegmentIndex(e){this.segmentIndex=e}getFileId(){return this.fileId}setFileId(e){this.fileId=e}getOptionalData(){return this.optionalData}setOptionalData(e){this.optionalData=e}isLastSegment(){return this.lastSegment}setLastSegment(e){this.lastSegment=e}getSegmentCount(){return this.segmentCount}setSegmentCount(e){this.segmentCount=e}getSender(){return this.sender||null}setSender(e){this.sender=e}getAddressee(){return this.addressee||null}setAddressee(e){this.addressee=e}getFileName(){return this.fileName}setFileName(e){this.fileName=e}getFileSize(){return this.fileSize}setFileSize(e){this.fileSize=e}getChecksum(){return this.checksum}setChecksum(e){this.checksum=e}getTimestamp(){return this.timestamp}setTimestamp(e){this.timestamp=e}}class Ba{static parseLong(e,n=void 0){return parseInt(e,n)}}class cs extends w{}cs.kind="NullPointerException";class Ua{writeBytes(e){this.writeBytesOffset(e,0,e.length)}writeBytesOffset(e,n,i){if(e==null)throw new cs;if(n<0||n>e.length||i<0||n+i>e.length||n+i<0)throw new L;if(i===0)return;for(let c=0;c<i;c++)this.write(e[n+c])}flush(){}close(){}}class Mo extends w{}class Zl extends Ua{constructor(e=32){if(super(),this.count=0,e<0)throw new A("Negative initial size: "+e);this.buf=new Uint8Array(e)}ensureCapacity(e){e-this.buf.length>0&&this.grow(e)}grow(e){let i=this.buf.length<<1;if(i-e<0&&(i=e),i<0){if(e<0)throw new Mo;i=V.MAX_VALUE}this.buf=H.copyOfUint8Array(this.buf,i)}write(e){this.ensureCapacity(this.count+1),this.buf[this.count]=e,this.count+=1}writeBytesOffset(e,n,i){if(n<0||n>e.length||i<0||n+i-e.length>0)throw new L;this.ensureCapacity(this.count+i),R.arraycopy(e,n,this.buf,this.count,i),this.count+=i}writeTo(e){e.writeBytesOffset(this.buf,0,this.count)}reset(){this.count=0}toByteArray(){return H.copyOfUint8Array(this.buf,this.count)}size(){return this.count}toString(e){return e?typeof e=="string"?this.toString_string(e):this.toString_number(e):this.toString_void()}toString_void(){return new String(this.buf).toString()}toString_string(e){return new String(this.buf).toString()}toString_number(e){return new String(this.buf).toString()}close(){}}var Tt;(function(_){_[_.ALPHA=0]="ALPHA",_[_.LOWER=1]="LOWER",_[_.MIXED=2]="MIXED",_[_.PUNCT=3]="PUNCT",_[_.ALPHA_SHIFT=4]="ALPHA_SHIFT",_[_.PUNCT_SHIFT=5]="PUNCT_SHIFT"})(Tt||(Tt={}));function Qi(){if(typeof window<"u")return window.BigInt||null;if(typeof Yc<"u")return Yc.BigInt||null;if(typeof self<"u")return self.BigInt||null;throw new Error("Can't search globals for BigInt!")}let Zi;function mn(_){if(typeof Zi>"u"&&(Zi=Qi()),Zi===null)throw new Error("BigInt is not supported!");return Zi(_)}function mi(){let _=[];_[0]=mn(1);let e=mn(900);_[1]=e;for(let n=2;n<16;n++)_[n]=_[n-1]*e;return _}class oe{static decode(e,n){let i=new Ie(""),c=se.ISO8859_1;i.enableDecoding(c);let u=1,f=e[u++],m=new Do;for(;u<e[0];){switch(f){case oe.TEXT_COMPACTION_MODE_LATCH:u=oe.textCompaction(e,u,i);break;case oe.BYTE_COMPACTION_MODE_LATCH:case oe.BYTE_COMPACTION_MODE_LATCH_6:u=oe.byteCompaction(f,e,c,u,i);break;case oe.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:i.append(e[u++]);break;case oe.NUMERIC_COMPACTION_MODE_LATCH:u=oe.numericCompaction(e,u,i);break;case oe.ECI_CHARSET:se.getCharacterSetECIByValue(e[u++]);break;case oe.ECI_GENERAL_PURPOSE:u+=2;break;case oe.ECI_USER_DEFINED:u++;break;case oe.BEGIN_MACRO_PDF417_CONTROL_BLOCK:u=oe.decodeMacroBlock(e,u,m);break;case oe.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case oe.MACRO_PDF417_TERMINATOR:throw new Q;default:u--,u=oe.textCompaction(e,u,i);break}if(u<e.length)f=e[u++];else throw Q.getFormatInstance()}if(i.length()===0)throw Q.getFormatInstance();let y=new lt(null,i.toString(),null,n);return y.setOther(m),y}static decodeMacroBlock(e,n,i){if(n+oe.NUMBER_OF_SEQUENCE_CODEWORDS>e[0])throw Q.getFormatInstance();let c=new Int32Array(oe.NUMBER_OF_SEQUENCE_CODEWORDS);for(let m=0;m<oe.NUMBER_OF_SEQUENCE_CODEWORDS;m++,n++)c[m]=e[n];i.setSegmentIndex(V.parseInt(oe.decodeBase900toBase10(c,oe.NUMBER_OF_SEQUENCE_CODEWORDS)));let u=new Ie;n=oe.textCompaction(e,n,u),i.setFileId(u.toString());let f=-1;for(e[n]===oe.BEGIN_MACRO_PDF417_OPTIONAL_FIELD&&(f=n+1);n<e[0];)switch(e[n]){case oe.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:switch(n++,e[n]){case oe.MACRO_PDF417_OPTIONAL_FIELD_FILE_NAME:let m=new Ie;n=oe.textCompaction(e,n+1,m),i.setFileName(m.toString());break;case oe.MACRO_PDF417_OPTIONAL_FIELD_SENDER:let y=new Ie;n=oe.textCompaction(e,n+1,y),i.setSender(y.toString());break;case oe.MACRO_PDF417_OPTIONAL_FIELD_ADDRESSEE:let N=new Ie;n=oe.textCompaction(e,n+1,N),i.setAddressee(N.toString());break;case oe.MACRO_PDF417_OPTIONAL_FIELD_SEGMENT_COUNT:let j=new Ie;n=oe.numericCompaction(e,n+1,j),i.setSegmentCount(V.parseInt(j.toString()));break;case oe.MACRO_PDF417_OPTIONAL_FIELD_TIME_STAMP:let D=new Ie;n=oe.numericCompaction(e,n+1,D),i.setTimestamp(Ba.parseLong(D.toString()));break;case oe.MACRO_PDF417_OPTIONAL_FIELD_CHECKSUM:let k=new Ie;n=oe.numericCompaction(e,n+1,k),i.setChecksum(V.parseInt(k.toString()));break;case oe.MACRO_PDF417_OPTIONAL_FIELD_FILE_SIZE:let U=new Ie;n=oe.numericCompaction(e,n+1,U),i.setFileSize(Ba.parseLong(U.toString()));break;default:throw Q.getFormatInstance()}break;case oe.MACRO_PDF417_TERMINATOR:n++,i.setLastSegment(!0);break;default:throw Q.getFormatInstance()}if(f!==-1){let m=n-f;i.isLastSegment()&&m--,i.setOptionalData(H.copyOfRange(e,f,f+m))}return n}static textCompaction(e,n,i){let c=new Int32Array((e[0]-n)*2),u=new Int32Array((e[0]-n)*2),f=0,m=!1;for(;n<e[0]&&!m;){let y=e[n++];if(y<oe.TEXT_COMPACTION_MODE_LATCH)c[f]=y/30,c[f+1]=y%30,f+=2;else switch(y){case oe.TEXT_COMPACTION_MODE_LATCH:c[f++]=oe.TEXT_COMPACTION_MODE_LATCH;break;case oe.BYTE_COMPACTION_MODE_LATCH:case oe.BYTE_COMPACTION_MODE_LATCH_6:case oe.NUMERIC_COMPACTION_MODE_LATCH:case oe.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case oe.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case oe.MACRO_PDF417_TERMINATOR:n--,m=!0;break;case oe.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:c[f]=oe.MODE_SHIFT_TO_BYTE_COMPACTION_MODE,y=e[n++],u[f]=y,f++;break}}return oe.decodeTextCompaction(c,u,f,i),n}static decodeTextCompaction(e,n,i,c){let u=Tt.ALPHA,f=Tt.ALPHA,m=0;for(;m<i;){let y=e[m],N="";switch(u){case Tt.ALPHA:if(y<26)N=String.fromCharCode(65+y);else switch(y){case 26:N=" ";break;case oe.LL:u=Tt.LOWER;break;case oe.ML:u=Tt.MIXED;break;case oe.PS:f=u,u=Tt.PUNCT_SHIFT;break;case oe.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:c.append(n[m]);break;case oe.TEXT_COMPACTION_MODE_LATCH:u=Tt.ALPHA;break}break;case Tt.LOWER:if(y<26)N=String.fromCharCode(97+y);else switch(y){case 26:N=" ";break;case oe.AS:f=u,u=Tt.ALPHA_SHIFT;break;case oe.ML:u=Tt.MIXED;break;case oe.PS:f=u,u=Tt.PUNCT_SHIFT;break;case oe.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:c.append(n[m]);break;case oe.TEXT_COMPACTION_MODE_LATCH:u=Tt.ALPHA;break}break;case Tt.MIXED:if(y<oe.PL)N=oe.MIXED_CHARS[y];else switch(y){case oe.PL:u=Tt.PUNCT;break;case 26:N=" ";break;case oe.LL:u=Tt.LOWER;break;case oe.AL:u=Tt.ALPHA;break;case oe.PS:f=u,u=Tt.PUNCT_SHIFT;break;case oe.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:c.append(n[m]);break;case oe.TEXT_COMPACTION_MODE_LATCH:u=Tt.ALPHA;break}break;case Tt.PUNCT:if(y<oe.PAL)N=oe.PUNCT_CHARS[y];else switch(y){case oe.PAL:u=Tt.ALPHA;break;case oe.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:c.append(n[m]);break;case oe.TEXT_COMPACTION_MODE_LATCH:u=Tt.ALPHA;break}break;case Tt.ALPHA_SHIFT:if(u=f,y<26)N=String.fromCharCode(65+y);else switch(y){case 26:N=" ";break;case oe.TEXT_COMPACTION_MODE_LATCH:u=Tt.ALPHA;break}break;case Tt.PUNCT_SHIFT:if(u=f,y<oe.PAL)N=oe.PUNCT_CHARS[y];else switch(y){case oe.PAL:u=Tt.ALPHA;break;case oe.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:c.append(n[m]);break;case oe.TEXT_COMPACTION_MODE_LATCH:u=Tt.ALPHA;break}break}N!==""&&c.append(N),m++}}static byteCompaction(e,n,i,c,u){let f=new Zl,m=0,y=0,N=!1;switch(e){case oe.BYTE_COMPACTION_MODE_LATCH:let j=new Int32Array(6),D=n[c++];for(;c<n[0]&&!N;)switch(j[m++]=D,y=900*y+D,D=n[c++],D){case oe.TEXT_COMPACTION_MODE_LATCH:case oe.BYTE_COMPACTION_MODE_LATCH:case oe.NUMERIC_COMPACTION_MODE_LATCH:case oe.BYTE_COMPACTION_MODE_LATCH_6:case oe.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case oe.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case oe.MACRO_PDF417_TERMINATOR:c--,N=!0;break;default:if(m%5===0&&m>0){for(let k=0;k<6;++k)f.write(Number(mn(y)>>mn(8*(5-k))));y=0,m=0}break}c===n[0]&&D<oe.TEXT_COMPACTION_MODE_LATCH&&(j[m++]=D);for(let k=0;k<m;k++)f.write(j[k]);break;case oe.BYTE_COMPACTION_MODE_LATCH_6:for(;c<n[0]&&!N;){let k=n[c++];if(k<oe.TEXT_COMPACTION_MODE_LATCH)m++,y=900*y+k;else switch(k){case oe.TEXT_COMPACTION_MODE_LATCH:case oe.BYTE_COMPACTION_MODE_LATCH:case oe.NUMERIC_COMPACTION_MODE_LATCH:case oe.BYTE_COMPACTION_MODE_LATCH_6:case oe.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case oe.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case oe.MACRO_PDF417_TERMINATOR:c--,N=!0;break}if(m%5===0&&m>0){for(let U=0;U<6;++U)f.write(Number(mn(y)>>mn(8*(5-U))));y=0,m=0}}break}return u.append(je.decode(f.toByteArray(),i)),c}static numericCompaction(e,n,i){let c=0,u=!1,f=new Int32Array(oe.MAX_NUMERIC_CODEWORDS);for(;n<e[0]&&!u;){let m=e[n++];if(n===e[0]&&(u=!0),m<oe.TEXT_COMPACTION_MODE_LATCH)f[c]=m,c++;else switch(m){case oe.TEXT_COMPACTION_MODE_LATCH:case oe.BYTE_COMPACTION_MODE_LATCH:case oe.BYTE_COMPACTION_MODE_LATCH_6:case oe.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case oe.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case oe.MACRO_PDF417_TERMINATOR:n--,u=!0;break}(c%oe.MAX_NUMERIC_CODEWORDS===0||m===oe.NUMERIC_COMPACTION_MODE_LATCH||u)&&c>0&&(i.append(oe.decodeBase900toBase10(f,c)),c=0)}return n}static decodeBase900toBase10(e,n){let i=mn(0);for(let u=0;u<n;u++)i+=oe.EXP900[n-u-1]*mn(e[u]);let c=i.toString();if(c.charAt(0)!=="1")throw new Q;return c.substring(1)}}oe.TEXT_COMPACTION_MODE_LATCH=900,oe.BYTE_COMPACTION_MODE_LATCH=901,oe.NUMERIC_COMPACTION_MODE_LATCH=902,oe.BYTE_COMPACTION_MODE_LATCH_6=924,oe.ECI_USER_DEFINED=925,oe.ECI_GENERAL_PURPOSE=926,oe.ECI_CHARSET=927,oe.BEGIN_MACRO_PDF417_CONTROL_BLOCK=928,oe.BEGIN_MACRO_PDF417_OPTIONAL_FIELD=923,oe.MACRO_PDF417_TERMINATOR=922,oe.MODE_SHIFT_TO_BYTE_COMPACTION_MODE=913,oe.MAX_NUMERIC_CODEWORDS=15,oe.MACRO_PDF417_OPTIONAL_FIELD_FILE_NAME=0,oe.MACRO_PDF417_OPTIONAL_FIELD_SEGMENT_COUNT=1,oe.MACRO_PDF417_OPTIONAL_FIELD_TIME_STAMP=2,oe.MACRO_PDF417_OPTIONAL_FIELD_SENDER=3,oe.MACRO_PDF417_OPTIONAL_FIELD_ADDRESSEE=4,oe.MACRO_PDF417_OPTIONAL_FIELD_FILE_SIZE=5,oe.MACRO_PDF417_OPTIONAL_FIELD_CHECKSUM=6,oe.PL=25,oe.LL=27,oe.AS=27,oe.ML=28,oe.AL=28,oe.PS=29,oe.PAL=29,oe.PUNCT_CHARS=`;<>@[\\]_\`~!\r	,:
-.$/"|*()?{}'`,oe.MIXED_CHARS="0123456789&\r	,:#-.$/+%*=^",oe.EXP900=Qi()?mi():[],oe.NUMBER_OF_SEQUENCE_CODEWORDS=2;class ft{constructor(){}static decode(e,n,i,c,u,f,m){let y=new Vs(e,n,i,c,u),N=null,j=null,D;for(let X=!0;;X=!1){if(n!=null&&(N=ft.getRowIndicatorColumn(e,y,n,!0,f,m)),c!=null&&(j=ft.getRowIndicatorColumn(e,y,c,!1,f,m)),D=ft.merge(N,j),D==null)throw W.getNotFoundInstance();let q=D.getBoundingBox();if(X&&q!=null&&(q.getMinY()<y.getMinY()||q.getMaxY()>y.getMaxY()))y=q;else break}D.setBoundingBox(y);let k=D.getBarcodeColumnCount()+1;D.setDetectionResultColumn(0,N),D.setDetectionResultColumn(k,j);let U=N!=null;for(let X=1;X<=k;X++){let q=U?X:k-X;if(D.getDetectionResultColumn(q)!==void 0)continue;let J;q===0||q===k?J=new Ql(y,q===0):J=new $r(y),D.setDetectionResultColumn(q,J);let ie=-1,be=ie;for(let Ne=y.getMinY();Ne<=y.getMaxY();Ne++){if(ie=ft.getStartColumn(D,q,Ne,U),ie<0||ie>y.getMaxX()){if(be===-1)continue;ie=be}let ye=ft.detectCodeword(e,y.getMinX(),y.getMaxX(),U,ie,Ne,f,m);ye!=null&&(J.setCodeword(Ne,ye),be=ie,f=Math.min(f,ye.getWidth()),m=Math.max(m,ye.getWidth()))}}return ft.createDecoderResult(D)}static merge(e,n){if(e==null&&n==null)return null;let i=ft.getBarcodeMetadata(e,n);if(i==null)return null;let c=Vs.merge(ft.adjustBoundingBox(e),ft.adjustBoundingBox(n));return new qi(i,c)}static adjustBoundingBox(e){if(e==null)return null;let n=e.getRowHeights();if(n==null)return null;let i=ft.getMax(n),c=0;for(let m of n)if(c+=i-m,m>0)break;let u=e.getCodewords();for(let m=0;c>0&&u[m]==null;m++)c--;let f=0;for(let m=n.length-1;m>=0&&(f+=i-n[m],!(n[m]>0));m--);for(let m=u.length-1;f>0&&u[m]==null;m--)f--;return e.getBoundingBox().addMissingRows(c,f,e.isLeft())}static getMax(e){let n=-1;for(let i of e)n=Math.max(n,i);return n}static getBarcodeMetadata(e,n){let i;if(e==null||(i=e.getBarcodeMetadata())==null)return n==null?null:n.getBarcodeMetadata();let c;return n==null||(c=n.getBarcodeMetadata())==null?i:i.getColumnCount()!==c.getColumnCount()&&i.getErrorCorrectionLevel()!==c.getErrorCorrectionLevel()&&i.getRowCount()!==c.getRowCount()?null:i}static getRowIndicatorColumn(e,n,i,c,u,f){let m=new Ql(n,c);for(let y=0;y<2;y++){let N=y===0?1:-1,j=Math.trunc(Math.trunc(i.getX()));for(let D=Math.trunc(Math.trunc(i.getY()));D<=n.getMaxY()&&D>=n.getMinY();D+=N){let k=ft.detectCodeword(e,0,e.getWidth(),c,j,D,u,f);k!=null&&(m.setCodeword(D,k),c?j=k.getStartX():j=k.getEndX())}}return m}static adjustCodewordCount(e,n){let i=n[0][1],c=i.getValue(),u=e.getBarcodeColumnCount()*e.getBarcodeRowCount()-ft.getNumberOfECCodeWords(e.getBarcodeECLevel());if(c.length===0){if(u<1||u>nt.MAX_CODEWORDS_IN_BARCODE)throw W.getNotFoundInstance();i.setValue(u)}else c[0]!==u&&i.setValue(u)}static createDecoderResult(e){let n=ft.createBarcodeMatrix(e);ft.adjustCodewordCount(e,n);let i=new Array,c=new Int32Array(e.getBarcodeRowCount()*e.getBarcodeColumnCount()),u=[],f=new Array;for(let y=0;y<e.getBarcodeRowCount();y++)for(let N=0;N<e.getBarcodeColumnCount();N++){let j=n[y][N+1].getValue(),D=y*e.getBarcodeColumnCount()+N;j.length===0?i.push(D):j.length===1?c[D]=j[0]:(f.push(D),u.push(j))}let m=new Array(u.length);for(let y=0;y<m.length;y++)m[y]=u[y];return ft.createDecoderResultFromAmbiguousValues(e.getBarcodeECLevel(),c,nt.toIntArray(i),nt.toIntArray(f),m)}static createDecoderResultFromAmbiguousValues(e,n,i,c,u){let f=new Int32Array(c.length),m=100;for(;m-- >0;){for(let y=0;y<f.length;y++)n[c[y]]=u[y][f[y]];try{return ft.decodeCodewords(n,e,i)}catch(y){if(!(y instanceof P))throw y}if(f.length===0)throw P.getChecksumInstance();for(let y=0;y<f.length;y++)if(f[y]<u[y].length-1){f[y]++;break}else if(f[y]=0,y===f.length-1)throw P.getChecksumInstance()}throw P.getChecksumInstance()}static createBarcodeMatrix(e){let n=Array.from({length:e.getBarcodeRowCount()},()=>new Array(e.getBarcodeColumnCount()+2));for(let c=0;c<n.length;c++)for(let u=0;u<n[c].length;u++)n[c][u]=new As;let i=0;for(let c of e.getDetectionResultColumns()){if(c!=null){for(let u of c.getCodewords())if(u!=null){let f=u.getRowNumber();if(f>=0){if(f>=n.length)continue;n[f][i].setValue(u.getValue())}}}i++}return n}static isValidBarcodeColumn(e,n){return n>=0&&n<=e.getBarcodeColumnCount()+1}static getStartColumn(e,n,i,c){let u=c?1:-1,f=null;if(ft.isValidBarcodeColumn(e,n-u)&&(f=e.getDetectionResultColumn(n-u).getCodeword(i)),f!=null)return c?f.getEndX():f.getStartX();if(f=e.getDetectionResultColumn(n).getCodewordNearby(i),f!=null)return c?f.getStartX():f.getEndX();if(ft.isValidBarcodeColumn(e,n-u)&&(f=e.getDetectionResultColumn(n-u).getCodewordNearby(i)),f!=null)return c?f.getEndX():f.getStartX();let m=0;for(;ft.isValidBarcodeColumn(e,n-u);){n-=u;for(let y of e.getDetectionResultColumn(n).getCodewords())if(y!=null)return(c?y.getEndX():y.getStartX())+u*m*(y.getEndX()-y.getStartX());m++}return c?e.getBoundingBox().getMinX():e.getBoundingBox().getMaxX()}static detectCodeword(e,n,i,c,u,f,m,y){u=ft.adjustCodewordStartColumn(e,n,i,c,u,f);let N=ft.getModuleBitCount(e,n,i,c,u,f);if(N==null)return null;let j,D=bt.sum(N);if(c)j=u+D;else{for(let X=0;X<N.length/2;X++){let q=N[X];N[X]=N[N.length-1-X],N[N.length-1-X]=q}j=u,u=j-D}if(!ft.checkCodewordSkew(D,m,y))return null;let k=Rn.getDecodedValue(N),U=nt.getCodeword(k);return U===-1?null:new zs(u,j,ft.getCodewordBucketNumber(k),U)}static getModuleBitCount(e,n,i,c,u,f){let m=u,y=new Int32Array(8),N=0,j=c?1:-1,D=c;for(;(c?m<i:m>=n)&&N<y.length;)e.get(m,f)===D?(y[N]++,m+=j):(N++,D=!D);return N===y.length||m===(c?i:n)&&N===y.length-1?y:null}static getNumberOfECCodeWords(e){return 2<<e}static adjustCodewordStartColumn(e,n,i,c,u,f){let m=u,y=c?-1:1;for(let N=0;N<2;N++){for(;(c?m>=n:m<i)&&c===e.get(m,f);){if(Math.abs(u-m)>ft.CODEWORD_SKEW_SIZE)return u;m+=y}y=-y,c=!c}return m}static checkCodewordSkew(e,n,i){return n-ft.CODEWORD_SKEW_SIZE<=e&&e<=i+ft.CODEWORD_SKEW_SIZE}static decodeCodewords(e,n,i){if(e.length===0)throw Q.getFormatInstance();let c=1<<n+1,u=ft.correctErrors(e,i,c);ft.verifyCodewordCount(e,c);let f=oe.decode(e,""+n);return f.setErrorsCorrected(u),f.setErasures(i.length),f}static correctErrors(e,n,i){if(n!=null&&n.length>i/2+ft.MAX_ERRORS||i<0||i>ft.MAX_EC_CODEWORDS)throw P.getChecksumInstance();return ft.errorCorrection.decode(e,i,n)}static verifyCodewordCount(e,n){if(e.length<4)throw Q.getFormatInstance();let i=e[0];if(i>e.length)throw Q.getFormatInstance();if(i===0)if(n<e.length)e[0]=e.length-n;else throw Q.getFormatInstance()}static getBitCountForCodeword(e){let n=new Int32Array(8),i=0,c=n.length-1;for(;!((e&1)!==i&&(i=e&1,c--,c<0));)n[c]++,e>>=1;return n}static getCodewordBucketNumber(e){return e instanceof Int32Array?this.getCodewordBucketNumber_Int32Array(e):this.getCodewordBucketNumber_number(e)}static getCodewordBucketNumber_number(e){return ft.getCodewordBucketNumber(ft.getBitCountForCodeword(e))}static getCodewordBucketNumber_Int32Array(e){return(e[0]-e[2]+e[4]-e[6]+9)%9}static toString(e){let n=new ls;for(let i=0;i<e.length;i++){n.format("Row %2d: ",i);for(let c=0;c<e[i].length;c++){let u=e[i][c];u.getValue().length===0?n.format("        ",null):n.format("%4d(%2d)",u.getValue()[0],u.getConfidence(u.getValue()[0]))}n.format("%n")}return n.toString()}}ft.CODEWORD_SKEW_SIZE=2,ft.MAX_ERRORS=3,ft.MAX_EC_CODEWORDS=512,ft.errorCorrection=new Fa;class On{decode(e,n=null){let i=On.decode(e,n,!1);if(i==null||i.length===0||i[0]==null)throw W.getNotFoundInstance();return i[0]}decodeMultiple(e,n=null){try{return On.decode(e,n,!0)}catch(i){throw i instanceof Q||i instanceof P?W.getNotFoundInstance():i}}static decode(e,n,i){const c=new Array,u=ct.detectMultiple(e,n,i);for(const f of u.getPoints()){const m=ft.decode(u.getBits(),f[4],f[5],f[6],f[7],On.getMinCodewordWidth(f),On.getMaxCodewordWidth(f)),y=new Be(m.getText(),m.getRawBytes(),void 0,f,Se.PDF_417);y.putMetadata(Me.ERROR_CORRECTION_LEVEL,m.getECLevel());const N=m.getOther();N!=null&&y.putMetadata(Me.PDF417_EXTRA_METADATA,N),c.push(y)}return c.map(f=>f)}static getMaxWidth(e,n){return e==null||n==null?0:Math.trunc(Math.abs(e.getX()-n.getX()))}static getMinWidth(e,n){return e==null||n==null?V.MAX_VALUE:Math.trunc(Math.abs(e.getX()-n.getX()))}static getMaxCodewordWidth(e){return Math.floor(Math.max(Math.max(On.getMaxWidth(e[0],e[4]),On.getMaxWidth(e[6],e[2])*nt.MODULES_IN_CODEWORD/nt.MODULES_IN_STOP_PATTERN),Math.max(On.getMaxWidth(e[1],e[5]),On.getMaxWidth(e[7],e[3])*nt.MODULES_IN_CODEWORD/nt.MODULES_IN_STOP_PATTERN)))}static getMinCodewordWidth(e){return Math.floor(Math.min(Math.min(On.getMinWidth(e[0],e[4]),On.getMinWidth(e[6],e[2])*nt.MODULES_IN_CODEWORD/nt.MODULES_IN_STOP_PATTERN),Math.min(On.getMinWidth(e[1],e[5]),On.getMinWidth(e[7],e[3])*nt.MODULES_IN_CODEWORD/nt.MODULES_IN_STOP_PATTERN)))}reset(){}}class pi extends w{}pi.kind="ReaderException";class ko{constructor(e,n){this.verbose=e===!0,n&&this.setHints(n)}decode(e,n){return n&&this.setHints(n),this.decodeInternal(e)}decodeWithState(e){return(this.readers===null||this.readers===void 0)&&this.setHints(null),this.decodeInternal(e)}setHints(e){this.hints=e;const n=!d(e)&&e.get(le.TRY_HARDER)===!0,i=d(e)?null:e.get(le.POSSIBLE_FORMATS),c=new Array;if(!d(i)){const u=i.some(f=>f===Se.UPC_A||f===Se.UPC_E||f===Se.EAN_13||f===Se.EAN_8||f===Se.CODABAR||f===Se.CODE_39||f===Se.CODE_93||f===Se.CODE_128||f===Se.ITF||f===Se.RSS_14||f===Se.RSS_EXPANDED);u&&!n&&c.push(new ui(e,this.verbose)),i.includes(Se.QR_CODE)&&c.push(new qn),i.includes(Se.DATA_MATRIX)&&c.push(new Lr),i.includes(Se.AZTEC)&&c.push(new bs),i.includes(Se.PDF_417)&&c.push(new On),u&&n&&c.push(new ui(e,this.verbose))}c.length===0&&(n||c.push(new ui(e,this.verbose)),c.push(new qn),c.push(new Lr),c.push(new bs),c.push(new On),n&&c.push(new ui(e,this.verbose))),this.readers=c}reset(){if(this.readers!==null)for(const e of this.readers)e.reset()}decodeInternal(e){if(this.readers===null)throw new pi("No readers where selected, nothing can be read.");for(const n of this.readers)try{return n.decode(e,this.hints)}catch(i){if(i instanceof pi)continue}throw new W("No MultiFormat Readers were able to detect the code.")}}class $i extends Ge{constructor(e=null,n=500){const i=new ko;i.setHints(e),super(i,n)}decodeBitmap(e){return this.reader.decodeWithState(e)}}class Po extends Ge{constructor(e=500){super(new On,e)}}class $l extends Ge{constructor(e=500){super(new qn,e)}}var Ha;(function(_){_[_.ERROR_CORRECTION=0]="ERROR_CORRECTION",_[_.CHARACTER_SET=1]="CHARACTER_SET",_[_.DATA_MATRIX_SHAPE=2]="DATA_MATRIX_SHAPE",_[_.MIN_SIZE=3]="MIN_SIZE",_[_.MAX_SIZE=4]="MAX_SIZE",_[_.MARGIN=5]="MARGIN",_[_.PDF417_COMPACT=6]="PDF417_COMPACT",_[_.PDF417_COMPACTION=7]="PDF417_COMPACTION",_[_.PDF417_DIMENSIONS=8]="PDF417_DIMENSIONS",_[_.AZTEC_LAYERS=9]="AZTEC_LAYERS",_[_.QR_VERSION=10]="QR_VERSION"})(Ha||(Ha={}));var vn=Ha;class Va{constructor(e){this.field=e,this.cachedGenerators=[],this.cachedGenerators.push(new mt(e,Int32Array.from([1])))}buildGenerator(e){const n=this.cachedGenerators;if(e>=n.length){let i=n[n.length-1];const c=this.field;for(let u=n.length;u<=e;u++){const f=i.multiply(new mt(c,Int32Array.from([1,c.exp(u-1+c.getGeneratorBase())])));n.push(f),i=f}}return n[e]}encode(e,n){if(n===0)throw new A("No error correction bytes");const i=e.length-n;if(i<=0)throw new A("No data bytes provided");const c=this.buildGenerator(n),u=new Int32Array(i);R.arraycopy(e,0,u,0,i);let f=new mt(this.field,u);f=f.multiplyByMonomial(n,1);const y=f.divide(c)[1].getCoefficients(),N=n-y.length;for(let j=0;j<N;j++)e[i+j]=0;R.arraycopy(y,0,e,i+N,y.length)}}class Zt{constructor(){}static applyMaskPenaltyRule1(e){return Zt.applyMaskPenaltyRule1Internal(e,!0)+Zt.applyMaskPenaltyRule1Internal(e,!1)}static applyMaskPenaltyRule2(e){let n=0;const i=e.getArray(),c=e.getWidth(),u=e.getHeight();for(let f=0;f<u-1;f++){const m=i[f];for(let y=0;y<c-1;y++){const N=m[y];N===m[y+1]&&N===i[f+1][y]&&N===i[f+1][y+1]&&n++}}return Zt.N2*n}static applyMaskPenaltyRule3(e){let n=0;const i=e.getArray(),c=e.getWidth(),u=e.getHeight();for(let f=0;f<u;f++)for(let m=0;m<c;m++){const y=i[f];m+6<c&&y[m]===1&&y[m+1]===0&&y[m+2]===1&&y[m+3]===1&&y[m+4]===1&&y[m+5]===0&&y[m+6]===1&&(Zt.isWhiteHorizontal(y,m-4,m)||Zt.isWhiteHorizontal(y,m+7,m+11))&&n++,f+6<u&&i[f][m]===1&&i[f+1][m]===0&&i[f+2][m]===1&&i[f+3][m]===1&&i[f+4][m]===1&&i[f+5][m]===0&&i[f+6][m]===1&&(Zt.isWhiteVertical(i,m,f-4,f)||Zt.isWhiteVertical(i,m,f+7,f+11))&&n++}return n*Zt.N3}static isWhiteHorizontal(e,n,i){n=Math.max(n,0),i=Math.min(i,e.length);for(let c=n;c<i;c++)if(e[c]===1)return!1;return!0}static isWhiteVertical(e,n,i,c){i=Math.max(i,0),c=Math.min(c,e.length);for(let u=i;u<c;u++)if(e[u][n]===1)return!1;return!0}static applyMaskPenaltyRule4(e){let n=0;const i=e.getArray(),c=e.getWidth(),u=e.getHeight();for(let y=0;y<u;y++){const N=i[y];for(let j=0;j<c;j++)N[j]===1&&n++}const f=e.getHeight()*e.getWidth();return Math.floor(Math.abs(n*2-f)*10/f)*Zt.N4}static getDataMaskBit(e,n,i){let c,u;switch(e){case 0:c=i+n&1;break;case 1:c=i&1;break;case 2:c=n%3;break;case 3:c=(i+n)%3;break;case 4:c=Math.floor(i/2)+Math.floor(n/3)&1;break;case 5:u=i*n,c=(u&1)+u%3;break;case 6:u=i*n,c=(u&1)+u%3&1;break;case 7:u=i*n,c=u%3+(i+n&1)&1;break;default:throw new A("Invalid mask pattern: "+e)}return c===0}static applyMaskPenaltyRule1Internal(e,n){let i=0;const c=n?e.getHeight():e.getWidth(),u=n?e.getWidth():e.getHeight(),f=e.getArray();for(let m=0;m<c;m++){let y=0,N=-1;for(let j=0;j<u;j++){const D=n?f[m][j]:f[j][m];D===N?y++:(y>=5&&(i+=Zt.N1+(y-5)),y=1,N=D)}y>=5&&(i+=Zt.N1+(y-5))}return i}}Zt.N1=3,Zt.N2=3,Zt.N3=40,Zt.N4=10;class Lo{constructor(e,n){this.width=e,this.height=n;const i=new Array(n);for(let c=0;c!==n;c++)i[c]=new Uint8Array(e);this.bytes=i}getHeight(){return this.height}getWidth(){return this.width}get(e,n){return this.bytes[n][e]}getArray(){return this.bytes}setNumber(e,n,i){this.bytes[n][e]=i}setBoolean(e,n,i){this.bytes[n][e]=i?1:0}clear(e){for(const n of this.bytes)H.fill(n,e)}equals(e){if(!(e instanceof Lo))return!1;const n=e;if(this.width!==n.width||this.height!==n.height)return!1;for(let i=0,c=this.height;i<c;++i){const u=this.bytes[i],f=n.bytes[i];for(let m=0,y=this.width;m<y;++m)if(u[m]!==f[m])return!1}return!0}toString(){const e=new Ie;for(let n=0,i=this.height;n<i;++n){const c=this.bytes[n];for(let u=0,f=this.width;u<f;++u)switch(c[u]){case 0:e.append(" 0");break;case 1:e.append(" 1");break;default:e.append("  ");break}e.append(`
`)}return e.toString()}}class Ws{constructor(){this.maskPattern=-1}getMode(){return this.mode}getECLevel(){return this.ecLevel}getVersion(){return this.version}getMaskPattern(){return this.maskPattern}getMatrix(){return this.matrix}toString(){const e=new Ie;return e.append(`<<
`),e.append(" mode: "),e.append(this.mode?this.mode.toString():"null"),e.append(`
 ecLevel: `),e.append(this.ecLevel?this.ecLevel.toString():"null"),e.append(`
 version: `),e.append(this.version?this.version.toString():"null"),e.append(`
 maskPattern: `),e.append(this.maskPattern.toString()),this.matrix?(e.append(`
 matrix:
`),e.append(this.matrix.toString())):e.append(`
 matrix: null
`),e.append(`>>
`),e.toString()}setMode(e){this.mode=e}setECLevel(e){this.ecLevel=e}setVersion(e){this.version=e}setMaskPattern(e){this.maskPattern=e}setMatrix(e){this.matrix=e}static isValidMaskPattern(e){return e>=0&&e<Ws.NUM_MASK_PATTERNS}}Ws.NUM_MASK_PATTERNS=8;class Lt extends w{}Lt.kind="WriterException";class $e{constructor(){}static clearMatrix(e){e.clear(255)}static buildMatrix(e,n,i,c,u){$e.clearMatrix(u),$e.embedBasicPatterns(i,u),$e.embedTypeInfo(n,c,u),$e.maybeEmbedVersionInfo(i,u),$e.embedDataBits(e,c,u)}static embedBasicPatterns(e,n){$e.embedPositionDetectionPatternsAndSeparators(n),$e.embedDarkDotAtLeftBottomCorner(n),$e.maybeEmbedPositionAdjustmentPatterns(e,n),$e.embedTimingPatterns(n)}static embedTypeInfo(e,n,i){const c=new K;$e.makeTypeInfoBits(e,n,c);for(let u=0,f=c.getSize();u<f;++u){const m=c.get(c.getSize()-1-u),y=$e.TYPE_INFO_COORDINATES[u],N=y[0],j=y[1];if(i.setBoolean(N,j,m),u<8){const D=i.getWidth()-u-1;i.setBoolean(D,8,m)}else{const k=i.getHeight()-7+(u-8);i.setBoolean(8,k,m)}}}static maybeEmbedVersionInfo(e,n){if(e.getVersionNumber()<7)return;const i=new K;$e.makeVersionInfoBits(e,i);let c=17;for(let u=0;u<6;++u)for(let f=0;f<3;++f){const m=i.get(c);c--,n.setBoolean(u,n.getHeight()-11+f,m),n.setBoolean(n.getHeight()-11+f,u,m)}}static embedDataBits(e,n,i){let c=0,u=-1,f=i.getWidth()-1,m=i.getHeight()-1;for(;f>0;){for(f===6&&(f-=1);m>=0&&m<i.getHeight();){for(let y=0;y<2;++y){const N=f-y;if(!$e.isEmpty(i.get(N,m)))continue;let j;c<e.getSize()?(j=e.get(c),++c):j=!1,n!==255&&Zt.getDataMaskBit(n,N,m)&&(j=!j),i.setBoolean(N,m,j)}m+=u}u=-u,m+=u,f-=2}if(c!==e.getSize())throw new Lt("Not all bits consumed: "+c+"/"+e.getSize())}static findMSBSet(e){return 32-V.numberOfLeadingZeros(e)}static calculateBCHCode(e,n){if(n===0)throw new A("0 polynomial");const i=$e.findMSBSet(n);for(e<<=i-1;$e.findMSBSet(e)>=i;)e^=n<<$e.findMSBSet(e)-i;return e}static makeTypeInfoBits(e,n,i){if(!Ws.isValidMaskPattern(n))throw new Lt("Invalid mask pattern");const c=e.getBits()<<3|n;i.appendBits(c,5);const u=$e.calculateBCHCode(c,$e.TYPE_INFO_POLY);i.appendBits(u,10);const f=new K;if(f.appendBits($e.TYPE_INFO_MASK_PATTERN,15),i.xor(f),i.getSize()!==15)throw new Lt("should not happen but we got: "+i.getSize())}static makeVersionInfoBits(e,n){n.appendBits(e.getVersionNumber(),6);const i=$e.calculateBCHCode(e.getVersionNumber(),$e.VERSION_INFO_POLY);if(n.appendBits(i,12),n.getSize()!==18)throw new Lt("should not happen but we got: "+n.getSize())}static isEmpty(e){return e===255}static embedTimingPatterns(e){for(let n=8;n<e.getWidth()-8;++n){const i=(n+1)%2;$e.isEmpty(e.get(n,6))&&e.setNumber(n,6,i),$e.isEmpty(e.get(6,n))&&e.setNumber(6,n,i)}}static embedDarkDotAtLeftBottomCorner(e){if(e.get(8,e.getHeight()-8)===0)throw new Lt;e.setNumber(8,e.getHeight()-8,1)}static embedHorizontalSeparationPattern(e,n,i){for(let c=0;c<8;++c){if(!$e.isEmpty(i.get(e+c,n)))throw new Lt;i.setNumber(e+c,n,0)}}static embedVerticalSeparationPattern(e,n,i){for(let c=0;c<7;++c){if(!$e.isEmpty(i.get(e,n+c)))throw new Lt;i.setNumber(e,n+c,0)}}static embedPositionAdjustmentPattern(e,n,i){for(let c=0;c<5;++c){const u=$e.POSITION_ADJUSTMENT_PATTERN[c];for(let f=0;f<5;++f)i.setNumber(e+f,n+c,u[f])}}static embedPositionDetectionPattern(e,n,i){for(let c=0;c<7;++c){const u=$e.POSITION_DETECTION_PATTERN[c];for(let f=0;f<7;++f)i.setNumber(e+f,n+c,u[f])}}static embedPositionDetectionPatternsAndSeparators(e){const n=$e.POSITION_DETECTION_PATTERN[0].length;$e.embedPositionDetectionPattern(0,0,e),$e.embedPositionDetectionPattern(e.getWidth()-n,0,e),$e.embedPositionDetectionPattern(0,e.getWidth()-n,e);const i=8;$e.embedHorizontalSeparationPattern(0,i-1,e),$e.embedHorizontalSeparationPattern(e.getWidth()-i,i-1,e),$e.embedHorizontalSeparationPattern(0,e.getWidth()-i,e);const c=7;$e.embedVerticalSeparationPattern(c,0,e),$e.embedVerticalSeparationPattern(e.getHeight()-c-1,0,e),$e.embedVerticalSeparationPattern(c,e.getHeight()-c,e)}static maybeEmbedPositionAdjustmentPatterns(e,n){if(e.getVersionNumber()<2)return;const i=e.getVersionNumber()-1,c=$e.POSITION_ADJUSTMENT_PATTERN_COORDINATE_TABLE[i];for(let u=0,f=c.length;u!==f;u++){const m=c[u];if(m>=0)for(let y=0;y!==f;y++){const N=c[y];N>=0&&$e.isEmpty(n.get(N,m))&&$e.embedPositionAdjustmentPattern(N-2,m-2,n)}}}}$e.POSITION_DETECTION_PATTERN=Array.from([Int32Array.from([1,1,1,1,1,1,1]),Int32Array.from([1,0,0,0,0,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,0,0,0,0,1]),Int32Array.from([1,1,1,1,1,1,1])]),$e.POSITION_ADJUSTMENT_PATTERN=Array.from([Int32Array.from([1,1,1,1,1]),Int32Array.from([1,0,0,0,1]),Int32Array.from([1,0,1,0,1]),Int32Array.from([1,0,0,0,1]),Int32Array.from([1,1,1,1,1])]),$e.POSITION_ADJUSTMENT_PATTERN_COORDINATE_TABLE=Array.from([Int32Array.from([-1,-1,-1,-1,-1,-1,-1]),Int32Array.from([6,18,-1,-1,-1,-1,-1]),Int32Array.from([6,22,-1,-1,-1,-1,-1]),Int32Array.from([6,26,-1,-1,-1,-1,-1]),Int32Array.from([6,30,-1,-1,-1,-1,-1]),Int32Array.from([6,34,-1,-1,-1,-1,-1]),Int32Array.from([6,22,38,-1,-1,-1,-1]),Int32Array.from([6,24,42,-1,-1,-1,-1]),Int32Array.from([6,26,46,-1,-1,-1,-1]),Int32Array.from([6,28,50,-1,-1,-1,-1]),Int32Array.from([6,30,54,-1,-1,-1,-1]),Int32Array.from([6,32,58,-1,-1,-1,-1]),Int32Array.from([6,34,62,-1,-1,-1,-1]),Int32Array.from([6,26,46,66,-1,-1,-1]),Int32Array.from([6,26,48,70,-1,-1,-1]),Int32Array.from([6,26,50,74,-1,-1,-1]),Int32Array.from([6,30,54,78,-1,-1,-1]),Int32Array.from([6,30,56,82,-1,-1,-1]),Int32Array.from([6,30,58,86,-1,-1,-1]),Int32Array.from([6,34,62,90,-1,-1,-1]),Int32Array.from([6,28,50,72,94,-1,-1]),Int32Array.from([6,26,50,74,98,-1,-1]),Int32Array.from([6,30,54,78,102,-1,-1]),Int32Array.from([6,28,54,80,106,-1,-1]),Int32Array.from([6,32,58,84,110,-1,-1]),Int32Array.from([6,30,58,86,114,-1,-1]),Int32Array.from([6,34,62,90,118,-1,-1]),Int32Array.from([6,26,50,74,98,122,-1]),Int32Array.from([6,30,54,78,102,126,-1]),Int32Array.from([6,26,52,78,104,130,-1]),Int32Array.from([6,30,56,82,108,134,-1]),Int32Array.from([6,34,60,86,112,138,-1]),Int32Array.from([6,30,58,86,114,142,-1]),Int32Array.from([6,34,62,90,118,146,-1]),Int32Array.from([6,30,54,78,102,126,150]),Int32Array.from([6,24,50,76,102,128,154]),Int32Array.from([6,28,54,80,106,132,158]),Int32Array.from([6,32,58,84,110,136,162]),Int32Array.from([6,26,54,82,110,138,166]),Int32Array.from([6,30,58,86,114,142,170])]),$e.TYPE_INFO_COORDINATES=Array.from([Int32Array.from([8,0]),Int32Array.from([8,1]),Int32Array.from([8,2]),Int32Array.from([8,3]),Int32Array.from([8,4]),Int32Array.from([8,5]),Int32Array.from([8,7]),Int32Array.from([8,8]),Int32Array.from([7,8]),Int32Array.from([5,8]),Int32Array.from([4,8]),Int32Array.from([3,8]),Int32Array.from([2,8]),Int32Array.from([1,8]),Int32Array.from([0,8])]),$e.VERSION_INFO_POLY=7973,$e.TYPE_INFO_POLY=1335,$e.TYPE_INFO_MASK_PATTERN=21522;class $u{constructor(e,n){this.dataBytes=e,this.errorCorrectionBytes=n}getDataBytes(){return this.dataBytes}getErrorCorrectionBytes(){return this.errorCorrectionBytes}}class Ut{constructor(){}static calculateMaskPenalty(e){return Zt.applyMaskPenaltyRule1(e)+Zt.applyMaskPenaltyRule2(e)+Zt.applyMaskPenaltyRule3(e)+Zt.applyMaskPenaltyRule4(e)}static encode(e,n,i=null){let c=Ut.DEFAULT_BYTE_MODE_ENCODING;const u=i!==null&&i.get(vn.CHARACTER_SET)!==void 0;u&&(c=i.get(vn.CHARACTER_SET).toString());const f=this.chooseMode(e,c),m=new K;if(f===Qe.BYTE&&(u||Ut.DEFAULT_BYTE_MODE_ENCODING!==c)){const Ne=se.getCharacterSetECIByName(c);Ne!==void 0&&this.appendECI(Ne,m)}this.appendModeInfo(f,m);const y=new K;this.appendBytes(e,f,y,c);let N;if(i!==null&&i.get(vn.QR_VERSION)!==void 0){const Ne=Number.parseInt(i.get(vn.QR_VERSION).toString(),10);N=Ye.getVersionForNumber(Ne);const ye=this.calculateBitsNeeded(f,m,y,N);if(!this.willFit(ye,N,n))throw new Lt("Data too big for requested version")}else N=this.recommendVersion(n,f,m,y);const j=new K;j.appendBitArray(m);const D=f===Qe.BYTE?y.getSizeInBytes():e.length;this.appendLengthInfo(D,N,f,j),j.appendBitArray(y);const k=N.getECBlocksForLevel(n),U=N.getTotalCodewords()-k.getTotalECCodewords();this.terminateBits(U,j);const X=this.interleaveWithECBytes(j,N.getTotalCodewords(),U,k.getNumBlocks()),q=new Ws;q.setECLevel(n),q.setMode(f),q.setVersion(N);const J=N.getDimensionForVersion(),ie=new Lo(J,J),be=this.chooseMaskPattern(X,n,N,ie);return q.setMaskPattern(be),$e.buildMatrix(X,n,N,be,ie),q.setMatrix(ie),q}static recommendVersion(e,n,i,c){const u=this.calculateBitsNeeded(n,i,c,Ye.getVersionForNumber(1)),f=this.chooseVersion(u,e),m=this.calculateBitsNeeded(n,i,c,f);return this.chooseVersion(m,e)}static calculateBitsNeeded(e,n,i,c){return n.getSize()+e.getCharacterCountBits(c)+i.getSize()}static getAlphanumericCode(e){return e<Ut.ALPHANUMERIC_TABLE.length?Ut.ALPHANUMERIC_TABLE[e]:-1}static chooseMode(e,n=null){if(se.SJIS.getName()===n&&this.isOnlyDoubleByteKanji(e))return Qe.KANJI;let i=!1,c=!1;for(let u=0,f=e.length;u<f;++u){const m=e.charAt(u);if(Ut.isDigit(m))i=!0;else if(this.getAlphanumericCode(m.charCodeAt(0))!==-1)c=!0;else return Qe.BYTE}return c?Qe.ALPHANUMERIC:i?Qe.NUMERIC:Qe.BYTE}static isOnlyDoubleByteKanji(e){let n;try{n=je.encode(e,se.SJIS)}catch{return!1}const i=n.length;if(i%2!==0)return!1;for(let c=0;c<i;c+=2){const u=n[c]&255;if((u<129||u>159)&&(u<224||u>235))return!1}return!0}static chooseMaskPattern(e,n,i,c){let u=Number.MAX_SAFE_INTEGER,f=-1;for(let m=0;m<Ws.NUM_MASK_PATTERNS;m++){$e.buildMatrix(e,n,i,m,c);let y=this.calculateMaskPenalty(c);y<u&&(u=y,f=m)}return f}static chooseVersion(e,n){for(let i=1;i<=40;i++){const c=Ye.getVersionForNumber(i);if(Ut.willFit(e,c,n))return c}throw new Lt("Data too big")}static willFit(e,n,i){const c=n.getTotalCodewords(),f=n.getECBlocksForLevel(i).getTotalECCodewords(),m=c-f,y=(e+7)/8;return m>=y}static terminateBits(e,n){const i=e*8;if(n.getSize()>i)throw new Lt("data bits cannot fit in the QR Code"+n.getSize()+" > "+i);for(let f=0;f<4&&n.getSize()<i;++f)n.appendBit(!1);const c=n.getSize()&7;if(c>0)for(let f=c;f<8;f++)n.appendBit(!1);const u=e-n.getSizeInBytes();for(let f=0;f<u;++f)n.appendBits((f&1)===0?236:17,8);if(n.getSize()!==i)throw new Lt("Bits size does not equal capacity")}static getNumDataBytesAndNumECBytesForBlockID(e,n,i,c,u,f){if(c>=i)throw new Lt("Block ID too large");const m=e%i,y=i-m,N=Math.floor(e/i),j=N+1,D=Math.floor(n/i),k=D+1,U=N-D,X=j-k;if(U!==X)throw new Lt("EC bytes mismatch");if(i!==y+m)throw new Lt("RS blocks mismatch");if(e!==(D+U)*y+(k+X)*m)throw new Lt("Total bytes mismatch");c<y?(u[0]=D,f[0]=U):(u[0]=k,f[0]=X)}static interleaveWithECBytes(e,n,i,c){if(e.getSizeInBytes()!==i)throw new Lt("Number of bits and data bytes does not match");let u=0,f=0,m=0;const y=new Array;for(let j=0;j<c;++j){const D=new Int32Array(1),k=new Int32Array(1);Ut.getNumDataBytesAndNumECBytesForBlockID(n,i,c,j,D,k);const U=D[0],X=new Uint8Array(U);e.toBytes(8*u,X,0,U);const q=Ut.generateECBytes(X,k[0]);y.push(new $u(X,q)),f=Math.max(f,U),m=Math.max(m,q.length),u+=D[0]}if(i!==u)throw new Lt("Data bytes does not match offset");const N=new K;for(let j=0;j<f;++j)for(const D of y){const k=D.getDataBytes();j<k.length&&N.appendBits(k[j],8)}for(let j=0;j<m;++j)for(const D of y){const k=D.getErrorCorrectionBytes();j<k.length&&N.appendBits(k[j],8)}if(n!==N.getSizeInBytes())throw new Lt("Interleaving error: "+n+" and "+N.getSizeInBytes()+" differ.");return N}static generateECBytes(e,n){const i=e.length,c=new Int32Array(i+n);for(let f=0;f<i;f++)c[f]=e[f]&255;new Va(it.QR_CODE_FIELD_256).encode(c,n);const u=new Uint8Array(n);for(let f=0;f<n;f++)u[f]=c[i+f];return u}static appendModeInfo(e,n){n.appendBits(e.getBits(),4)}static appendLengthInfo(e,n,i,c){const u=i.getCharacterCountBits(n);if(e>=1<<u)throw new Lt(e+" is bigger than "+((1<<u)-1));c.appendBits(e,u)}static appendBytes(e,n,i,c){switch(n){case Qe.NUMERIC:Ut.appendNumericBytes(e,i);break;case Qe.ALPHANUMERIC:Ut.appendAlphanumericBytes(e,i);break;case Qe.BYTE:Ut.append8BitBytes(e,i,c);break;case Qe.KANJI:Ut.appendKanjiBytes(e,i);break;default:throw new Lt("Invalid mode: "+n)}}static getDigit(e){return e.charCodeAt(0)-48}static isDigit(e){const n=Ut.getDigit(e);return n>=0&&n<=9}static appendNumericBytes(e,n){const i=e.length;let c=0;for(;c<i;){const u=Ut.getDigit(e.charAt(c));if(c+2<i){const f=Ut.getDigit(e.charAt(c+1)),m=Ut.getDigit(e.charAt(c+2));n.appendBits(u*100+f*10+m,10),c+=3}else if(c+1<i){const f=Ut.getDigit(e.charAt(c+1));n.appendBits(u*10+f,7),c+=2}else n.appendBits(u,4),c++}}static appendAlphanumericBytes(e,n){const i=e.length;let c=0;for(;c<i;){const u=Ut.getAlphanumericCode(e.charCodeAt(c));if(u===-1)throw new Lt;if(c+1<i){const f=Ut.getAlphanumericCode(e.charCodeAt(c+1));if(f===-1)throw new Lt;n.appendBits(u*45+f,11),c+=2}else n.appendBits(u,6),c++}}static append8BitBytes(e,n,i){let c;try{c=je.encode(e,i)}catch(u){throw new Lt(u)}for(let u=0,f=c.length;u!==f;u++){const m=c[u];n.appendBits(m,8)}}static appendKanjiBytes(e,n){let i;try{i=je.encode(e,se.SJIS)}catch(u){throw new Lt(u)}const c=i.length;for(let u=0;u<c;u+=2){const f=i[u]&255,m=i[u+1]&255,y=f<<8&4294967295|m;let N=-1;if(y>=33088&&y<=40956?N=y-33088:y>=57408&&y<=60351&&(N=y-49472),N===-1)throw new Lt("Invalid byte sequence");const j=(N>>8)*192+(N&255);n.appendBits(j,13)}}static appendECI(e,n){n.appendBits(Qe.ECI.getBits(),4),n.appendBits(e.getValue(),8)}}Ut.ALPHANUMERIC_TABLE=Int32Array.from([-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,36,-1,-1,-1,37,38,-1,-1,-1,-1,39,40,-1,41,42,43,0,1,2,3,4,5,6,7,8,9,44,-1,-1,-1,-1,-1,-1,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,-1,-1,-1,-1,-1]),Ut.DEFAULT_BYTE_MODE_ENCODING=se.UTF8.getName();class Gs{write(e,n,i,c=null){if(e.length===0)throw new A("Found empty contents");if(n<0||i<0)throw new A("Requested dimensions are too small: "+n+"x"+i);let u=kt.L,f=Gs.QUIET_ZONE_SIZE;c!==null&&(c.get(vn.ERROR_CORRECTION)!==void 0&&(u=kt.fromString(c.get(vn.ERROR_CORRECTION).toString())),c.get(vn.MARGIN)!==void 0&&(f=Number.parseInt(c.get(vn.MARGIN).toString(),10)));const m=Ut.encode(e,u,c);return this.renderResult(m,n,i,f)}writeToDom(e,n,i,c,u=null){typeof e=="string"&&(e=document.querySelector(e));const f=this.write(n,i,c,u);e&&e.appendChild(f)}renderResult(e,n,i,c){const u=e.getMatrix();if(u===null)throw new Kn;const f=u.getWidth(),m=u.getHeight(),y=f+c*2,N=m+c*2,j=Math.max(n,y),D=Math.max(i,N),k=Math.min(Math.floor(j/y),Math.floor(D/N)),U=Math.floor((j-f*k)/2),X=Math.floor((D-m*k)/2),q=this.createSVGElement(j,D);for(let J=0,ie=X;J<m;J++,ie+=k)for(let be=0,Ne=U;be<f;be++,Ne+=k)if(u.get(be,J)===1){const ye=this.createSvgRectElement(Ne,ie,k,k);q.appendChild(ye)}return q}createSVGElement(e,n){const i=document.createElementNS(Gs.SVG_NS,"svg");return i.setAttributeNS(null,"height",e.toString()),i.setAttributeNS(null,"width",n.toString()),i}createSvgRectElement(e,n,i,c){const u=document.createElementNS(Gs.SVG_NS,"rect");return u.setAttributeNS(null,"x",e.toString()),u.setAttributeNS(null,"y",n.toString()),u.setAttributeNS(null,"height",i.toString()),u.setAttributeNS(null,"width",c.toString()),u.setAttributeNS(null,"fill","#000000"),u}}Gs.QUIET_ZONE_SIZE=4,Gs.SVG_NS="http://www.w3.org/2000/svg";class xi{encode(e,n,i,c,u){if(e.length===0)throw new A("Found empty contents");if(n!==Se.QR_CODE)throw new A("Can only encode QR_CODE, but got "+n);if(i<0||c<0)throw new A(`Requested dimensions are too small: ${i}x${c}`);let f=kt.L,m=xi.QUIET_ZONE_SIZE;u!==null&&(u.get(vn.ERROR_CORRECTION)!==void 0&&(f=kt.fromString(u.get(vn.ERROR_CORRECTION).toString())),u.get(vn.MARGIN)!==void 0&&(m=Number.parseInt(u.get(vn.MARGIN).toString(),10)));const y=Ut.encode(e,f,u);return xi.renderResult(y,i,c,m)}static renderResult(e,n,i,c){const u=e.getMatrix();if(u===null)throw new Kn;const f=u.getWidth(),m=u.getHeight(),y=f+c*2,N=m+c*2,j=Math.max(n,y),D=Math.max(i,N),k=Math.min(Math.floor(j/y),Math.floor(D/N)),U=Math.floor((j-f*k)/2),X=Math.floor((D-m*k)/2),q=new he(j,D);for(let J=0,ie=X;J<m;J++,ie+=k)for(let be=0,Ne=U;be<f;be++,Ne+=k)u.get(be,J)===1&&q.setRegion(Ne,ie,k,k);return q}}xi.QUIET_ZONE_SIZE=4;class Ju{encode(e,n,i,c,u){let f;switch(n){case Se.QR_CODE:f=new xi;break;default:throw new A("No encoder available for format "+n)}return f.encode(e,n,i,c,u)}}class Jr extends ce{constructor(e,n,i,c,u,f,m,y){if(super(f,m),this.yuvData=e,this.dataWidth=n,this.dataHeight=i,this.left=c,this.top=u,c+f>n||u+m>i)throw new A("Crop rectangle does not fit within image data.");y&&this.reverseHorizontal(f,m)}getRow(e,n){if(e<0||e>=this.getHeight())throw new A("Requested row is outside the image: "+e);const i=this.getWidth();(n==null||n.length<i)&&(n=new Uint8ClampedArray(i));const c=(e+this.top)*this.dataWidth+this.left;return R.arraycopy(this.yuvData,c,n,0,i),n}getMatrix(){const e=this.getWidth(),n=this.getHeight();if(e===this.dataWidth&&n===this.dataHeight)return this.yuvData;const i=e*n,c=new Uint8ClampedArray(i);let u=this.top*this.dataWidth+this.left;if(e===this.dataWidth)return R.arraycopy(this.yuvData,u,c,0,i),c;for(let f=0;f<n;f++){const m=f*e;R.arraycopy(this.yuvData,u,c,m,e),u+=this.dataWidth}return c}isCropSupported(){return!0}crop(e,n,i,c){return new Jr(this.yuvData,this.dataWidth,this.dataHeight,this.left+e,this.top+n,i,c,!1)}renderThumbnail(){const e=this.getWidth()/Jr.THUMBNAIL_SCALE_FACTOR,n=this.getHeight()/Jr.THUMBNAIL_SCALE_FACTOR,i=new Int32Array(e*n),c=this.yuvData;let u=this.top*this.dataWidth+this.left;for(let f=0;f<n;f++){const m=f*e;for(let y=0;y<e;y++){const N=c[u+y*Jr.THUMBNAIL_SCALE_FACTOR]&255;i[m+y]=4278190080|N*65793}u+=this.dataWidth*Jr.THUMBNAIL_SCALE_FACTOR}return i}getThumbnailWidth(){return this.getWidth()/Jr.THUMBNAIL_SCALE_FACTOR}getThumbnailHeight(){return this.getHeight()/Jr.THUMBNAIL_SCALE_FACTOR}reverseHorizontal(e,n){const i=this.yuvData;for(let c=0,u=this.top*this.dataWidth+this.left;c<n;c++,u+=this.dataWidth){const f=u+e/2;for(let m=u,y=u+e-1;m<f;m++,y--){const N=i[m];i[m]=i[y],i[y]=N}}}invert(){return new ve(this)}}Jr.THUMBNAIL_SCALE_FACTOR=2;class Ji extends ce{constructor(e,n,i,c,u,f,m){if(super(n,i),this.dataWidth=c,this.dataHeight=u,this.left=f,this.top=m,e.BYTES_PER_ELEMENT===4){const y=n*i,N=new Uint8ClampedArray(y);for(let j=0;j<y;j++){const D=e[j],k=D>>16&255,U=D>>7&510,X=D&255;N[j]=(k+U+X)/4&255}this.luminances=N}else this.luminances=e;if(c===void 0&&(this.dataWidth=n),u===void 0&&(this.dataHeight=i),f===void 0&&(this.left=0),m===void 0&&(this.top=0),this.left+n>this.dataWidth||this.top+i>this.dataHeight)throw new A("Crop rectangle does not fit within image data.")}getRow(e,n){if(e<0||e>=this.getHeight())throw new A("Requested row is outside the image: "+e);const i=this.getWidth();(n==null||n.length<i)&&(n=new Uint8ClampedArray(i));const c=(e+this.top)*this.dataWidth+this.left;return R.arraycopy(this.luminances,c,n,0,i),n}getMatrix(){const e=this.getWidth(),n=this.getHeight();if(e===this.dataWidth&&n===this.dataHeight)return this.luminances;const i=e*n,c=new Uint8ClampedArray(i);let u=this.top*this.dataWidth+this.left;if(e===this.dataWidth)return R.arraycopy(this.luminances,u,c,0,i),c;for(let f=0;f<n;f++){const m=f*e;R.arraycopy(this.luminances,u,c,m,e),u+=this.dataWidth}return c}isCropSupported(){return!0}crop(e,n,i,c){return new Ji(this.luminances,i,c,this.dataWidth,this.dataHeight,this.left+e,this.top+n)}invert(){return new ve(this)}}class Jl extends se{static forName(e){return this.getCharacterSetECIByName(e)}}class za{}za.ISO_8859_1=se.ISO8859_1;class ec{isCompact(){return this.compact}setCompact(e){this.compact=e}getSize(){return this.size}setSize(e){this.size=e}getLayers(){return this.layers}setLayers(e){this.layers=e}getCodeWords(){return this.codeWords}setCodeWords(e){this.codeWords=e}getMatrix(){return this.matrix}setMatrix(e){this.matrix=e}}class Wa{static singletonList(e){return[e]}static min(e,n){return e.sort(n)[0]}}class ed{constructor(e){this.previous=e}getPrevious(){return this.previous}}class gi extends ed{constructor(e,n,i){super(e),this.value=n,this.bitCount=i}appendTo(e,n){e.appendBits(this.value,this.bitCount)}add(e,n){return new gi(this,e,n)}addBinaryShift(e,n){return console.warn("addBinaryShift on SimpleToken, this simply returns a copy of this token"),new gi(this,e,n)}toString(){let e=this.value&(1<<this.bitCount)-1;return e|=1<<this.bitCount,"<"+V.toBinaryString(e|1<<this.bitCount).substring(1)+">"}}class Ga extends gi{constructor(e,n,i){super(e,0,0),this.binaryShiftStart=n,this.binaryShiftByteCount=i}appendTo(e,n){for(let i=0;i<this.binaryShiftByteCount;i++)(i===0||i===31&&this.binaryShiftByteCount<=62)&&(e.appendBits(31,5),this.binaryShiftByteCount>62?e.appendBits(this.binaryShiftByteCount-31,16):i===0?e.appendBits(Math.min(this.binaryShiftByteCount,31),5):e.appendBits(this.binaryShiftByteCount-31,5)),e.appendBits(n[this.binaryShiftStart+i],8)}addBinaryShift(e,n){return new Ga(this,e,n)}toString(){return"<"+this.binaryShiftStart+"::"+(this.binaryShiftStart+this.binaryShiftByteCount-1)+">"}}function td(_,e,n){return new Ga(_,e,n)}function eo(_,e,n){return new gi(_,e,n)}const nd=["UPPER","LOWER","DIGIT","MIXED","PUNCT"],Is=0,yi=1,Un=2,tc=3,Br=4,nc=new gi(null,0,0),Fo=[Int32Array.from([0,(5<<16)+28,(5<<16)+30,(5<<16)+29,656318]),Int32Array.from([(9<<16)+480+14,0,(5<<16)+30,(5<<16)+29,656318]),Int32Array.from([(4<<16)+14,(9<<16)+448+28,0,(9<<16)+448+29,932798]),Int32Array.from([(5<<16)+29,(5<<16)+28,656318,0,(5<<16)+30]),Int32Array.from([(5<<16)+31,656380,656382,656381,0])];function rc(_){for(let e of _)H.fill(e,-1);return _[Is][Br]=0,_[yi][Br]=0,_[yi][Is]=28,_[tc][Br]=0,_[Un][Br]=0,_[Un][Is]=15,_}const Xa=rc(H.createInt32Array(6,6));class Qn{constructor(e,n,i,c){this.token=e,this.mode=n,this.binaryShiftByteCount=i,this.bitCount=c}getMode(){return this.mode}getToken(){return this.token}getBinaryShiftByteCount(){return this.binaryShiftByteCount}getBitCount(){return this.bitCount}latchAndAppend(e,n){let i=this.bitCount,c=this.token;if(e!==this.mode){let f=Fo[this.mode][e];c=eo(c,f&65535,f>>16),i+=f>>16}let u=e===Un?4:5;return c=eo(c,n,u),new Qn(c,e,0,i+u)}shiftAndAppend(e,n){let i=this.token,c=this.mode===Un?4:5;return i=eo(i,Xa[this.mode][e],c),i=eo(i,n,5),new Qn(i,this.mode,0,this.bitCount+c+5)}addBinaryShiftChar(e){let n=this.token,i=this.mode,c=this.bitCount;if(this.mode===Br||this.mode===Un){let m=Fo[i][Is];n=eo(n,m&65535,m>>16),c+=m>>16,i=Is}let u=this.binaryShiftByteCount===0||this.binaryShiftByteCount===31?18:this.binaryShiftByteCount===62?9:8,f=new Qn(n,i,this.binaryShiftByteCount+1,c+u);return f.binaryShiftByteCount===2078&&(f=f.endBinaryShift(e+1)),f}endBinaryShift(e){if(this.binaryShiftByteCount===0)return this;let n=this.token;return n=td(n,e-this.binaryShiftByteCount,this.binaryShiftByteCount),new Qn(n,this.mode,0,this.bitCount)}isBetterThanOrEqualTo(e){let n=this.bitCount+(Fo[this.mode][e.mode]>>16);return this.binaryShiftByteCount<e.binaryShiftByteCount?n+=Qn.calculateBinaryShiftCost(e)-Qn.calculateBinaryShiftCost(this):this.binaryShiftByteCount>e.binaryShiftByteCount&&e.binaryShiftByteCount>0&&(n+=10),n<=e.bitCount}toBitArray(e){let n=[];for(let c=this.endBinaryShift(e.length).token;c!==null;c=c.getPrevious())n.unshift(c);let i=new K;for(const c of n)c.appendTo(i,e);return i}toString(){return de.format("%s bits=%d bytes=%d",nd[this.mode],this.bitCount,this.binaryShiftByteCount)}static calculateBinaryShiftCost(e){return e.binaryShiftByteCount>62?21:e.binaryShiftByteCount>31?20:e.binaryShiftByteCount>0?10:0}}Qn.INITIAL_STATE=new Qn(nc,Is,0,0);function rd(_){const e=de.getCharCode(" "),n=de.getCharCode("."),i=de.getCharCode(",");_[Is][e]=1;const c=de.getCharCode("Z"),u=de.getCharCode("A");for(let k=u;k<=c;k++)_[Is][k]=k-u+2;_[yi][e]=1;const f=de.getCharCode("z"),m=de.getCharCode("a");for(let k=m;k<=f;k++)_[yi][k]=k-m+2;_[Un][e]=1;const y=de.getCharCode("9"),N=de.getCharCode("0");for(let k=N;k<=y;k++)_[Un][k]=k-N+2;_[Un][i]=12,_[Un][n]=13;const j=["\0"," ","","","","","","","\x07","\b","	",`
`,"\v","\f","\r","\x1B","","","","","@","\\","^","_","`","|","~",""];for(let k=0;k<j.length;k++)_[tc][de.getCharCode(j[k])]=k;const D=["\0","\r","\0","\0","\0","\0","!","'","#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","[","]","{","}"];for(let k=0;k<D.length;k++)de.getCharCode(D[k])>0&&(_[Br][de.getCharCode(D[k])]=k);return _}const Ka=rd(H.createInt32Array(5,256));class to{constructor(e){this.text=e}encode(){const e=de.getCharCode(" "),n=de.getCharCode(`
`);let i=Wa.singletonList(Qn.INITIAL_STATE);for(let u=0;u<this.text.length;u++){let f,m=u+1<this.text.length?this.text[u+1]:0;switch(this.text[u]){case de.getCharCode("\r"):f=m===n?2:0;break;case de.getCharCode("."):f=m===e?3:0;break;case de.getCharCode(","):f=m===e?4:0;break;case de.getCharCode(":"):f=m===e?5:0;break;default:f=0}f>0?(i=to.updateStateListForPair(i,u,f),u++):i=this.updateStateListForChar(i,u)}return Wa.min(i,(u,f)=>u.getBitCount()-f.getBitCount()).toBitArray(this.text)}updateStateListForChar(e,n){const i=[];for(let c of e)this.updateStateForChar(c,n,i);return to.simplifyStates(i)}updateStateForChar(e,n,i){let c=this.text[n]&255,u=Ka[e.getMode()][c]>0,f=null;for(let m=0;m<=Br;m++){let y=Ka[m][c];if(y>0){if(f==null&&(f=e.endBinaryShift(n)),!u||m===e.getMode()||m===Un){const N=f.latchAndAppend(m,y);i.push(N)}if(!u&&Xa[e.getMode()][m]>=0){const N=f.shiftAndAppend(m,y);i.push(N)}}}if(e.getBinaryShiftByteCount()>0||Ka[e.getMode()][c]===0){let m=e.addBinaryShiftChar(n);i.push(m)}}static updateStateListForPair(e,n,i){const c=[];for(let u of e)this.updateStateForPair(u,n,i,c);return this.simplifyStates(c)}static updateStateForPair(e,n,i,c){let u=e.endBinaryShift(n);if(c.push(u.latchAndAppend(Br,i)),e.getMode()!==Br&&c.push(u.shiftAndAppend(Br,i)),i===3||i===4){let f=u.latchAndAppend(Un,16-i).latchAndAppend(Un,1);c.push(f)}if(e.getBinaryShiftByteCount()>0){let f=e.addBinaryShiftChar(n).addBinaryShiftChar(n+1);c.push(f)}}static simplifyStates(e){let n=[];for(const i of e){let c=!0;for(const u of n){if(u.isBetterThanOrEqualTo(i)){c=!1;break}i.isBetterThanOrEqualTo(u)&&(n=n.filter(f=>f!==u))}c&&n.push(i)}return n}}class At{constructor(){}static encodeBytes(e){return At.encode(e,At.DEFAULT_EC_PERCENT,At.DEFAULT_AZTEC_LAYERS)}static encode(e,n,i){let c=new to(e).encode(),u=V.truncDivision(c.getSize()*n,100)+11,f=c.getSize()+u,m,y,N,j,D;if(i!==At.DEFAULT_AZTEC_LAYERS){if(m=i<0,y=Math.abs(i),y>(m?At.MAX_NB_BITS_COMPACT:At.MAX_NB_BITS))throw new A(de.format("Illegal value %s for layers",i));N=At.totalBitsInLayer(y,m),j=At.WORD_SIZE[y];let ye=N-N%j;if(D=At.stuffBits(c,j),D.getSize()+u>ye)throw new A("Data to large for user specified layer");if(m&&D.getSize()>j*64)throw new A("Data to large for user specified layer")}else{j=0,D=null;for(let ye=0;;ye++){if(ye>At.MAX_NB_BITS)throw new A("Data too large for an Aztec code");if(m=ye<=3,y=m?ye+1:ye,N=At.totalBitsInLayer(y,m),f>N)continue;(D==null||j!==At.WORD_SIZE[y])&&(j=At.WORD_SIZE[y],D=At.stuffBits(c,j));let vt=N-N%j;if(!(m&&D.getSize()>j*64)&&D.getSize()+u<=vt)break}}let k=At.generateCheckWords(D,N,j),U=D.getSize()/j,X=At.generateModeMessage(m,y,U),q=(m?11:14)+y*4,J=new Int32Array(q),ie;if(m){ie=q;for(let ye=0;ye<J.length;ye++)J[ye]=ye}else{ie=q+1+2*V.truncDivision(V.truncDivision(q,2)-1,15);let ye=V.truncDivision(q,2),vt=V.truncDivision(ie,2);for(let ut=0;ut<ye;ut++){let ir=ut+V.truncDivision(ut,15);J[ye-ut-1]=vt-ir-1,J[ye+ut]=vt+ir+1}}let be=new he(ie);for(let ye=0,vt=0;ye<y;ye++){let ut=(y-ye)*4+(m?9:12);for(let ir=0;ir<ut;ir++){let Ur=ir*2;for(let Cn=0;Cn<2;Cn++)k.get(vt+Ur+Cn)&&be.set(J[ye*2+Cn],J[ye*2+ir]),k.get(vt+ut*2+Ur+Cn)&&be.set(J[ye*2+ir],J[q-1-ye*2-Cn]),k.get(vt+ut*4+Ur+Cn)&&be.set(J[q-1-ye*2-Cn],J[q-1-ye*2-ir]),k.get(vt+ut*6+Ur+Cn)&&be.set(J[q-1-ye*2-ir],J[ye*2+Cn])}vt+=ut*8}if(At.drawModeMessage(be,m,ie,X),m)At.drawBullsEye(be,V.truncDivision(ie,2),5);else{At.drawBullsEye(be,V.truncDivision(ie,2),7);for(let ye=0,vt=0;ye<V.truncDivision(q,2)-1;ye+=15,vt+=16)for(let ut=V.truncDivision(ie,2)&1;ut<ie;ut+=2)be.set(V.truncDivision(ie,2)-vt,ut),be.set(V.truncDivision(ie,2)+vt,ut),be.set(ut,V.truncDivision(ie,2)-vt),be.set(ut,V.truncDivision(ie,2)+vt)}let Ne=new ec;return Ne.setCompact(m),Ne.setSize(ie),Ne.setLayers(y),Ne.setCodeWords(U),Ne.setMatrix(be),Ne}static drawBullsEye(e,n,i){for(let c=0;c<i;c+=2)for(let u=n-c;u<=n+c;u++)e.set(u,n-c),e.set(u,n+c),e.set(n-c,u),e.set(n+c,u);e.set(n-i,n-i),e.set(n-i+1,n-i),e.set(n-i,n-i+1),e.set(n+i,n-i),e.set(n+i,n-i+1),e.set(n+i,n+i-1)}static generateModeMessage(e,n,i){let c=new K;return e?(c.appendBits(n-1,2),c.appendBits(i-1,6),c=At.generateCheckWords(c,28,4)):(c.appendBits(n-1,5),c.appendBits(i-1,11),c=At.generateCheckWords(c,40,4)),c}static drawModeMessage(e,n,i,c){let u=V.truncDivision(i,2);if(n)for(let f=0;f<7;f++){let m=u-3+f;c.get(f)&&e.set(m,u-5),c.get(f+7)&&e.set(u+5,m),c.get(20-f)&&e.set(m,u+5),c.get(27-f)&&e.set(u-5,m)}else for(let f=0;f<10;f++){let m=u-5+f+V.truncDivision(f,5);c.get(f)&&e.set(m,u-7),c.get(f+10)&&e.set(u+7,m),c.get(29-f)&&e.set(m,u+7),c.get(39-f)&&e.set(u-7,m)}}static generateCheckWords(e,n,i){let c=e.getSize()/i,u=new Va(At.getGF(i)),f=V.truncDivision(n,i),m=At.bitsToWords(e,i,f);u.encode(m,f-c);let y=n%i,N=new K;N.appendBits(0,y);for(const j of Array.from(m))N.appendBits(j,i);return N}static bitsToWords(e,n,i){let c=new Int32Array(i),u,f;for(u=0,f=e.getSize()/n;u<f;u++){let m=0;for(let y=0;y<n;y++)m|=e.get(u*n+y)?1<<n-y-1:0;c[u]=m}return c}static getGF(e){switch(e){case 4:return it.AZTEC_PARAM;case 6:return it.AZTEC_DATA_6;case 8:return it.AZTEC_DATA_8;case 10:return it.AZTEC_DATA_10;case 12:return it.AZTEC_DATA_12;default:throw new A("Unsupported word size "+e)}}static stuffBits(e,n){let i=new K,c=e.getSize(),u=(1<<n)-2;for(let f=0;f<c;f+=n){let m=0;for(let y=0;y<n;y++)(f+y>=c||e.get(f+y))&&(m|=1<<n-1-y);(m&u)===u?(i.appendBits(m&u,n),f--):(m&u)===0?(i.appendBits(m|1,n),f--):i.appendBits(m,n)}return i}static totalBitsInLayer(e,n){return((n?88:112)+16*e)*e}}At.DEFAULT_EC_PERCENT=33,At.DEFAULT_AZTEC_LAYERS=0,At.MAX_NB_BITS=32,At.MAX_NB_BITS_COMPACT=4,At.WORD_SIZE=Int32Array.from([4,6,6,8,8,8,8,8,8,10,10,10,10,10,10,10,10,10,10,10,10,10,10,12,12,12,12,12,12,12,12,12,12]);class no{encode(e,n,i,c){return this.encodeWithHints(e,n,i,c,null)}encodeWithHints(e,n,i,c,u){let f=za.ISO_8859_1,m=At.DEFAULT_EC_PERCENT,y=At.DEFAULT_AZTEC_LAYERS;return u!=null&&(u.has(vn.CHARACTER_SET)&&(f=Jl.forName(u.get(vn.CHARACTER_SET).toString())),u.has(vn.ERROR_CORRECTION)&&(m=V.parseInt(u.get(vn.ERROR_CORRECTION).toString())),u.has(vn.AZTEC_LAYERS)&&(y=V.parseInt(u.get(vn.AZTEC_LAYERS).toString()))),no.encodeLayers(e,n,i,c,f,m,y)}static encodeLayers(e,n,i,c,u,f,m){if(n!==Se.AZTEC)throw new A("Can only encode AZTEC, but got "+n);let y=At.encode(de.getBytes(e,u),f,m);return no.renderResult(y,i,c)}static renderResult(e,n,i){let c=e.getMatrix();if(c==null)throw new Kn;let u=c.getWidth(),f=c.getHeight(),m=Math.max(n,u),y=Math.max(i,f),N=Math.min(m/u,y/f),j=(m-u*N)/2,D=(y-f*N)/2,k=new he(m,y);for(let U=0,X=D;U<f;U++,X+=N)for(let q=0,J=j;q<u;q++,J+=N)c.get(q,U)&&k.setRegion(J,X,N,N);return k}}l.AbstractExpandedDecoder=_a,l.ArgumentException=b,l.ArithmeticException=Bt,l.AztecCode=ec,l.AztecCodeReader=bs,l.AztecCodeWriter=no,l.AztecDecoder=Pt,l.AztecDetector=li,l.AztecDetectorResult=Ia,l.AztecEncoder=At,l.AztecHighLevelEncoder=to,l.AztecPoint=Fn,l.BarcodeFormat=Se,l.Binarizer=F,l.BinaryBitmap=O,l.BitArray=K,l.BitMatrix=he,l.BitSource=ka,l.BrowserAztecCodeReader=Qu,l.BrowserBarcodeReader=Xl,l.BrowserCodeReader=Ge,l.BrowserDatamatrixCodeReader=Zu,l.BrowserMultiFormatReader=$i,l.BrowserPDF417Reader=Po,l.BrowserQRCodeReader=$l,l.BrowserQRCodeSvgWriter=Gs,l.CharacterSetECI=se,l.ChecksumException=P,l.Code128Reader=Te,l.Code39Reader=yn,l.DataMatrixDecodedBitStreamParser=Pr,l.DataMatrixReader=Lr,l.DecodeHintType=le,l.DecoderResult=lt,l.DefaultGridSampler=To,l.DetectorResult=ai,l.EAN13Reader=Cr,l.EncodeHintType=vn,l.Exception=w,l.FormatException=Q,l.GenericGF=it,l.GenericGFPoly=mt,l.GlobalHistogramBinarizer=xe,l.GridSampler=Io,l.GridSamplerInstance=Dr,l.HTMLCanvasElementLuminanceSource=Ce,l.HybridBinarizer=me,l.ITFReader=Ot,l.IllegalArgumentException=A,l.IllegalStateException=Kn,l.InvertedLuminanceSource=ve,l.LuminanceSource=ce,l.MathUtils=bt,l.MultiFormatOneDReader=ui,l.MultiFormatReader=ko,l.MultiFormatWriter=Ju,l.NotFoundException=W,l.OneDReader=cn,l.PDF417DecodedBitStreamParser=oe,l.PDF417DecoderErrorCorrection=Fa,l.PDF417Reader=On,l.PDF417ResultMetadata=Do,l.PerspectiveTransform=vr,l.PlanarYUVLuminanceSource=Jr,l.QRCodeByteMatrix=Lo,l.QRCodeDataMask=yt,l.QRCodeDecodedBitStreamParser=Qt,l.QRCodeDecoderErrorCorrectionLevel=kt,l.QRCodeDecoderFormatInformation=Tn,l.QRCodeEncoder=Ut,l.QRCodeEncoderQRCode=Ws,l.QRCodeMaskUtil=Zt,l.QRCodeMatrixUtil=$e,l.QRCodeMode=Qe,l.QRCodeReader=qn,l.QRCodeVersion=Ye,l.QRCodeWriter=xi,l.RGBLuminanceSource=Ji,l.RSS14Reader=Gt,l.RSSExpandedReader=pe,l.ReaderException=pi,l.ReedSolomonDecoder=Kr,l.ReedSolomonEncoder=Va,l.ReedSolomonException=Ln,l.Result=Be,l.ResultMetadataType=Me,l.ResultPoint=Fe,l.StringUtils=de,l.UnsupportedOperationException=Le,l.VideoInputDevice=Z,l.WhiteRectangleDetector=Yr,l.WriterException=Lt,l.ZXingArrays=H,l.ZXingCharset=Jl,l.ZXingInteger=V,l.ZXingStandardCharsets=za,l.ZXingStringBuilder=Ie,l.ZXingStringEncoding=je,l.ZXingSystem=R,l.createAbstractExpandedDecoder=Wl,Object.defineProperty(l,"__esModule",{value:!0})}))})(wl,wl.exports)),wl.exports}var rn=IA();const TA=Eh(rn),jA=Cp({__proto__:null,default:TA},[rn]);var mp=(function(){function r(a,l,d){if(this.formatMap=new Map([[Ue.QR_CODE,rn.BarcodeFormat.QR_CODE],[Ue.AZTEC,rn.BarcodeFormat.AZTEC],[Ue.CODABAR,rn.BarcodeFormat.CODABAR],[Ue.CODE_39,rn.BarcodeFormat.CODE_39],[Ue.CODE_93,rn.BarcodeFormat.CODE_93],[Ue.CODE_128,rn.BarcodeFormat.CODE_128],[Ue.DATA_MATRIX,rn.BarcodeFormat.DATA_MATRIX],[Ue.MAXICODE,rn.BarcodeFormat.MAXICODE],[Ue.ITF,rn.BarcodeFormat.ITF],[Ue.EAN_13,rn.BarcodeFormat.EAN_13],[Ue.EAN_8,rn.BarcodeFormat.EAN_8],[Ue.PDF_417,rn.BarcodeFormat.PDF_417],[Ue.RSS_14,rn.BarcodeFormat.RSS_14],[Ue.RSS_EXPANDED,rn.BarcodeFormat.RSS_EXPANDED],[Ue.UPC_A,rn.BarcodeFormat.UPC_A],[Ue.UPC_E,rn.BarcodeFormat.UPC_E],[Ue.UPC_EAN_EXTENSION,rn.BarcodeFormat.UPC_EAN_EXTENSION]]),this.reverseFormatMap=this.createReverseFormatMap(),!jA)throw"Use html5qrcode.min.js without edit, ZXing not found.";this.verbose=l,this.logger=d;var p=this.createZXingFormats(a),x=new Map;x.set(rn.DecodeHintType.POSSIBLE_FORMATS,p),x.set(rn.DecodeHintType.TRY_HARDER,!1),this.hints=x}return r.prototype.decodeAsync=function(a){var l=this;return new Promise(function(d,p){try{d(l.decode(a))}catch(x){p(x)}})},r.prototype.decode=function(a){var l=new rn.MultiFormatReader(this.verbose,this.hints),d=new rn.HTMLCanvasElementLuminanceSource(a),p=new rn.BinaryBitmap(new rn.HybridBinarizer(d)),x=l.decode(p);return{text:x.text,format:qy.create(this.toHtml5QrcodeSupportedFormats(x.format)),debugData:this.createDebugData()}},r.prototype.createReverseFormatMap=function(){var a=new Map;return this.formatMap.forEach(function(l,d,p){a.set(l,d)}),a},r.prototype.toHtml5QrcodeSupportedFormats=function(a){if(!this.reverseFormatMap.has(a))throw"reverseFormatMap doesn't have ".concat(a);return this.reverseFormatMap.get(a)},r.prototype.createZXingFormats=function(a){for(var l=[],d=0,p=a;d<p.length;d++){var x=p[d];this.formatMap.has(x)?l.push(this.formatMap.get(x)):this.logger.logError("".concat(x," is not supported by")+"ZXingHtml5QrcodeShim")}return l},r.prototype.createDebugData=function(){return{decoderName:"zxing-js"}},r})(),RA=function(r,a,l,d){function p(x){return x instanceof l?x:new l(function(E){E(x)})}return new(l||(l=Promise))(function(x,E){function C(b){try{w(d.next(b))}catch(A){E(A)}}function v(b){try{w(d.throw(b))}catch(A){E(A)}}function w(b){b.done?x(b.value):p(b.value).then(C,v)}w((d=d.apply(r,a||[])).next())})},OA=function(r,a){var l={label:0,sent:function(){if(x[0]&1)throw x[1];return x[1]},trys:[],ops:[]},d,p,x,E;return E={next:C(0),throw:C(1),return:C(2)},typeof Symbol=="function"&&(E[Symbol.iterator]=function(){return this}),E;function C(w){return function(b){return v([w,b])}}function v(w){if(d)throw new TypeError("Generator is already executing.");for(;E&&(E=0,w[0]&&(l=0)),l;)try{if(d=1,p&&(x=w[0]&2?p.return:w[0]?p.throw||((x=p.return)&&x.call(p),0):p.next)&&!(x=x.call(p,w[1])).done)return x;switch(p=0,x&&(w=[w[0]&2,x.value]),w[0]){case 0:case 1:x=w;break;case 4:return l.label++,{value:w[1],done:!1};case 5:l.label++,p=w[1],w=[0];continue;case 7:w=l.ops.pop(),l.trys.pop();continue;default:if(x=l.trys,!(x=x.length>0&&x[x.length-1])&&(w[0]===6||w[0]===2)){l=0;continue}if(w[0]===3&&(!x||w[1]>x[0]&&w[1]<x[3])){l.label=w[1];break}if(w[0]===6&&l.label<x[1]){l.label=x[1],x=w;break}if(x&&l.label<x[2]){l.label=x[2],l.ops.push(w);break}x[2]&&l.ops.pop(),l.trys.pop();continue}w=a.call(r,l)}catch(b){w=[6,b],p=0}finally{d=x=0}if(w[0]&5)throw w[1];return{value:w[0]?w[1]:void 0,done:!0}}},pp=(function(){function r(a,l,d){if(this.formatMap=new Map([[Ue.QR_CODE,"qr_code"],[Ue.AZTEC,"aztec"],[Ue.CODABAR,"codabar"],[Ue.CODE_39,"code_39"],[Ue.CODE_93,"code_93"],[Ue.CODE_128,"code_128"],[Ue.DATA_MATRIX,"data_matrix"],[Ue.ITF,"itf"],[Ue.EAN_13,"ean_13"],[Ue.EAN_8,"ean_8"],[Ue.PDF_417,"pdf417"],[Ue.UPC_A,"upc_a"],[Ue.UPC_E,"upc_e"]]),this.reverseFormatMap=this.createReverseFormatMap(),!r.isSupported())throw"Use html5qrcode.min.js without edit, Use BarcodeDetectorDelegate only if it isSupported();";this.verbose=l,this.logger=d;var p=this.createBarcodeDetectorFormats(a);if(this.detector=new BarcodeDetector(p),!this.detector)throw"BarcodeDetector detector not supported"}return r.isSupported=function(){if(!("BarcodeDetector"in window))return!1;var a=new BarcodeDetector({formats:["qr_code"]});return typeof a<"u"},r.prototype.decodeAsync=function(a){return RA(this,void 0,void 0,function(){var l,d;return OA(this,function(p){switch(p.label){case 0:return[4,this.detector.detect(a)];case 1:if(l=p.sent(),!l||l.length===0)throw"No barcode or QR code detected.";return d=this.selectLargestBarcode(l),[2,{text:d.rawValue,format:qy.create(this.toHtml5QrcodeSupportedFormats(d.format)),debugData:this.createDebugData()}]}})})},r.prototype.selectLargestBarcode=function(a){for(var l=null,d=0,p=0,x=a;p<x.length;p++){var E=x[p],C=E.boundingBox.width*E.boundingBox.height;C>d&&(d=C,l=E)}if(!l)throw"No largest barcode found";return l},r.prototype.createBarcodeDetectorFormats=function(a){for(var l=[],d=0,p=a;d<p.length;d++){var x=p[d];this.formatMap.has(x)?l.push(this.formatMap.get(x)):this.logger.warn("".concat(x," is not supported by")+"BarcodeDetectorDelegate")}return{formats:l}},r.prototype.toHtml5QrcodeSupportedFormats=function(a){if(!this.reverseFormatMap.has(a))throw"reverseFormatMap doesn't have ".concat(a);return this.reverseFormatMap.get(a)},r.prototype.createReverseFormatMap=function(){var a=new Map;return this.formatMap.forEach(function(l,d,p){a.set(l,d)}),a},r.prototype.createDebugData=function(){return{decoderName:"BarcodeDetector"}},r})(),xp=function(r,a,l,d){function p(x){return x instanceof l?x:new l(function(E){E(x)})}return new(l||(l=Promise))(function(x,E){function C(b){try{w(d.next(b))}catch(A){E(A)}}function v(b){try{w(d.throw(b))}catch(A){E(A)}}function w(b){b.done?x(b.value):p(b.value).then(C,v)}w((d=d.apply(r,a||[])).next())})},gp=function(r,a){var l={label:0,sent:function(){if(x[0]&1)throw x[1];return x[1]},trys:[],ops:[]},d,p,x,E;return E={next:C(0),throw:C(1),return:C(2)},typeof Symbol=="function"&&(E[Symbol.iterator]=function(){return this}),E;function C(w){return function(b){return v([w,b])}}function v(w){if(d)throw new TypeError("Generator is already executing.");for(;E&&(E=0,w[0]&&(l=0)),l;)try{if(d=1,p&&(x=w[0]&2?p.return:w[0]?p.throw||((x=p.return)&&x.call(p),0):p.next)&&!(x=x.call(p,w[1])).done)return x;switch(p=0,x&&(w=[w[0]&2,x.value]),w[0]){case 0:case 1:x=w;break;case 4:return l.label++,{value:w[1],done:!1};case 5:l.label++,p=w[1],w=[0];continue;case 7:w=l.ops.pop(),l.trys.pop();continue;default:if(x=l.trys,!(x=x.length>0&&x[x.length-1])&&(w[0]===6||w[0]===2)){l=0;continue}if(w[0]===3&&(!x||w[1]>x[0]&&w[1]<x[3])){l.label=w[1];break}if(w[0]===6&&l.label<x[1]){l.label=x[1],x=w;break}if(x&&l.label<x[2]){l.label=x[2],l.ops.push(w);break}x[2]&&l.ops.pop(),l.trys.pop();continue}w=a.call(r,l)}catch(b){w=[6,b],p=0}finally{d=x=0}if(w[0]&5)throw w[1];return{value:w[0]?w[1]:void 0,done:!0}}},_A=(function(){function r(a,l,d,p){this.EXECUTIONS_TO_REPORT_PERFORMANCE=100,this.executions=0,this.executionResults=[],this.wasPrimaryDecoderUsedInLastDecode=!1,this.verbose=d,l&&pp.isSupported()?(this.primaryDecoder=new pp(a,d,p),this.secondaryDecoder=new mp(a,d,p)):this.primaryDecoder=new mp(a,d,p)}return r.prototype.decodeAsync=function(a){return xp(this,void 0,void 0,function(){var l;return gp(this,function(d){switch(d.label){case 0:l=performance.now(),d.label=1;case 1:return d.trys.push([1,,3,4]),[4,this.getDecoder().decodeAsync(a)];case 2:return[2,d.sent()];case 3:return this.possiblyLogPerformance(l),[7];case 4:return[2]}})})},r.prototype.decodeRobustlyAsync=function(a){return xp(this,void 0,void 0,function(){var l,d;return gp(this,function(p){switch(p.label){case 0:l=performance.now(),p.label=1;case 1:return p.trys.push([1,3,4,5]),[4,this.primaryDecoder.decodeAsync(a)];case 2:return[2,p.sent()];case 3:if(d=p.sent(),this.secondaryDecoder)return[2,this.secondaryDecoder.decodeAsync(a)];throw d;case 4:return this.possiblyLogPerformance(l),[7];case 5:return[2]}})})},r.prototype.getDecoder=function(){return this.secondaryDecoder?this.wasPrimaryDecoderUsedInLastDecode===!1?(this.wasPrimaryDecoderUsedInLastDecode=!0,this.primaryDecoder):(this.wasPrimaryDecoderUsedInLastDecode=!1,this.secondaryDecoder):this.primaryDecoder},r.prototype.possiblyLogPerformance=function(a){if(this.verbose){var l=performance.now()-a;this.executionResults.push(l),this.executions++,this.possiblyFlushPerformanceReport()}},r.prototype.possiblyFlushPerformanceReport=function(){if(!(this.executions<this.EXECUTIONS_TO_REPORT_PERFORMANCE)){for(var a=0,l=0,d=this.executionResults;l<d.length;l++){var p=d[l];a+=p}var x=a/this.executionResults.length;console.log("".concat(x," ms for ").concat(this.executionResults.length," last runs.")),this.executions=0,this.executionResults=[]}},r})(),c1=(function(){var r=function(a,l){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,p){d.__proto__=p}||function(d,p){for(var x in p)Object.prototype.hasOwnProperty.call(p,x)&&(d[x]=p[x])},r(a,l)};return function(a,l){if(typeof l!="function"&&l!==null)throw new TypeError("Class extends value "+String(l)+" is not a constructor or null");r(a,l);function d(){this.constructor=a}a.prototype=l===null?Object.create(l):(d.prototype=l.prototype,new d)}})(),bu=function(r,a,l,d){function p(x){return x instanceof l?x:new l(function(E){E(x)})}return new(l||(l=Promise))(function(x,E){function C(b){try{w(d.next(b))}catch(A){E(A)}}function v(b){try{w(d.throw(b))}catch(A){E(A)}}function w(b){b.done?x(b.value):p(b.value).then(C,v)}w((d=d.apply(r,a||[])).next())})},Nu=function(r,a){var l={label:0,sent:function(){if(x[0]&1)throw x[1];return x[1]},trys:[],ops:[]},d,p,x,E;return E={next:C(0),throw:C(1),return:C(2)},typeof Symbol=="function"&&(E[Symbol.iterator]=function(){return this}),E;function C(w){return function(b){return v([w,b])}}function v(w){if(d)throw new TypeError("Generator is already executing.");for(;E&&(E=0,w[0]&&(l=0)),l;)try{if(d=1,p&&(x=w[0]&2?p.return:w[0]?p.throw||((x=p.return)&&x.call(p),0):p.next)&&!(x=x.call(p,w[1])).done)return x;switch(p=0,x&&(w=[w[0]&2,x.value]),w[0]){case 0:case 1:x=w;break;case 4:return l.label++,{value:w[1],done:!1};case 5:l.label++,p=w[1],w=[0];continue;case 7:w=l.ops.pop(),l.trys.pop();continue;default:if(x=l.trys,!(x=x.length>0&&x[x.length-1])&&(w[0]===6||w[0]===2)){l=0;continue}if(w[0]===3&&(!x||w[1]>x[0]&&w[1]<x[3])){l.label=w[1];break}if(w[0]===6&&l.label<x[1]){l.label=x[1],x=w;break}if(x&&l.label<x[2]){l.label=x[2],l.ops.push(w);break}x[2]&&l.ops.pop(),l.trys.pop();continue}w=a.call(r,l)}catch(b){w=[6,b],p=0}finally{d=x=0}if(w[0]&5)throw w[1];return{value:w[0]?w[1]:void 0,done:!0}}},Zy=(function(){function r(a,l){this.name=a,this.track=l}return r.prototype.isSupported=function(){return this.track.getCapabilities?this.name in this.track.getCapabilities():!1},r.prototype.apply=function(a){var l={};l[this.name]=a;var d={advanced:[l]};return this.track.applyConstraints(d)},r.prototype.value=function(){var a=this.track.getSettings();if(this.name in a){var l=a[this.name];return l}return null},r})(),DA=(function(r){c1(a,r);function a(l,d){return r.call(this,l,d)||this}return a.prototype.min=function(){return this.getCapabilities().min},a.prototype.max=function(){return this.getCapabilities().max},a.prototype.step=function(){return this.getCapabilities().step},a.prototype.apply=function(l){var d={};d[this.name]=l;var p={advanced:[d]};return this.track.applyConstraints(p)},a.prototype.getCapabilities=function(){this.failIfNotSupported();var l=this.track.getCapabilities(),d=l[this.name];return{min:d.min,max:d.max,step:d.step}},a.prototype.failIfNotSupported=function(){if(!this.isSupported())throw new Error("".concat(this.name," capability not supported"))},a})(Zy),MA=(function(r){c1(a,r);function a(l){return r.call(this,"zoom",l)||this}return a})(DA),kA=(function(r){c1(a,r);function a(l){return r.call(this,"torch",l)||this}return a})(Zy),PA=(function(){function r(a){this.track=a}return r.prototype.zoomFeature=function(){return new MA(this.track)},r.prototype.torchFeature=function(){return new kA(this.track)},r})(),LA=(function(){function r(a,l,d){this.isClosed=!1,this.parentElement=a,this.mediaStream=l,this.callbacks=d,this.surface=this.createVideoElement(this.parentElement.clientWidth),a.append(this.surface)}return r.prototype.createVideoElement=function(a){var l=document.createElement("video");return l.style.width="".concat(a,"px"),l.style.display="block",l.muted=!0,l.setAttribute("muted","true"),l.playsInline=!0,l},r.prototype.setupSurface=function(){var a=this;this.surface.onabort=function(){throw"RenderedCameraImpl video surface onabort() called"},this.surface.onerror=function(){throw"RenderedCameraImpl video surface onerror() called"};var l=function(){var d=a.surface.clientWidth,p=a.surface.clientHeight;a.callbacks.onRenderSurfaceReady(d,p),a.surface.removeEventListener("playing",l)};this.surface.addEventListener("playing",l),this.surface.srcObject=this.mediaStream,this.surface.play()},r.create=function(a,l,d,p){return bu(this,void 0,void 0,function(){var x,E;return Nu(this,function(C){switch(C.label){case 0:return x=new r(a,l,p),d.aspectRatio?(E={aspectRatio:d.aspectRatio},[4,x.getFirstTrackOrFail().applyConstraints(E)]):[3,2];case 1:C.sent(),C.label=2;case 2:return x.setupSurface(),[2,x]}})})},r.prototype.failIfClosed=function(){if(this.isClosed)throw"The RenderedCamera has already been closed."},r.prototype.getFirstTrackOrFail=function(){if(this.failIfClosed(),this.mediaStream.getVideoTracks().length===0)throw"No video tracks found";return this.mediaStream.getVideoTracks()[0]},r.prototype.pause=function(){this.failIfClosed(),this.surface.pause()},r.prototype.resume=function(a){this.failIfClosed();var l=this,d=function(){setTimeout(a,200),l.surface.removeEventListener("playing",d)};this.surface.addEventListener("playing",d),this.surface.play()},r.prototype.isPaused=function(){return this.failIfClosed(),this.surface.paused},r.prototype.getSurface=function(){return this.failIfClosed(),this.surface},r.prototype.getRunningTrackCapabilities=function(){return this.getFirstTrackOrFail().getCapabilities()},r.prototype.getRunningTrackSettings=function(){return this.getFirstTrackOrFail().getSettings()},r.prototype.applyVideoConstraints=function(a){return bu(this,void 0,void 0,function(){return Nu(this,function(l){if("aspectRatio"in a)throw"Changing 'aspectRatio' in run-time is not yet supported.";return[2,this.getFirstTrackOrFail().applyConstraints(a)]})})},r.prototype.close=function(){if(this.isClosed)return Promise.resolve();var a=this;return new Promise(function(l,d){var p=a.mediaStream.getVideoTracks(),x=p.length,E=0;a.mediaStream.getVideoTracks().forEach(function(C){a.mediaStream.removeTrack(C),C.stop(),++E,E>=x&&(a.isClosed=!0,a.parentElement.removeChild(a.surface),l())})})},r.prototype.getCapabilities=function(){return new PA(this.getFirstTrackOrFail())},r})(),FA=(function(){function r(a){this.mediaStream=a}return r.prototype.render=function(a,l,d){return bu(this,void 0,void 0,function(){return Nu(this,function(p){return[2,LA.create(a,this.mediaStream,l,d)]})})},r.create=function(a){return bu(this,void 0,void 0,function(){var l,d;return Nu(this,function(p){switch(p.label){case 0:if(!navigator.mediaDevices)throw"navigator.mediaDevices not supported";return l={audio:!1,video:a},[4,navigator.mediaDevices.getUserMedia(l)];case 1:return d=p.sent(),[2,new r(d)]}})})},r})(),yp=function(r,a,l,d){function p(x){return x instanceof l?x:new l(function(E){E(x)})}return new(l||(l=Promise))(function(x,E){function C(b){try{w(d.next(b))}catch(A){E(A)}}function v(b){try{w(d.throw(b))}catch(A){E(A)}}function w(b){b.done?x(b.value):p(b.value).then(C,v)}w((d=d.apply(r,a||[])).next())})},wp=function(r,a){var l={label:0,sent:function(){if(x[0]&1)throw x[1];return x[1]},trys:[],ops:[]},d,p,x,E;return E={next:C(0),throw:C(1),return:C(2)},typeof Symbol=="function"&&(E[Symbol.iterator]=function(){return this}),E;function C(w){return function(b){return v([w,b])}}function v(w){if(d)throw new TypeError("Generator is already executing.");for(;E&&(E=0,w[0]&&(l=0)),l;)try{if(d=1,p&&(x=w[0]&2?p.return:w[0]?p.throw||((x=p.return)&&x.call(p),0):p.next)&&!(x=x.call(p,w[1])).done)return x;switch(p=0,x&&(w=[w[0]&2,x.value]),w[0]){case 0:case 1:x=w;break;case 4:return l.label++,{value:w[1],done:!1};case 5:l.label++,p=w[1],w=[0];continue;case 7:w=l.ops.pop(),l.trys.pop();continue;default:if(x=l.trys,!(x=x.length>0&&x[x.length-1])&&(w[0]===6||w[0]===2)){l=0;continue}if(w[0]===3&&(!x||w[1]>x[0]&&w[1]<x[3])){l.label=w[1];break}if(w[0]===6&&l.label<x[1]){l.label=x[1],x=w;break}if(x&&l.label<x[2]){l.label=x[2],l.ops.push(w);break}x[2]&&l.ops.pop(),l.trys.pop();continue}w=a.call(r,l)}catch(b){w=[6,b],p=0}finally{d=x=0}if(w[0]&5)throw w[1];return{value:w[0]?w[1]:void 0,done:!0}}},BA=(function(){function r(){}return r.failIfNotSupported=function(){return yp(this,void 0,void 0,function(){return wp(this,function(a){if(!navigator.mediaDevices)throw"navigator.mediaDevices not supported";return[2,new r]})})},r.prototype.create=function(a){return yp(this,void 0,void 0,function(){return wp(this,function(l){return[2,FA.create(a)]})})},r})(),UA=function(r,a,l,d){function p(x){return x instanceof l?x:new l(function(E){E(x)})}return new(l||(l=Promise))(function(x,E){function C(b){try{w(d.next(b))}catch(A){E(A)}}function v(b){try{w(d.throw(b))}catch(A){E(A)}}function w(b){b.done?x(b.value):p(b.value).then(C,v)}w((d=d.apply(r,a||[])).next())})},HA=function(r,a){var l={label:0,sent:function(){if(x[0]&1)throw x[1];return x[1]},trys:[],ops:[]},d,p,x,E;return E={next:C(0),throw:C(1),return:C(2)},typeof Symbol=="function"&&(E[Symbol.iterator]=function(){return this}),E;function C(w){return function(b){return v([w,b])}}function v(w){if(d)throw new TypeError("Generator is already executing.");for(;E&&(E=0,w[0]&&(l=0)),l;)try{if(d=1,p&&(x=w[0]&2?p.return:w[0]?p.throw||((x=p.return)&&x.call(p),0):p.next)&&!(x=x.call(p,w[1])).done)return x;switch(p=0,x&&(w=[w[0]&2,x.value]),w[0]){case 0:case 1:x=w;break;case 4:return l.label++,{value:w[1],done:!1};case 5:l.label++,p=w[1],w=[0];continue;case 7:w=l.ops.pop(),l.trys.pop();continue;default:if(x=l.trys,!(x=x.length>0&&x[x.length-1])&&(w[0]===6||w[0]===2)){l=0;continue}if(w[0]===3&&(!x||w[1]>x[0]&&w[1]<x[3])){l.label=w[1];break}if(w[0]===6&&l.label<x[1]){l.label=x[1],x=w;break}if(x&&l.label<x[2]){l.label=x[2],l.ops.push(w);break}x[2]&&l.ops.pop(),l.trys.pop();continue}w=a.call(r,l)}catch(b){w=[6,b],p=0}finally{d=x=0}if(w[0]&5)throw w[1];return{value:w[0]?w[1]:void 0,done:!0}}},VA=(function(){function r(){}return r.retrieve=function(){if(navigator.mediaDevices)return r.getCamerasFromMediaDevices();var a=MediaStreamTrack;return MediaStreamTrack&&a.getSources?r.getCamerasFromMediaStreamTrack():r.rejectWithError()},r.rejectWithError=function(){var a=aa.unableToQuerySupportedDevices();return r.isHttpsOrLocalhost()||(a=aa.insecureContextCameraQueryError()),Promise.reject(a)},r.isHttpsOrLocalhost=function(){if(location.protocol==="https:")return!0;var a=location.host.split(":")[0];return a==="127.0.0.1"||a==="localhost"},r.getCamerasFromMediaDevices=function(){return UA(this,void 0,void 0,function(){var a,l,d,p,x,E,C;return HA(this,function(v){switch(v.label){case 0:return a=function(w){for(var b=w.getVideoTracks(),A=0,O=b;A<O.length;A++){var P=O[A];P.enabled=!1,P.stop(),w.removeTrack(P)}},[4,navigator.mediaDevices.getUserMedia({audio:!1,video:!0})];case 1:return l=v.sent(),[4,navigator.mediaDevices.enumerateDevices()];case 2:for(d=v.sent(),p=[],x=0,E=d;x<E.length;x++)C=E[x],C.kind==="videoinput"&&p.push({id:C.deviceId,label:C.label});return a(l),[2,p]}})})},r.getCamerasFromMediaStreamTrack=function(){return new Promise(function(a,l){var d=function(x){for(var E=[],C=0,v=x;C<v.length;C++){var w=v[C];w.kind==="video"&&E.push({id:w.id,label:w.label})}a(E)},p=MediaStreamTrack;p.getSources(d)})},r})(),gn;(function(r){r[r.UNKNOWN=0]="UNKNOWN",r[r.NOT_STARTED=1]="NOT_STARTED",r[r.SCANNING=2]="SCANNING",r[r.PAUSED=3]="PAUSED"})(gn||(gn={}));var zA=(function(){function r(){this.state=gn.NOT_STARTED,this.onGoingTransactionNewState=gn.UNKNOWN}return r.prototype.directTransition=function(a){this.failIfTransitionOngoing(),this.validateTransition(a),this.state=a},r.prototype.startTransition=function(a){return this.failIfTransitionOngoing(),this.validateTransition(a),this.onGoingTransactionNewState=a,this},r.prototype.execute=function(){if(this.onGoingTransactionNewState===gn.UNKNOWN)throw"Transaction is already cancelled, cannot execute().";var a=this.onGoingTransactionNewState;this.onGoingTransactionNewState=gn.UNKNOWN,this.directTransition(a)},r.prototype.cancel=function(){if(this.onGoingTransactionNewState===gn.UNKNOWN)throw"Transaction is already cancelled, cannot cancel().";this.onGoingTransactionNewState=gn.UNKNOWN},r.prototype.getState=function(){return this.state},r.prototype.failIfTransitionOngoing=function(){if(this.onGoingTransactionNewState!==gn.UNKNOWN)throw"Cannot transition to a new state, already under transition"},r.prototype.validateTransition=function(a){switch(this.state){case gn.UNKNOWN:throw"Transition from unknown is not allowed";case gn.NOT_STARTED:this.failIfNewStateIs(a,[gn.PAUSED]);break;case gn.SCANNING:break;case gn.PAUSED:break}},r.prototype.failIfNewStateIs=function(a,l){for(var d=0,p=l;d<p.length;d++){var x=p[d];if(a===x)throw"Cannot transition from ".concat(this.state," to ").concat(a)}},r})(),WA=(function(){function r(a){this.stateManager=a}return r.prototype.startTransition=function(a){return this.stateManager.startTransition(a)},r.prototype.directTransition=function(a){this.stateManager.directTransition(a)},r.prototype.getState=function(){return this.stateManager.getState()},r.prototype.canScanFile=function(){return this.stateManager.getState()===gn.NOT_STARTED},r.prototype.isScanning=function(){return this.stateManager.getState()!==gn.NOT_STARTED},r.prototype.isStrictlyScanning=function(){return this.stateManager.getState()===gn.SCANNING},r.prototype.isPaused=function(){return this.stateManager.getState()===gn.PAUSED},r})(),GA=(function(){function r(){}return r.create=function(){return new WA(new zA)},r})(),XA=(function(){var r=function(a,l){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,p){d.__proto__=p}||function(d,p){for(var x in p)Object.prototype.hasOwnProperty.call(p,x)&&(d[x]=p[x])},r(a,l)};return function(a,l){if(typeof l!="function"&&l!==null)throw new TypeError("Class extends value "+String(l)+" is not a constructor or null");r(a,l);function d(){this.constructor=a}a.prototype=l===null?Object.create(l):(d.prototype=l.prototype,new d)}})(),Wr=(function(r){XA(a,r);function a(){return r!==null&&r.apply(this,arguments)||this}return a.DEFAULT_WIDTH=300,a.DEFAULT_WIDTH_OFFSET=2,a.FILE_SCAN_MIN_HEIGHT=300,a.FILE_SCAN_HIDDEN_CANVAS_PADDING=100,a.MIN_QR_BOX_SIZE=50,a.SHADED_LEFT=1,a.SHADED_RIGHT=2,a.SHADED_TOP=3,a.SHADED_BOTTOM=4,a.SHADED_REGION_ELEMENT_ID="qr-shaded-region",a.VERBOSE=!1,a.BORDER_SHADER_DEFAULT_COLOR="#ffffff",a.BORDER_SHADER_MATCH_COLOR="rgb(90, 193, 56)",a})(bA),KA=(function(){function r(a,l){this.logger=l,this.fps=Wr.SCAN_DEFAULT_FPS,a?(a.fps&&(this.fps=a.fps),this.disableFlip=a.disableFlip===!0,this.qrbox=a.qrbox,this.aspectRatio=a.aspectRatio,this.videoConstraints=a.videoConstraints):this.disableFlip=Wr.DEFAULT_DISABLE_FLIP}return r.prototype.isMediaStreamConstraintsValid=function(){return this.videoConstraints?Qy.isMediaStreamConstraintsValid(this.videoConstraints,this.logger):(this.logger.logError("Empty videoConstraints",!0),!1)},r.prototype.isShadedBoxEnabled=function(){return!ni(this.qrbox)},r.create=function(a,l){return new r(a,l)},r})(),YA=(function(){function r(a,l){if(this.element=null,this.canvasElement=null,this.scannerPausedUiElement=null,this.hasBorderShaders=null,this.borderShaders=null,this.qrMatch=null,this.renderedCamera=null,this.qrRegion=null,this.context=null,this.lastScanImageFile=null,this.isScanning=!1,!document.getElementById(a))throw"HTML Element with id=".concat(a," not found");this.elementId=a,this.verbose=!1;var d;typeof l=="boolean"?this.verbose=l===!0:l&&(d=l,this.verbose=d.verbose===!0,d.experimentalFeatures),this.logger=new SA(this.verbose),this.qrcode=new _A(this.getSupportedFormats(l),this.getUseBarCodeDetectorIfSupported(d),this.verbose,this.logger),this.foreverScanTimeout,this.shouldScan=!0,this.stateManagerProxy=GA.create()}return r.prototype.start=function(a,l,d,p){var x=this;if(!a)throw"cameraIdOrConfig is required";if(!d||typeof d!="function")throw"qrCodeSuccessCallback is required and should be a function.";var E;p?E=p:E=this.verbose?this.logger.log:function(){};var C=KA.create(l,this.logger);this.clearElement();var v=!1;C.videoConstraints&&(C.isMediaStreamConstraintsValid()?v=!0:this.logger.logError("'videoConstraints' is not valid 'MediaStreamConstraints, it will be ignored.'",!0));var w=v,b=document.getElementById(this.elementId);b.clientWidth?b.clientWidth:Wr.DEFAULT_WIDTH,b.style.position="relative",this.shouldScan=!0,this.element=b;var A=this,O=this.stateManagerProxy.startTransition(gn.SCANNING);return new Promise(function(P,F){var R=w?C.videoConstraints:A.createVideoConstraints(a);if(!R){O.cancel(),F("videoConstraints should be defined");return}var L={};(!w||C.aspectRatio)&&(L.aspectRatio=C.aspectRatio);var G={onRenderSurfaceReady:function(H,V){A.setupUi(H,V,C),A.isScanning=!0,A.foreverScan(C,d,E)}};BA.failIfNotSupported().then(function(H){H.create(R).then(function(V){return V.render(x.element,L,G).then(function(K){A.renderedCamera=K,O.execute(),P(null)}).catch(function(K){O.cancel(),F(K)})}).catch(function(V){O.cancel(),F(aa.errorGettingUserMedia(V))})}).catch(function(H){O.cancel(),F(aa.cameraStreamingNotSupported())})})},r.prototype.pause=function(a){if(!this.stateManagerProxy.isStrictlyScanning())throw"Cannot pause, scanner is not scanning.";this.stateManagerProxy.directTransition(gn.PAUSED),this.showPausedState(),(ni(a)||a!==!0)&&(a=!1),a&&this.renderedCamera&&this.renderedCamera.pause()},r.prototype.resume=function(){if(!this.stateManagerProxy.isPaused())throw"Cannot result, scanner is not paused.";if(!this.renderedCamera)throw"renderedCamera doesn't exist while trying resume()";var a=this,l=function(){a.stateManagerProxy.directTransition(gn.SCANNING),a.hidePausedState()};if(!this.renderedCamera.isPaused()){l();return}this.renderedCamera.resume(function(){l()})},r.prototype.getState=function(){return this.stateManagerProxy.getState()},r.prototype.stop=function(){var a=this;if(!this.stateManagerProxy.isScanning())throw"Cannot stop, scanner is not running or paused.";var l=this.stateManagerProxy.startTransition(gn.NOT_STARTED);this.shouldScan=!1,this.foreverScanTimeout&&clearTimeout(this.foreverScanTimeout);var d=function(){if(a.element){var x=document.getElementById(Wr.SHADED_REGION_ELEMENT_ID);x&&a.element.removeChild(x)}},p=this;return this.renderedCamera.close().then(function(){return p.renderedCamera=null,p.element&&(p.element.removeChild(p.canvasElement),p.canvasElement=null),d(),p.qrRegion&&(p.qrRegion=null),p.context&&(p.context=null),l.execute(),p.hidePausedState(),p.isScanning=!1,Promise.resolve()})},r.prototype.scanFile=function(a,l){return this.scanFileV2(a,l).then(function(d){return d.decodedText})},r.prototype.scanFileV2=function(a,l){var d=this;if(!a||!(a instanceof File))throw"imageFile argument is mandatory and should be instance of File. Use 'event.target.files[0]'.";if(ni(l)&&(l=!0),!this.stateManagerProxy.canScanFile())throw"Cannot start file scan - ongoing camera scan";return new Promise(function(p,x){d.possiblyCloseLastScanImageFile(),d.clearElement(),d.lastScanImageFile=URL.createObjectURL(a);var E=new Image;E.onload=function(){var C=E.width,v=E.height,w=document.getElementById(d.elementId),b=w.clientWidth?w.clientWidth:Wr.DEFAULT_WIDTH,A=Math.max(w.clientHeight?w.clientHeight:v,Wr.FILE_SCAN_MIN_HEIGHT),O=d.computeCanvasDrawConfig(C,v,b,A);if(l){var P=d.createCanvasElement(b,A,"qr-canvas-visible");P.style.display="inline-block",w.appendChild(P);var F=P.getContext("2d");if(!F)throw"Unable to get 2d context from canvas";F.canvas.width=b,F.canvas.height=A,F.drawImage(E,0,0,C,v,O.x,O.y,O.width,O.height)}var R=Wr.FILE_SCAN_HIDDEN_CANVAS_PADDING,L=Math.max(E.width,O.width),G=Math.max(E.height,O.height),H=L+2*R,V=G+2*R,K=d.createCanvasElement(H,V);w.appendChild(K);var re=K.getContext("2d");if(!re)throw"Unable to get 2d context from canvas";re.canvas.width=H,re.canvas.height=V,re.drawImage(E,0,0,C,v,R,R,L,G);try{d.qrcode.decodeRobustlyAsync(K).then(function(le){p(fp.createFromQrcodeResult(le))}).catch(x)}catch(le){x("QR code parse error, error = ".concat(le))}},E.onerror=x,E.onabort=x,E.onstalled=x,E.onsuspend=x,E.src=URL.createObjectURL(a)})},r.prototype.clear=function(){this.clearElement()},r.getCameras=function(){return VA.retrieve()},r.prototype.getRunningTrackCapabilities=function(){return this.getRenderedCameraOrFail().getRunningTrackCapabilities()},r.prototype.getRunningTrackSettings=function(){return this.getRenderedCameraOrFail().getRunningTrackSettings()},r.prototype.getRunningTrackCameraCapabilities=function(){return this.getRenderedCameraOrFail().getCapabilities()},r.prototype.applyVideoConstraints=function(a){if(a){if(!Qy.isMediaStreamConstraintsValid(a,this.logger))throw"invalid videoConstaints passed, check logs for more details"}else throw"videoConstaints is required argument.";return this.getRenderedCameraOrFail().applyVideoConstraints(a)},r.prototype.getRenderedCameraOrFail=function(){if(this.renderedCamera==null)throw"Scanning is not in running state, call this API only when QR code scanning using camera is in running state.";return this.renderedCamera},r.prototype.getSupportedFormats=function(a){var l=[Ue.QR_CODE,Ue.AZTEC,Ue.CODABAR,Ue.CODE_39,Ue.CODE_93,Ue.CODE_128,Ue.DATA_MATRIX,Ue.MAXICODE,Ue.ITF,Ue.EAN_13,Ue.EAN_8,Ue.PDF_417,Ue.RSS_14,Ue.RSS_EXPANDED,Ue.UPC_A,Ue.UPC_E,Ue.UPC_EAN_EXTENSION];if(!a||typeof a=="boolean"||!a.formatsToSupport)return l;if(!Array.isArray(a.formatsToSupport))throw"configOrVerbosityFlag.formatsToSupport should be undefined or an array.";if(a.formatsToSupport.length===0)throw"Atleast 1 formatsToSupport is needed.";for(var d=[],p=0,x=a.formatsToSupport;p<x.length;p++){var E=x[p];EA(E)?d.push(E):this.logger.warn("Invalid format: ".concat(E," passed in config, ignoring."))}if(d.length===0)throw"None of formatsToSupport match supported values.";return d},r.prototype.getUseBarCodeDetectorIfSupported=function(a){if(ni(a))return!0;if(!ni(a.useBarCodeDetectorIfSupported))return a.useBarCodeDetectorIfSupported!==!1;if(ni(a.experimentalFeatures))return!0;var l=a.experimentalFeatures;return ni(l.useBarCodeDetectorIfSupported)?!0:l.useBarCodeDetectorIfSupported!==!1},r.prototype.validateQrboxSize=function(a,l,d){var p=this,x=d.qrbox;this.validateQrboxConfig(x);var E=this.toQrdimensions(a,l,x),C=function(w){if(w<Wr.MIN_QR_BOX_SIZE)throw"minimum size of 'config.qrbox' dimension value is"+" ".concat(Wr.MIN_QR_BOX_SIZE,"px.")},v=function(w){return w>a&&(p.logger.warn("`qrbox.width` or `qrbox` is larger than the width of the root element. The width will be truncated to the width of root element."),w=a),w};C(E.width),C(E.height),E.width=v(E.width)},r.prototype.validateQrboxConfig=function(a){if(typeof a!="number"&&typeof a!="function"&&(a.width===void 0||a.height===void 0))throw"Invalid instance of QrDimensions passed for 'config.qrbox'. Both 'width' and 'height' should be set."},r.prototype.toQrdimensions=function(a,l,d){if(typeof d=="number")return{width:d,height:d};if(typeof d=="function")try{return d(a,l)}catch(p){throw new Error("qrbox config was passed as a function but it failed with unknown error"+p)}return d},r.prototype.setupUi=function(a,l,d){d.isShadedBoxEnabled()&&this.validateQrboxSize(a,l,d);var p=ni(d.qrbox)?{width:a,height:l}:d.qrbox;this.validateQrboxConfig(p);var x=this.toQrdimensions(a,l,p);x.height>l&&this.logger.warn("[Html5Qrcode] config.qrbox has height that isgreater than the height of the video stream. Shading will be ignored");var E=d.isShadedBoxEnabled()&&x.height<=l,C={x:0,y:0,width:a,height:l},v=E?this.getShadedRegionBounds(a,l,x):C,w=this.createCanvasElement(v.width,v.height),b={willReadFrequently:!0},A=w.getContext("2d",b);A.canvas.width=v.width,A.canvas.height=v.height,this.element.append(w),E&&this.possiblyInsertShadingElement(this.element,a,l,x),this.createScannerPausedUiElement(this.element),this.qrRegion=v,this.context=A,this.canvasElement=w},r.prototype.createScannerPausedUiElement=function(a){var l=document.createElement("div");l.innerText=aa.scannerPaused(),l.style.display="none",l.style.position="absolute",l.style.top="0px",l.style.zIndex="1",l.style.background="rgba(9, 9, 9, 0.46)",l.style.color="#FFECEC",l.style.textAlign="center",l.style.width="100%",a.appendChild(l),this.scannerPausedUiElement=l},r.prototype.scanContext=function(a,l){var d=this;return this.stateManagerProxy.isPaused()?Promise.resolve(!1):this.qrcode.decodeAsync(this.canvasElement).then(function(p){return a(p.text,fp.createFromQrcodeResult(p)),d.possiblyUpdateShaders(!0),!0}).catch(function(p){d.possiblyUpdateShaders(!1);var x=aa.codeParseError(p);return l(x,NA.createFrom(x)),!1})},r.prototype.foreverScan=function(a,l,d){var p=this;if(this.shouldScan&&this.renderedCamera){var x=this.renderedCamera.getSurface(),E=x.videoWidth/x.clientWidth,C=x.videoHeight/x.clientHeight;if(!this.qrRegion)throw"qrRegion undefined when localMediaStream is ready.";var v=this.qrRegion.width*E,w=this.qrRegion.height*C,b=this.qrRegion.x*E,A=this.qrRegion.y*C;this.context.drawImage(x,b,A,v,w,0,0,this.qrRegion.width,this.qrRegion.height);var O=function(){p.foreverScanTimeout=setTimeout(function(){p.foreverScan(a,l,d)},p.getTimeoutFps(a.fps))};this.scanContext(l,d).then(function(P){!P&&a.disableFlip!==!0?(p.context.translate(p.context.canvas.width,0),p.context.scale(-1,1),p.scanContext(l,d).finally(function(){O()})):O()}).catch(function(P){p.logger.logError("Error happend while scanning context",P),O()})}},r.prototype.createVideoConstraints=function(a){if(typeof a=="string")return{deviceId:{exact:a}};if(typeof a=="object"){var l="facingMode",d="deviceId",p={user:!0,environment:!0},x="exact",E=function(F){if(F in p)return!0;throw"config has invalid 'facingMode' value = "+"'".concat(F,"'")},C=Object.keys(a);if(C.length!==1)throw"'cameraIdOrConfig' object should have exactly 1 key,"+" if passed as an object, found ".concat(C.length," keys");var v=Object.keys(a)[0];if(v!==l&&v!==d)throw"Only '".concat(l,"' and '").concat(d,"' ")+" are supported for 'cameraIdOrConfig'";if(v===l){var w=a.facingMode;if(typeof w=="string"){if(E(w))return{facingMode:w}}else if(typeof w=="object")if(x in w){if(E(w["".concat(x)]))return{facingMode:{exact:w["".concat(x)]}}}else throw"'facingMode' should be string or object with"+" ".concat(x," as key.");else{var b=typeof w;throw"Invalid type of 'facingMode' = ".concat(b)}}else{var A=a.deviceId;if(typeof A=="string")return{deviceId:A};if(typeof A=="object"){if(x in A)return{deviceId:{exact:A["".concat(x)]}};throw"'deviceId' should be string or object with"+" ".concat(x," as key.")}else{var O=typeof A;throw"Invalid type of 'deviceId' = ".concat(O)}}}var P=typeof a;throw"Invalid type of 'cameraIdOrConfig' = ".concat(P)},r.prototype.computeCanvasDrawConfig=function(a,l,d,p){if(a<=d&&l<=p){var x=(d-a)/2,E=(p-l)/2;return{x,y:E,width:a,height:l}}else{var C=a,v=l;return a>d&&(l=d/a*l,a=d),l>p&&(a=p/l*a,l=p),this.logger.log("Image downsampled from "+"".concat(C,"X").concat(v)+" to ".concat(a,"X").concat(l,".")),this.computeCanvasDrawConfig(a,l,d,p)}},r.prototype.clearElement=function(){if(this.stateManagerProxy.isScanning())throw"Cannot clear while scan is ongoing, close it first.";var a=document.getElementById(this.elementId);a&&(a.innerHTML="")},r.prototype.possiblyUpdateShaders=function(a){this.qrMatch!==a&&(this.hasBorderShaders&&this.borderShaders&&this.borderShaders.length&&this.borderShaders.forEach(function(l){l.style.backgroundColor=a?Wr.BORDER_SHADER_MATCH_COLOR:Wr.BORDER_SHADER_DEFAULT_COLOR}),this.qrMatch=a)},r.prototype.possiblyCloseLastScanImageFile=function(){this.lastScanImageFile&&(URL.revokeObjectURL(this.lastScanImageFile),this.lastScanImageFile=null)},r.prototype.createCanvasElement=function(a,l,d){var p=a,x=l,E=document.createElement("canvas");return E.style.width="".concat(p,"px"),E.style.height="".concat(x,"px"),E.style.display="none",E.id=ni(d)?"qr-canvas":d,E},r.prototype.getShadedRegionBounds=function(a,l,d){if(d.width>a||d.height>l)throw"'config.qrbox' dimensions should not be greater than the dimensions of the root HTML element.";return{x:(a-d.width)/2,y:(l-d.height)/2,width:d.width,height:d.height}},r.prototype.possiblyInsertShadingElement=function(a,l,d,p){if(!(l-p.width<1||d-p.height<1)){var x=document.createElement("div");x.style.position="absolute";var E=(l-p.width)/2,C=(d-p.height)/2;if(x.style.borderLeft="".concat(E,"px solid rgba(0, 0, 0, 0.48)"),x.style.borderRight="".concat(E,"px solid rgba(0, 0, 0, 0.48)"),x.style.borderTop="".concat(C,"px solid rgba(0, 0, 0, 0.48)"),x.style.borderBottom="".concat(C,"px solid rgba(0, 0, 0, 0.48)"),x.style.boxSizing="border-box",x.style.top="0px",x.style.bottom="0px",x.style.left="0px",x.style.right="0px",x.id="".concat(Wr.SHADED_REGION_ELEMENT_ID),l-p.width<11||d-p.height<11)this.hasBorderShaders=!1;else{var v=5,w=40;this.insertShaderBorders(x,w,v,-v,null,0,!0),this.insertShaderBorders(x,w,v,-v,null,0,!1),this.insertShaderBorders(x,w,v,null,-v,0,!0),this.insertShaderBorders(x,w,v,null,-v,0,!1),this.insertShaderBorders(x,v,w+v,-v,null,-v,!0),this.insertShaderBorders(x,v,w+v,null,-v,-v,!0),this.insertShaderBorders(x,v,w+v,-v,null,-v,!1),this.insertShaderBorders(x,v,w+v,null,-v,-v,!1),this.hasBorderShaders=!0}a.append(x)}},r.prototype.insertShaderBorders=function(a,l,d,p,x,E,C){var v=document.createElement("div");v.style.position="absolute",v.style.backgroundColor=Wr.BORDER_SHADER_DEFAULT_COLOR,v.style.width="".concat(l,"px"),v.style.height="".concat(d,"px"),p!==null&&(v.style.top="".concat(p,"px")),x!==null&&(v.style.bottom="".concat(x,"px")),C?v.style.left="".concat(E,"px"):v.style.right="".concat(E,"px"),this.borderShaders||(this.borderShaders=[]),this.borderShaders.push(v),a.appendChild(v)},r.prototype.showPausedState=function(){if(!this.scannerPausedUiElement)throw"[internal error] scanner paused UI element not found";this.scannerPausedUiElement.style.display="block"},r.prototype.hidePausedState=function(){if(!this.scannerPausedUiElement)throw"[internal error] scanner paused UI element not found";this.scannerPausedUiElement.style.display="none"},r.prototype.getTimeoutFps=function(a){return 1e3/a},r})(),vp;(function(r){r[r.STATUS_DEFAULT=0]="STATUS_DEFAULT",r[r.STATUS_SUCCESS=1]="STATUS_SUCCESS",r[r.STATUS_WARNING=2]="STATUS_WARNING",r[r.STATUS_REQUESTING_PERMISSION=3]="STATUS_REQUESTING_PERMISSION"})(vp||(vp={}));function qA(){const[r,a]=T.useState(!1),[l,d]=T.useState(null),[p,x]=T.useState(!1),[E,C]=T.useState(""),[v,w]=T.useState(null),b=T.useRef(null),A=T.useRef(null),{toast:O}=Wt(),P=bn({mutationFn:K=>Nn("POST","/api/attendance/scan",K),onSuccess:()=>{x(!1),C(""),d(null),O({title:"Success!",description:"Your attendance has been marked"})},onError:K=>{O({title:"Error",description:K.message||"Failed to mark attendance",variant:"destructive"})}}),F=async()=>{try{const K=new YA("qr-reader");b.current=K,await K.start({facingMode:"environment"},{fps:10,qrbox:{width:250,height:250}},re=>{try{const le=JSON.parse(re);le.sessionId&&le.token&&(d(le),K.stop(),a(!1),x(!0))}catch{O({title:"Invalid QR Code",description:"Please scan a valid attendance QR code",variant:"destructive"})}},()=>{}),a(!0)}catch{O({title:"Camera Error",description:"Unable to access camera",variant:"destructive"})}},R=async()=>{b.current&&(await b.current.stop(),a(!1))},L=async()=>{try{const K=await navigator.mediaDevices.getUserMedia({video:{facingMode:"user"}});w(K),A.current&&(A.current.srcObject=K)}catch{O({title:"Camera Error",description:"Unable to access front camera",variant:"destructive"})}},G=()=>{if(!A.current)return;const K=document.createElement("canvas");K.width=A.current.videoWidth,K.height=A.current.videoHeight;const re=K.getContext("2d");if(re){re.drawImage(A.current,0,0);const le=K.toDataURL("image/jpeg",.8);C(le),H()}},H=()=>{v&&(v.getTracks().forEach(K=>K.stop()),w(null))},V=()=>{l&&E&&P.mutate({sessionId:l.sessionId,token:l.token,selfieDataUrl:E})};return T.useEffect(()=>{p&&!v&&!E&&L()},[p]),T.useEffect(()=>()=>{R(),H()},[]),s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:"Scan QR Code"}),s.jsx("p",{className:"text-muted-foreground mt-2",children:"Scan the QR code displayed by your lecturer"})]}),s.jsxs(_e,{className:"max-w-2xl mx-auto",children:[s.jsxs(qe,{children:[s.jsx(Ze,{children:"QR Scanner"}),s.jsx(ur,{children:"Position the QR code within the frame"})]}),s.jsx(De,{className:"space-y-4",children:r?s.jsxs("div",{className:"space-y-4",children:[s.jsx("div",{id:"qr-reader",className:"rounded-lg overflow-hidden","data-testid":"qr-reader"}),s.jsx(Ve,{variant:"destructive",onClick:R,className:"w-full","data-testid":"button-stop-scan",children:"Stop Scanning"})]}):s.jsxs("div",{className:"flex flex-col items-center justify-center py-12 space-y-4",children:[s.jsx("div",{className:"h-16 w-16 rounded-full bg-primary/10 flex items-center justify-center",children:s.jsx(jf,{className:"h-8 w-8 text-primary"})}),s.jsx("p",{className:"text-sm text-muted-foreground text-center",children:"Click the button below to start scanning"}),s.jsxs(Ve,{onClick:F,"data-testid":"button-start-scan",children:[s.jsx(jf,{className:"h-4 w-4 mr-2"}),"Start Scanning"]})]})})]}),s.jsx(yr,{open:p,onOpenChange:x,children:s.jsxs(dr,{children:[s.jsxs(fr,{children:[s.jsx(hr,{children:"Capture Selfie"}),s.jsx(wr,{children:"Take a selfie to verify your attendance"})]}),s.jsx("div",{className:"space-y-4",children:E?s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"relative aspect-square bg-black rounded-lg overflow-hidden",children:s.jsx("img",{src:E,alt:"Selfie preview",className:"w-full h-full object-cover"})}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx(Ve,{variant:"outline",onClick:()=>{C(""),L()},className:"flex-1","data-testid":"button-retake",children:"Retake"}),s.jsx(Ve,{onClick:V,disabled:P.isPending,className:"flex-1","data-testid":"button-submit-attendance",children:P.isPending?s.jsxs(s.Fragment,{children:[s.jsx(Xn,{className:"h-4 w-4 mr-2 animate-spin"}),"Submitting..."]}):s.jsxs(s.Fragment,{children:[s.jsx(Ex,{className:"h-4 w-4 mr-2"}),"Submit"]})})]})]}):s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"relative aspect-square bg-black rounded-lg overflow-hidden",children:[s.jsx("video",{ref:A,autoPlay:!0,playsInline:!0,className:"w-full h-full object-cover","data-testid":"video-selfie"}),s.jsx("div",{className:"absolute inset-0 border-4 border-white/30 rounded-full m-8"})]}),s.jsxs(Ve,{onClick:G,className:"w-full","data-testid":"button-capture-selfie",children:[s.jsx(jf,{className:"h-4 w-4 mr-2"}),"Capture Photo"]})]})})]})})]})}function QA(){return s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:"My Attendance"}),s.jsx("p",{className:"text-muted-foreground mt-2",children:"Your attendance history"})]}),s.jsxs(_e,{children:[s.jsx(qe,{children:s.jsx(Ze,{children:"Attendance History"})}),s.jsx(De,{children:s.jsx("p",{className:"text-muted-foreground",children:"Attendance history coming soon"})})]})]})}function ZA(){return s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:"Exam Applications"}),s.jsx("p",{className:"text-muted-foreground mt-2",children:"Apply for exams"})]}),s.jsxs(_e,{children:[s.jsx(qe,{children:s.jsx(Ze,{children:"My Applications"})}),s.jsx(De,{children:s.jsx("p",{className:"text-muted-foreground",children:"Exam applications coming soon"})})]})]})}function $A(){return s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:"Library"}),s.jsx("p",{className:"text-muted-foreground mt-2",children:"Borrow books and view loans"})]}),s.jsxs(_e,{children:[s.jsx(qe,{children:s.jsx(Ze,{children:"My Loans"})}),s.jsx(De,{children:s.jsx("p",{className:"text-muted-foreground",children:"Library management coming soon"})})]})]})}function JA(){return s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:"Staff Dashboard"}),s.jsx("p",{className:"text-muted-foreground mt-2",children:"Welcome to your dashboard"})]}),s.jsxs(_e,{children:[s.jsx(qe,{children:s.jsx(Ze,{children:"Dashboard"})}),s.jsx(De,{children:s.jsx("p",{className:"text-muted-foreground",children:"Staff dashboard coming soon"})})]})]})}function e8(){return s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:"Library Management"}),s.jsx("p",{className:"text-muted-foreground mt-2",children:"Manage book loans and returns"})]}),s.jsxs(_e,{children:[s.jsx(qe,{children:s.jsx(Ze,{children:"Loans & Returns"})}),s.jsx(De,{children:s.jsx("p",{className:"text-muted-foreground",children:"Library management coming soon"})})]})]})}function t8(){return s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:"Labs & PCs"}),s.jsx("p",{className:"text-muted-foreground mt-2",children:"Manage laboratory and PCs"})]}),s.jsxs(_e,{children:[s.jsx(qe,{children:s.jsx(Ze,{children:"Lab Management"})}),s.jsx(De,{children:s.jsx("p",{className:"text-muted-foreground",children:"Lab management coming soon"})})]})]})}function n8(){return s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:"My Payments"}),s.jsx("p",{className:"text-muted-foreground mt-2",children:"View payment history"})]}),s.jsxs(_e,{children:[s.jsx(qe,{children:s.jsx(Ze,{children:"Payment Records"})}),s.jsx(De,{children:s.jsx("p",{className:"text-muted-foreground",children:"Payment information coming soon"})})]})]})}function r8({children:r}){return s.jsx(UN,{style:{"--sidebar-width":"16rem","--sidebar-width-icon":"3rem"},children:s.jsxs("div",{className:"flex h-screen w-full",children:[s.jsx(oS,{}),s.jsxs("div",{className:"flex flex-col flex-1",children:[s.jsxs("header",{className:"flex items-center justify-between p-4 border-b",children:[s.jsx(VN,{"data-testid":"button-sidebar-toggle"}),s.jsx(aS,{})]}),s.jsx("main",{className:"flex-1 overflow-auto p-6",children:s.jsx("div",{className:"max-w-7xl mx-auto",children:r})})]})]})})}function s8(){const{user:r}=Sa();return r?r.role==="admin"?s.jsxs(ia,{children:[s.jsx(at,{path:"/",component:hS}),s.jsx(at,{path:"/admin/students",component:YS}),s.jsx(at,{path:"/admin/library",component:QS}),s.jsx(at,{path:"/admin/labs",component:m4}),s.jsx(at,{path:"/admin/departments",component:g4}),s.jsx(at,{path:"/admin/departments/:code",component:v4}),s.jsx(at,{path:"/admin/students/:id",component:C4}),s.jsx(at,{path:"/admin/lecturers",component:E4}),s.jsx(at,{path:"/admin/lecturers/:id",component:N4}),s.jsx(at,{path:"/admin/hod",component:F4}),s.jsx(at,{path:"/admin/visiting-lecturers",component:U4}),s.jsx(at,{path:"/admin/staff",component:V4}),s.jsx(at,{path:"/admin/courses",component:W4}),s.jsx(at,{path:"/admin/timetable",component:J4}),s.jsx(at,{path:"/admin/timetable-lecturers",component:tA}),s.jsx(at,{path:"/admin/timetable-lecturers/:id",component:rA}),s.jsx(at,{path:"/admin/timetable-students",component:iA}),s.jsx(at,{path:"/admin/timetable-students/:id",component:oA}),s.jsx(at,{path:"/admin/attendance",component:G4}),s.jsx(at,{path:"/admin/exams",component:X4}),s.jsx(at,{path:"/admin/payments",component:K4}),s.jsx(at,{path:"/admin/import",component:Q4}),s.jsx(at,{path:"/admin/export",component:Z4}),s.jsx(at,{path:"/admin/settings",component:$4}),s.jsx(at,{component:gl})]}):r.role==="lecturer"||r.role==="hod"?s.jsxs(ia,{children:[s.jsx(at,{path:"/",component:aA}),s.jsx(at,{path:"/lecturer/attendance/new",component:gA}),s.jsx(at,{path:"/lecturer/courses",component:yA}),s.jsx(at,{path:"/lecturer/attendance",component:wA}),s.jsx(at,{path:"/lecturer/students",component:vA}),s.jsx(at,{component:gl})]}):r.role==="student"?s.jsxs(ia,{children:[s.jsx(at,{path:"/",component:CA}),s.jsx(at,{path:"/student/scan",component:qA}),s.jsx(at,{path:"/student/attendance",component:QA}),s.jsx(at,{path:"/student/exams",component:ZA}),s.jsx(at,{path:"/student/library",component:$A}),s.jsx(at,{component:gl})]}):r.role==="staff"?s.jsxs(ia,{children:[s.jsx(at,{path:"/",component:JA}),s.jsx(at,{path:"/staff/library",component:e8}),s.jsx(at,{path:"/staff/labs",component:t8}),s.jsx(at,{path:"/staff/payments",component:n8}),s.jsx(at,{component:gl})]}):s.jsxs(ia,{children:[s.jsx(at,{path:"/",component:()=>s.jsxs("div",{className:"text-center py-12",children:[s.jsx("h1",{className:"text-2xl font-bold",children:"Welcome to SLIATE Nawalapitiya"}),s.jsx("p",{className:"text-muted-foreground mt-2",children:"Dashboard coming soon"})]})}),s.jsx(at,{component:gl})]}):s.jsx("div",{children:"Loading..."})}function i8(){return s.jsxs(ia,{children:[s.jsx(at,{path:"/login",component:dS}),s.jsx(at,{path:"/unauthorized",component:fS}),s.jsx(at,{children:s.jsx(bb,{children:s.jsx(r8,{children:s.jsx(s8,{})})})})]})}function o8(){return s.jsx(Lv,{client:on,children:s.jsx(vb,{defaultTheme:"system",storageKey:"sliate-theme",children:s.jsx(dg,{children:s.jsxs(Eb,{children:[s.jsx(z3,{}),s.jsx(i8,{})]})})})})}Qw.createRoot(document.getElementById("root")).render(s.jsx(o8,{}));
